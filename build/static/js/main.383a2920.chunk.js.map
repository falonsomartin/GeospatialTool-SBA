{"version":3,"sources":["utils/events.utils.js","components/snackbar.jsx","components/about.jsx","components/navigator.jsx","components/menu.jsx","components/login.jsx","components/feature.jsx","utils/map.utils.js","components/controllers/styleController.jsx","components/controllers/layerController.jsx","config.js","utils/method.utils.js","utils/request.utils.js","components/controllers/dataController.jsx","plugins/geocoder.plugin.js","plugins/marker.plugin.js","plugins/minimap.plugin.js","components/canvas.jsx","components/popup.jsx","components/controllers/syncController.jsx","components/controllers/treeController.jsx","components/componentsJS/ControlledAccordions__.js","components/controllers/rusleController.jsx","components/componentsJS/ControlledAccordions.js","components/controllers/socController.jsx","components/componentsJS/ControlledAccordions_.js","components/controllers/vegInspectorController.jsx","components/componentsJS/StepperData.js","components/controllers/spatioTemporalAnalysisController.jsx","pages/main.jsx","router/router.js","serviceWorker.js","index.js"],"names":["events_utils","EventEmitter","Snackbar","state","key","handleCloseClick","_this","props","closeSnackbar","_this2","this","action","react_default","a","createElement","Fragment","Button","className","onClick","bind","showSnackbarListener","emitter","addListener","variant","message","console","log","enqueueSnackbar","autoHideDuration","showloggingSnackbarListener","e","concat","persist","setState","hideloggingSnackbarListener","removeListener","React","Component","withSnackbar","styles","root","position","top","zIndex","logoContainer","height","padding","logo","flexContainer","right","display","flexDirection","justifyContent","svgIcon","width","fontIcon","fontSize","toolbar","background","About","modal","document","addEventListener","elem","getElementById","M","Modal","init","destory","id","href","style","src","alt","theme","createTheme","palette","primary","main","grey","Navigator","loggedin","token","handleLoginClick","emit","handleLogoutClick","localStorage","removeItem","cookie","split","forEach","c","replace","Date","toUTCString","handleToken","setLoginStateListener","on","ThemeProvider","AppBar","Toolbar","Tooltip","title","aria-label","enterDelay","IconButton","color","data-target","Icon","bottom","Menu","open","actions","name","icon","callback","handleClose","handleClick","handleOpen","openMenuListener","SpeedDial","ariaLabel","SpeedDialIcon","openIcon","onMouseEnter","onMouseLeave","map","SpeedDialAction","tooltipTitle","axios","defaults","baseURL","withCredentials","indigo","A200","catastralList","interceptors","request","use","config","origin","URL","url","allowedOrigins","getItem","includes","headers","authorization","error","Promise","reject","loginContainer","alignItems","marginBottom","inputBox","marginTop","autocomplete","flexWrap","overflow","checkBox","loginBtnContainer","loginBtn","loginBtnProgress","left","marginLeft","Transition","forwardRef","ref","Slide","Object","assign","direction","Login","remember","logining","mode","selectedOptions","datasets","handleLoginClose","handleRememberChange","target","checked","handleChangeForm","handleChangeAutoComplete","newValue","updatedReferences","option","reference","getUserParcels","_callee","userId","response","regenerator_default","wrap","_context","prev","next","get","sent","status","updateDatasetUtilsFile","data","statusText","t0","stop","_callee2","newUser","userID","_context2","username","value","password","md5","post","setItem","idUser","moveDataset","datos","movedData","parcels","parcel","catastral_ref","geojson_data","loginListener","moveDatasetListener","Dialog","TransitionComponent","onClose","Typography","gutterBottom","TextField","margin","label","type","Autocomplete","multiple","onChange","limitTags","options","getOptionLabel","renderOption","_ref4","selected","Checkbox","marginRight","renderInput","params","placeholder","renderTags","disabled","CircularProgress","size","Feature","tapTarget","getElementsByClassName","setAttribute","elems","querySelectorAll","TapTarget","mapStyles","Satellite","Custom","Standard","borderRadius","header","backgroundColor","closeBtn","stylePreview","cursor","StyleController","handleStyleClick","openStyleControllerListener","closeAllControllerListener","_this3","in","Card","CardContent","component","Grid","container","spacing","keys","item","index","styleCard","xs","content","paddingBottom","select","lineHeight","chipContainer","chip","layerList","layerItem","paddingLeft","sortAction","LayerController","mapp","resolution","zoom","layerForm","datasetss","handleDatasetChange","deleting","length","handleDrop","event","preventDefault","files","dataTransfer","file","reader","FileReader","onload","geoJsonData","JSON","parse","result","objectSpread","defineProperty","readAsText","updateDatasets","layers","newDatasets","layer","values","handleMAPMoved","getStyle","handleDataMoved","handleLayerFormBor","handleLayerFormHex","openLayerControllerListener","setMapZoomListener","z","handleDatasetRemoveListener","handleDatasetRemove","window","handleDragOver","prevProps","removeEventListener","FormControl","InputLabel","shrink","htmlFor","Slider","min","max","step","handleResolutionChange","Select","displayEmpty","input","Input","renderValue","Chip","MenuItem","indexOf","ListItemText","List","ListItem","ListItemAvatar","Avatar","ListItemSecondaryAction","edge","disableRipple","disableFocusRipple","ACCESS_TOKEN","API_ROOT","SERVICE","login","method","logout","getDataset","search","insert","update","delete","checkEmptyObject","obj","_","arr","push","join","parseUrl","successCallback","finallyCallback","errorCallback","err","toString","failedCallback","res","authError","errMsg","fetch","body","stringify","undefined","credentials","then","req","json","hasOwnProperty","success","finally","catch","minWidth","searchField","searchBox","flex","border","searchBoxBtn","searchOptionsContainer","searchOption","searchBoxProgress","searchBoxDivider","resultWrapperOpen","maxWidth","resultWrapperClosed","resultContainer","paddingTop","resultTable","boxShadow","uploadBoxInput","uploadBoxBtnEdit","textAlign","wrapBtn","addPointWrapperOpen","addPointWrapperClose","uploadBoxBtnAdd","previewImageContainer","nameTextField","pinyinTextField","introTextField","locationImageContainer","locationImage","locationLabel","saveBtn","saveBtnProgress","DataController","resultUnwrap","addPointUnwrap","optionsOpen","searching","submitting","anchorEl","geometry","previewImage","previewMapUrl","previewCoordinate","loading","traces","precipitationData","temperatureData","watsatData","animalData","items","layout","xaxis","yaxis","hovermode","plot_bgcolor","paper_bgcolor","searchOptions","initMaterialbox","Materialbox","onOpenStart","parentNode","onCloseEnd","resetPreviewImage","resetNewPointData","handleAddClick","handleWrapClick","fetchData","Content-Type","processAnimalSightings","output","handleImageChange","readAsDataURL","handleDoneEdit","setTimeout","handleSearchOptionsClick","handleSearchOptionsClose","handleSearchOptionChange","flag","currentTarget","handleSearchClick","handleCancelClick","keyword","handlePreviewClick","handlePreviewMapClick","handleSubmitClick","pinyin","introduction","image","gid","handleRowUpdate","newData","oldData","resolve","count","handleRowDelete","toConsumableArray","splice","dataString","Array","isArray","Error","getRandomColor","i","Math","floor","random","speciesSet","reduce","acc","add","Set","from","specie","x","date","y","marker","Image","longitude","openDataControllerListener","updatePointListener","feature","styleCode","_feature$geometry$coo","slicedToArray","coordinates","lng","lat","parseFloat","toFixed","addPointListener","_this$state","index_es","enableSwipe","react_plotly_default","geocoder","query","matches","match","coordinateFeature","center","place_name","place_type","properties","coord1","Number","coord2","geocodes","Uint8Array","onAdd","canvas","context","getContext","render","t","performance","now","clearRect","beginPath","arc","PI","fillStyle","fill","strokeStyle","lineWidth","stroke","getImageData","triggerRepaint","Minimap","_ticking","_lastMouseMoveEvent","_parentMap","_isDragging","_isCursorOverFeature","_previousPoint","_currentPoint","_trackingRectCoordinates","prototype","mapboxgl","NavigationControl","parentMap","_container","_createContainer","_miniMap","Map","attributionControl","_load","_preventDefault","getContainer","appendChild","_zoomAdjust","disable","bounds","getBounds","_convertBoundsToPoints","addSource","addLayer","source","paint","line-color","line-width","line-opacity","fill-color","fill-opacity","_trackingRect","getSource","_update","_mouseMove","_mouseDown","_mouseUp","_miniMapCanvas","getCanvasContainer","lngLat","features","queryRenderedFeatures","point","offset","newBounds","_moveTrackingRect","fitBounds","duration","noMoveStart","_data","_ne","_sw","setData","_setTrackingRectBounds","parentBounds","parentZoom","parseInt","getZoom","flyTo","getCenter","bearing","Canvas","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","removeTempLayer","removeLayer","removeSource","popup","isOpen","remove","removeAllLayer","add3dLayer","labelLayerId","getLayer","moveLayer","source-layer","filter","minzoom","fill-extrusion-color","fill-extrusion-height","fill-extrusion-base","fill-extrusion-opacity","removeTempPoint","draw","tempId","moveMAP","movedMAP","handleURLMoved","movedURL","tiles","tileSize","raster-opacity","updateLegend","visualization_parameters","legend","innerHTML","steps","stepValue","mapContainer","createRef","minimap","gettingPoint","substring","firstFeature","accessToken","supported","current","antialias","MapboxDraw","controls","combine_features","uncombine_features","addControl","MapboxGeocoder","localGeocoder","GeolocateControl","MapboxTraffic","trafficSource","RegExp","Popup","closeButton","anchor","setHTML","classList","_event$lngLat","zoomLevel","setMapStyleListener","setStyle","removeControl","displayDatasetListener","circle-radius","circle-color","flyToGeometry","removeDatasetListener","layerId","moveLayerListener","beforeId","displayTempLayerListener","hasImage","addImage","pixelRatio","icon-image","setLngLat","addTo","removeAllLayerListener","removeTempLayerListener","getPointListener","changeMode","removeTempPointListener","moveMAPistener","alert","titleContainer","titleContainerEnd","nameContainer","popupName","popupPinyin","weatherWidgetContainer","introductionContainer","popupIntroduction","wordWrap","wordBreak","bindPopupListener","el","script","CardMedia","SyncController","openSyncControllerListener","TreeController","Ic","Ih","Ig","Io","If","IoType","sustainabilityIndex","decision","layoutTemperature","layoutPrecipitation","layoutWatsat","barmode","calculateSustainabilityIndex","IoValue","handleDecision","choice","handleSelectChange","processTemperatureData","trace","sampling_date","measurement_value","processPrecipitationData","openTreeControllerListener","_this$state2","fullWidth","useStyles","makeStyles","& .MuiDropzoneArea-root","minHeight","maxHeight","fileDetails","heading","typography","pxToRem","flexBasis","flexShrink","fontWeight","secondaryHeading","text","secondary","checkBoxContainer","formControl","inputLabel","dateInput","foormControl","dropzone","backdrop","drawer","progressText","ControlledAccordions","_ref","onSubmit","classes","_useState","useState","_useState2","setNumericColumns","_useState3","_useState4","_useState5","_useState6","setSelectedOption","_useState7","_useState8","expanded","setExpanded","_useState9","rf","svm","knn","aoiDataFiles","startDate","endDate","satelliteData","sentinel1","sentinel2","landsat","indexes","vegetationIndexes","brightnessIndexes","moistureIndexes","modelFeatures","numberOfTrees","seed","bagFraction","performanceIndicators","rsquare","rmse","mse","mae","rpiq","_useState10","formData","setFormData","_useState11","_useState12","setLoading","_useState13","_useState14","timer","setTimer","useEffect","timerInterval","setInterval","prevTimer","clearInterval","handleChangeExp","panel","isExpanded","handleChange","_event$target","handleSubmit","_ref3","asyncToGenerator","mark","_key","_key2","_key3","FormData","append","apply","arguments","Accordion","AccordionSummary","expandIcon","ExpandMore_default","aria-controls","AccordionDetails","dist_index_es","_ref2","columns","_numericColumns","shp","numericColumns","_x","readAsArrayBuffer","handleFileChange","acceptedFiles","dropzoneText","maxFileSize","filesLimit","getPreviewIcon","fileObject","iconProps","startsWith","Theaters","Description","PictureAsPdf","AttachFile","sm","InputLabelProps","Backdrop","rooot","RusleController","handleDataSubmit","moveURL","openRusleControllerListener","moveURListener","selectedColumn","setSelectedColumn","selectedOption","soilDataFiles","FormGroup","RadioGroup","row","FormControlLabel","control","Radio","labelId","column","inputProps","handleModelFeatures","SocController","openSocControllerListener","ControlledAccordions_ControlledAccordions","indexType","abrupt","VegInspectorController","openVegInspectorControllerListener","openBandControllerListener","componentsJS_ControlledAccordions_ControlledAccordions","HorizontalLinearStepperData","activeStep","setActiveStep","plotData","setPlotData","equipmentType","dataType","_useState15","_useState16","isCompleted","setIsCompleted","handlePreviewIcon","processPlotData","sort","b","sortedData","Value","finish","Box","sx","Stepper","Step","StepLabel","getStepContent","pt","prevActiveStep","SpatioTemporalAnalysisController","openSpatioTemporalAnalysisControllerListener","Main","build","maxSnack","snackbar","about","components_navigator","menu","components_feature","styleController","layerController","socController","rusleController","vegInspectorController","spatioTemporalAnalysisController","treeController","dataController","syncController","components_popup","Router","react_router_dom","react_router","exact","path","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","router","process","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.383a2920.chunk.js","sourcesContent":["/* Written by Ye Liu */\n\nimport { EventEmitter } from 'events';\n\nexport default new EventEmitter();\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport { withSnackbar } from 'notistack';\n\nimport Button from '@material-ui/core/Button';\n\nimport emitter from '@utils/events.utils';\nimport '@styles/snackbar.style.css';\n\nclass Snackbar extends React.Component {\n    state = {\n        key: null\n    }\n\n    handleCloseClick = (key) => {\n        this.props.closeSnackbar(key);\n    }\n\n    componentDidMount() {\n        // Initialize dismiss action\n        const action = (key) => (\n            <React.Fragment>\n                <Button className=\"snackbar-btn white-text\" onClick={this.handleCloseClick.bind(this, key)}>DISMISS</Button>\n            </React.Fragment>\n        );\n        // Bind event listeners\n        this.showSnackbarListener = emitter.addListener('showSnackbar', (variant, message) => {\n            // Show snackbar\n            console.log(message)\n\n            this.props.enqueueSnackbar(message, {\n                variant: variant,\n                autoHideDuration: 3000,\n                action\n            });\n        });\n\n        this.showloggingSnackbarListener = emitter.addListener('showloggingSnackbar', (e) => {\n            // Show persist snackbar\n            var message = `Logging to ${e}...`;\n            var key = this.props.enqueueSnackbar(message, {\n                variant: 'info',\n                persist: true,\n            });\n\n            // Save snackbar key\n            this.setState({\n                key: key\n            });\n        });\n\n        this.hideloggingSnackbarListener = emitter.addListener('hideloggingSnackbar', () => {\n            // Hide persist snackbar\n            this.props.closeSnackbar(this.state.key);\n        });\n    }\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.showSnackbarListener);\n        emitter.removeListener(this.showloggingSnackbarListener);\n        emitter.removeListener(this.hideloggingSnackbarListener);\n    }\n\n    render() {\n        return (\n            <div></div>\n        );\n    }\n}\n\nexport default withSnackbar(Snackbar);\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport M from 'materialize-css';\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 0,\n        zIndex: 900\n    },\n    logoContainer: {\n        height: '60px',\n        padding: '2px 10px 1px 0px;',\n    },\n    logo: {\n        height: '55px',\n    },\n    flexContainer: {\n        position: 'absolute',\n        right: 12,\n        display: 'flex',\n        flexDirection: 'row-reverse',\n        justifyContent: 'flex-start'\n    },\n    svgIcon: {\n        width: 24,\n        height: 24\n    },\n    fontIcon: {\n        fontSize: 29\n    },\n    toolbar:{\n        background: '#89ca92'\n    }\n};\n\nclass About extends React.Component {\n    state = {\n        modal: null\n    }\n\n    componentDidMount() {\n        // Initialize Modal\n        document.addEventListener('DOMContentLoaded', () => {\n            var elem = document.getElementById('about');\n            var modal = M.Modal.init(elem);\n            this.setState({\n                modal: modal\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Destory Modal\n        this.state.modal.destory();\n    }\n\n    render() {\n        return (\n            <div id=\"about\" className=\"modal\">\n                <div className=\"modal-content\">\n                    <h4>About</h4>\n                    <p>\n                    Designed & Written by&nbsp;\n                    <a href=\"https://evenor-tech.com/\">Evenor-Tech</a>.\n                    </p>\n                    <p>\n                        <a style={styles.logoContainer} href=\"https://www.steambioafrica.com/\">\n                        <img style={styles.logo} src=\"./static/assets/eu.png\" alt=\"\" />\n                        </a>\n                    </p>\n                    \n                </div>\n                <div className=\"modal-footer\">\n                    <button className=\"modal-close waves-effect waves-light btn-flat\">OK</button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default About;\n","/* Written by Ye Liu */\n\nimport React from 'react';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Icon from '@material-ui/core/Icon';\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport grey from '@material-ui/core/colors/grey';\n\nimport emitter from '@utils/events.utils';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: grey[900]\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 0,\n        zIndex: 900\n    },\n    logoContainer: {\n        height: '60px',\n        padding: '2px 10px 1px 0px;',\n    },\n    logo: {\n        height: '55px',\n    },\n    flexContainer: {\n        position: 'absolute',\n        right: 12,\n        display: 'flex',\n        flexDirection: 'row-reverse',\n        justifyContent: 'flex-start'\n    },\n    svgIcon: {\n        width: 24,\n        height: 24\n    },\n    fontIcon: {\n        fontSize: 29\n    },\n    toolbar:{\n        background: '#89ca92'\n    }\n};\n\nclass Navigator extends React.Component {\n    state = {\n        loggedin: false,\n        token:null\n    }\n\n    handleLoginClick = () => {\n        // Display login modal\n        emitter.emit('login');\n    }\n\n    handleLogoutClick = () => {\n        // Initiate request\n        // request({\n        //    url: SERVICE.logout.url,\n        //    method: SERVICE.logout.method,\n        //    successCallback: (res) => {\n                // Display snackbar\n                emitter.emit('removeAllLayer');\n                emitter.emit('removeDataset');\n                emitter.emit('removeAllDataset');\n                emitter.emit('handleDatasetRemove');\n                localStorage.removeItem('token');\n                localStorage.removeItem('jwt');\n                document.cookie.split(\";\").forEach(function(c) { document.cookie = c.replace(/^ +/, \"\").replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\"); });\n\n                emitter.emit('showSnackbar', 'success', 'Logout successfully.');\n                // Switch login icon\n                this.setState({\n                    token:null,\n                    loggedin: false\n                })\n            //}\n        //});\n    }\n\n    handleToken = (token) => {\n        console.log('Received token:', token);\n        // Aquí puedes hacer algo con los datos, como establecer el estado\n        this.setState({ token: token });\n    }\n\n    componentDidMount() {\n        // Bind event listener\n        this.setLoginStateListener = emitter.addListener('setLoginState', e => {\n            this.setState({\n                loggedin: e\n            })\n        });\n        emitter.on('handleToken', this.handleToken);\n    }\n\n    componentWillUnmount() {\n        // Remove event listener\n        emitter.removeListener(this.setLoginStateListener);\n    }\n\n    render() {\n        return (\n            <MuiThemeProvider theme={theme} >\n                <AppBar style={styles.root} position=\"static\">\n                    <Toolbar style={styles.toolbar}>\n                        {/* Logo */}\n                        <a style={styles.logoContainer} href=\"https://evenor-tech.com/\">\n                        <img style={styles.logo} src=\"./static/assets/logo.png\" alt=\"\" />\n                        </a>\n\n                        &nbsp;\n                        &nbsp;\n                        &nbsp;\n                        &nbsp;\n\n                        <a style={styles.logoContainer} href=\"https://www.steambioafrica.com/\">\n                        <img style={styles.logo} src=\"./static/assets/bioafrica.png\" alt=\"\" />\n                        </a>\n\n                        {/* Icons */}\n                        <div style={styles.flexContainer}>\n                            <Tooltip title=\"About\" aria-label=\"About\" enterDelay={200}>\n                                <IconButton className=\"icon-container modal-trigger\" aria-label=\"About\" color=\"inherit\" data-target=\"about\">\n                                    <Icon style={styles.fontIcon}>info_outline</Icon>\n                                </IconButton>\n                            </Tooltip>\n                            {this.state.token!=null ?\n                                <Tooltip title=\"Logout\" aria-label=\"Logout\" enterDelay={200}>\n                                    <IconButton className=\"icon-container\" aria-label=\"Logout\" color=\"inherit\" onClick={this.handleLogoutClick}>\n                                        <Icon style={styles.fontIcon}>exit_to_app</Icon>\n                                    </IconButton>\n                                </Tooltip> :\n                                <Tooltip title=\"Login\" aria-label=\"Login\" enterDelay={200}>\n                                    <IconButton className=\"icon-container\" aria-label=\"Login\" color=\"inherit\" onClick={this.handleLoginClick}>\n                                        <Icon style={styles.fontIcon}>account_circle</Icon>\n                                    </IconButton>\n                                </Tooltip>}\n                        </div>\n                    </Toolbar>\n                </AppBar>\n            </MuiThemeProvider>\n        );\n    }\n}\n\nexport default Navigator;\n","/* Written by Ye Liu */\n\nimport React from 'react';\n\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport Icon from '@material-ui/core/Icon';\nimport emitter from '@utils/events.utils';\nimport '@styles/menu.style.css';\nconst styles = {\n    root: {\n        position: 'fixed',\n        right: 24,\n        bottom: 24,\n        zIndex: 1000\n    }\n};\n\nclass Menu extends React.Component {\n    state = {\n        open: false,\n        actions: [\n            {\n                name: 'Switch style',\n                icon: <Icon>brush</Icon>,\n                color: \"red accent-2\",\n                callback: () => {\n                    emitter.emit('closeAllController');\n                    emitter.emit('openStyleController');\n                    this.handleClose();\n                }\n            },\n            {\n                name: 'Spatiotemporal Analysis',\n                icon: <Icon>satellite_alt</Icon>,\n                color: \"orange\",\n                callback: () => {\n                    emitter.emit('closeAllController');\n                    emitter.emit('openSpatioTemporalAnalysisController');\n                    this.handleClose();\n                }\n            },\n            {\n                name: 'Vegetation Index Change Inspector',\n                icon: <Icon>image_search</Icon>,\n                color: \"blue\",\n                callback: () => {\n                    emitter.emit('closeAllController');\n                    emitter.emit('openVegInspectorController');\n                    this.handleClose();\n                }\n            },\n            {\n                name: 'Rusle Modelling',\n                icon: <Icon>grass</Icon>,\n                color: \"green\",\n                callback: () => {\n                    emitter.emit('closeAllController');\n                    emitter.emit('openRusleController');\n                    this.handleClose();\n                }\n            },\n            {\n                name: 'SOC Prediction',\n                icon: <Icon>psychology</Icon>,\n                color: \"purple darken-1\",\n                callback: () => {\n                    emitter.emit('closeAllController');\n                    emitter.emit('openSocController');\n                    this.handleClose();\n                }\n            },\n            {\n                name: 'Configure layers',\n                icon: <Icon>layers</Icon>,\n                color: \"yellow darken-1\",\n                callback: () => {\n                    emitter.emit('closeAllController');\n                    emitter.emit('openLayerController');\n                    this.handleClose();\n                }\n            }\n        ]\n    }\n\n    handleClick = () => {\n        this.setState(state => ({\n            open: !state.open,\n        }));\n    }\n\n    handleOpen = () => {\n        this.setState({\n            open: true\n        });\n    }\n\n    handleClose = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    componentDidMount() {\n        // Bind event listener\n        this.openMenuListener = emitter.addListener('openMenu', () => {\n            this.setState({\n                open: true\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Remove event listener\n        emitter.removeListener(this.openMenuListener);\n    }\n\n    render() {\n        return (\n            <SpeedDial\n                style={styles.root}\n                open={this.state.open}\n                ariaLabel=\"Menu\"\n                icon={<SpeedDialIcon icon={<Icon>menu</Icon>} openIcon={<Icon>clear</Icon>} />}\n                onMouseEnter={this.handleOpen}\n                onMouseLeave={this.handleClose}\n                onClick={this.handleClick}\n            >\n                {this.state.actions.map(action => {\n                    return (\n                        <SpeedDialAction\n                            key={action.name}\n                            className={action.color}\n                            icon={action.icon}\n                            tooltipTitle={action.name}\n                            onClick={action.callback} />\n                    );\n                })}\n            </SpeedDial>\n        );\n    }\n}\n\nexport default Menu;\n","/* Written by Ye Liu */\n\nimport md5 from 'md5';\nimport React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport Slide from '@material-ui/core/Slide';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport indigo from '@material-ui/core/colors/indigo';\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport datasets from '@utils/dataset.utils';\nimport emitter from '@utils/events.utils';\nimport axios from \"axios\";\n\n\naxios.defaults.baseURL = 'http://localhost:5000';  // Asegúrate de que la URL base es correcta\naxios.defaults.withCredentials = true; // Importante para enviar cookies\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst catastralList = [\"41046A010000100000DU\",\"41041A014001860000HF\",\"41041A014001790000HQ\", \"41041A015002920000HF\", \"41041A015002760000HH\", \"41041A015002730000HS\", \"41041A014000920000HF\", \"41041A007003790000HK\", \"41041A005000430000HO\"];\n\nconst apiUrl = 'http://localhost:5000';\n\n\naxios.interceptors.request.use(\n    config => {\n      const { origin } = new URL(config.url);\n      const allowedOrigins = [apiUrl];\n      const token = localStorage.getItem('token');\n      if (allowedOrigins.includes(origin)) {\n        config.headers.authorization = `Bearer ${token}`;\n      }\n      return config;\n    },\n    error => {\n      return Promise.reject(error);\n    }\n  );\n\nconst styles = {\n    loginContainer: {\n        width: 300,\n        height: 350,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n    },\n    title: {\n        marginBottom: 20\n    },\n    inputBox: {\n        width: 240,\n        marginTop: 15\n    },\n    autocomplete: {\n        width: 240,       \n        display: 'flex',\n        flexWrap: 'wrap',\n        overflow: 'auto',\n    },\n    checkBox: {\n        width: 140\n    },\n    loginBtnContainer: {\n        display: 'inline-block',\n        position: 'relative'\n    },\n    loginBtn: {\n        width: 120,\n        marginTop: 20\n    },\n    loginBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -3,\n        marginLeft: -12,\n    }\n};\n\n\n\nconst Transition = React.forwardRef((props, ref) => {\n    return <Slide direction=\"down\" ref={ref} {...props} />;\n});\n\nclass Login extends React.Component {\n    state = {\n        open: false,\n        remember: false,\n        logining: false,\n        mode: 'login',\n        selectedOptions:[],\n        datasets:{}\n    }\n\n    handleLoginClose = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleRememberChange = (e) => {\n        this.setState({\n            remember: e.target.checked\n        });\n    }\n\n    handleChangeForm = (e) => {\n        this.setState({\n            mode: this.state.mode === 'login' ? 'Login' : 'Register'\n        });\n        console.log(this.state.mode)\n    }\n\n    handleChangeAutoComplete = (e, newValue) => {\n        const updatedReferences = newValue.map(option => option.reference);\n        this.setState({ selectedOptions: updatedReferences }, () => {\n            console.log(this.state.selectedOptions);  // This will now output the updated state\n          });\n    };\n\n    getUserParcels = async (userId) => {\n        try {\n            const response = await axios.get(`http://localhost:5000/users/${userId}/parcels`);\n            if (response.status === 200) {\n                this.updateDatasetUtilsFile(response.data);\n                console.log(\"Parcelas recibidas:\", response.data);\n            } else {\n                console.error(\"No se pudieron obtener las parcelas:\", response.statusText);\n            }\n        } catch (error) {\n            console.error(\"Error al obtener las parcelas:\", error);\n        }\n    }\n\n    updateDatasetUtilsFile(parcels) {\n        parcels.forEach(parcel => {\n            datasets[parcel.catastral_ref] = {\n                data: parcel.geojson_data\n            };\n        });\n\n        this.setState({\n            datasets: datasets\n        })\n    \n        console.log(\"Updated datasets:\", this.state.datasets);\n\n        emitter.emit('moveDataset', this.state.datasets);\n    }    \n\n    handleLoginClick = async () => {\n        // Show button progress\n        this.setState({\n            logining: true\n        });\n        const newUser = {\n            username: document.getElementById('username').value,\n            password: md5(document.getElementById('password').value),\n          };\n        // Generate request parameters\n        const response = await axios.post(\n            \"http://localhost:5000/login\",\n            newUser\n          );\n\n\n        if(response.status===200){\n            const userID = response.data.message[0];\n            const token = response.data.message[1];\n            emitter.emit('handleToken', token); // Emitiendo el evento con los datos\n\n            localStorage.removeItem('token'); \n            localStorage.removeItem('jwt');\n            // Limpiar token anterior\n            localStorage.setItem('token', token);  // Almacenar nuevo token\n\n            emitter.emit('showSnackbar', 'success', `User login successfully.`);\n            emitter.emit('setLoginState', true);\n\n            this.getUserParcels(userID);\n\n            // Actualizar el estado una sola vez\n            this.setState({\n                open: false,\n                logining: false,\n                idUser: userID\n            });\n\n            console.log(localStorage.getItem('token'))\n\n        }else{\n\n        }\n    }\n\n\n    moveDataset = () => {\n        var datos = this.state.datasets\n        this.setState({ movedData: datos });\n        console.log(this.state.movedData)\n\n    }\n\n    componentDidMount() {\n        // Bind event listener\n        this.loginListener = emitter.addListener('login', () => {\n            this.setState({\n                open: true\n            });\n            \n        });\n\n        this.moveDatasetListener = emitter.addListener('moveDataset', () => {\n            this.moveDataset();\n        });\n        \n    }\n    \n\n    componentWillUnmount() {\n        // Remove event listener\n        emitter.removeListener(this.loginListener);\n        emitter.removeListener(this.moveDatasetListener);\n\n    }\n\n    render() {\n        return (\n            <MuiThemeProvider theme={theme}>\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleLoginClose}>\n                    <div style={styles.loginContainer}>\n                        {this.state.mode === 'login' ?                         \n                        <><Typography style={styles.title} variant=\"h5\" gutterBottom>Inicio de Sesión</Typography><TextField\n                                style={styles.inputBox}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                id=\"username\"\n                                label=\"Usuario\" /><TextField\n                                    style={styles.inputBox}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    id=\"password\"\n                                    type=\"password\"\n                                    label=\"Contraseña\" /></>\n :                       <><Typography style={styles.title} variant=\"h5\" gutterBottom>Registro</Typography>\n                            <TextField\n                                style={styles.inputBox}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                id=\"username\"\n                                label=\"Usuario\" />\n                            <TextField\n                                style={styles.inputBox}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                id=\"password\"\n                                type=\"password\"\n                                label=\"Contraseña\" />\n\n                            <Autocomplete\n                            style={styles.inputBox}\n                            multiple\n                            onChange={this.handleChangeAutoComplete}\n                            limitTags={1}\n                            id=\"checkboxes-tags-demo\"\n                            options={catastralList}\n                            getOptionLabel={(option) => option}\n                            renderOption={(option, { selected }) => (\n                                <React.Fragment>\n                                <Checkbox\n                                    style={{ marginRight: 1, marginLeft:1 }}\n                                    checked={selected}\n                                />\n                                {option}\n                                </React.Fragment>\n                            )}\n                            renderInput={(params) => (\n                                <TextField id=\"lista\" {...params} variant=\"outlined\" label=\"Checkboxes\" placeholder=\"Favorites\" />\n                            )}\n\n                            renderTags={() => null} // No renderizar tags en el TextField\n\n                            />\n                             </>\n}\n\n                        <div style={styles.loginBtnContainer}>\n                            <Button style={styles.loginBtn} variant=\"contained\" color=\"primary\" disabled={this.state.logining} onClick={this.handleLoginClick}>INICIAR SESIÓN</Button>\n                            {this.state.logining && <CircularProgress style={styles.loginBtnProgress} size={24} />}\n                            <Button style={styles.loginBtn} onClick={this.handleChangeForm} color=\"primary\">\n                            {this.state.mode === 'login' ? 'Register' : 'Login'}\n                        </Button>\n                        </div>\n                    </div>\n                </Dialog>\n            </MuiThemeProvider>\n        );\n    }\n}\n\nexport default Login;\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport M from 'materialize-css';\n\nclass Feature extends React.Component {\n    state = {\n        tapTarget: null\n    }\n\n    componentDidMount() {\n        document.addEventListener('DOMContentLoaded', () => {\n            // Set anchor id\n            document.getElementsByClassName('MuiSpeedDial-fab')[0].setAttribute('id', 'menu');\n\n            // Initialize TapTarget\n            var elems = document.querySelectorAll('.tap-target');\n            var tapTarget = M.TapTarget.init(elems)[0];\n\n            // Display feature\n            tapTarget.open();\n\n            this.setState({\n                tapTarget: tapTarget\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Destory TapTarget\n        this.state.tapTarget.destory();\n    }\n\n    render() {\n        return (\n            <div className=\"tap-target indigo accent-2\" data-target=\"menu\">\n                <div className=\"tap-target-content white-text\">\n                    <h5>Welcome to GeoViewer!</h5>\n                    <p>This is an online, light-weight and user-friendly geographical information visualizer, made with ReactJS + Material-UI + Mapbox-GL.</p>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Feature;\n","/* Written by Ye Liu */\n\nconst mapStyles = {\n    Satellite:'mapbox://styles/mapbox/satellite-v9',\n    Custom:'mapbox://styles/almafe2510/clw7qv6il02ok01qr9w4wdbv0',\n    Standard: ''\n};\n\nconst buildHeatmapStyle = (color) => {\n    const heatmap = {\n        'heatmap-weight': ['interpolate', ['linear'], ['get', 'mag'], 10, 10, 16, 16],\n        'heatmap-intensity': ['interpolate', ['linear'], ['zoom'], 10, 10, 19, 19],\n        'heatmap-radius': ['interpolate', ['linear'], ['zoom'], 10, 12, 19, 30],\n        'heatmap-color': ['interpolate', ['linear'], ['heatmap-density'], 0, 'rgba(0,0,0,0)', 0.2, '#67A9CF', 0.4, '#D1E5F0', 1]\n    };\n\n    heatmap['heatmap-color'].push(color);\n    return heatmap;\n}\n\nconst buildPolygonStyle = (color) => {\n    console.log(color)\n    const polygon = {\n        'fill-color': '#f08',\n        'fill-opacity': 0.4    \n    };\n\n    return polygon;\n}\n\nexport { mapStyles, buildHeatmapStyle, buildPolygonStyle };","/* Written by Ye Liu */\n\nimport React from 'react';\n\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Icon from '@material-ui/core/Icon';\n\nimport emitter from '@utils/events.utils';\nimport { mapStyles } from '@utils/map.utils';\nimport '@styles/styleController.style.css';\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        width: 320,\n        margin: 0,\n        zIndex: 900\n    },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    stylePreview: {\n        width: 60,\n        height: 60,\n        borderRadius: 2,\n        cursor: 'pointer'\n    }\n};\n\nclass StyleController extends React.Component {\n    state = {\n        open: false\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleStyleClick = (e) => {\n        emitter.emit('setMapStyle', e);\n        this.handleCloseClick();\n    }\n\n    componentDidMount() {\n        // Bind event listeners\n        this.openStyleControllerListener = emitter.addListener('openStyleController', () => {\n            this.setState({\n                open: true\n            });\n        });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openStyleControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n    }\n\n    render() {\n        return (\n            <Slide direction=\"left\" in={this.state.open}>\n                <Card style={styles.root}>\n                    {/* Card header */}\n                    <CardContent style={styles.header}>\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">Map Styles</Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">Click to choose a map style</Typography>\n                        <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                            <Icon fontSize=\"inherit\">chevron_right</Icon>\n                        </IconButton>\n                    </CardContent>\n\n                    {/* Card content */}\n                    <CardContent>\n                        <Grid container spacing={2}>\n                            {Object.keys(mapStyles).map((item, index) => {\n                                return (\n                                    <Grid item style={styles.styleCard} key={index} xs={3}>\n                                        <img src={`./static/assets/${item}.png`} alt=\"\" className=\"hoverable\" style={styles.stylePreview} onClick={this.handleStyleClick.bind(this, item)} />\n                                    </Grid>\n                                );\n                            })}\n                        </Grid>\n                    </CardContent>\n                </Card>\n            </Slide>\n        );\n    }\n}\n\nexport default StyleController;\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport emitter from '@utils/events.utils';\nimport { Avatar, Card, CardContent, Chip, Checkbox, FormControl, Icon, IconButton, Input, InputLabel, List, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText, MenuItem, Select, Slide, Tooltip, Typography } from '@material-ui/core';\n\nimport { indigo } from '@material-ui/core/colors';\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\n\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        width: 300,\n        borderRadius: 4,\n        margin: 0,\n        zIndex: 900\n    },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    content: {\n        paddingBottom: 16\n    },\n    select: {\n        width: '100%'\n    },\n    placeholder: {\n        height: 28,\n        lineHeight: '28px',\n        cursor: 'pointer'\n    },\n    chipContainer: {\n        display: 'flex',\n        overflow: 'hidden'\n    },\n    chip: {\n        height: 28,\n        lineHeight: '28px',\n        marginRight: 5\n    },\n    layerList: {\n        marginTop: 6,\n        paddingBottom: 0\n    },\n    layerItem: {\n        paddingLeft: 2\n    },\n    sortAction: {\n        right: 12\n    }\n};\n\nclass LayerController extends React.Component {\n    state = {\n        open: false,\n        mapp:null,\n        selected: {},\n        resolution: 7,\n        zoom: 0,\n        layerForm: 'Border',\n        datasetss: {}\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleDatasetChange = async (e) => {\n        var deleting = false;\n        Object.keys(this.state.selected).map(item => {\n            //emitter.emit('removeDataset', item);\n            deleting = true;\n                    \n            this.setState({\n                selected: {}\n            });\n            return true;\n        });\n\n        if (!deleting && e.target.value.length) {\n            const id = e.target.value[e.target.value.length - 1];\n            emitter.emit('showSnackbar', 'default', `Downloading dataset '${id}'.`);\n            emitter.emit('displayDataset', id, this.state.datasetss[id].data, '#f08');\n            emitter.emit('showSnackbar', 'success', `Dataset '${id}' downloaded successfully.`);\n        }\n\n        \n\n    };\n\n    handleDrop = (event) => {\n        event.preventDefault();\n        const files = event.dataTransfer.files;\n        if (files.length > 0) {\n            const file = files[0];\n            const reader = new FileReader();\n            reader.onload = (e) => {\n                const data = JSON.parse(e.target.result);\n                const geoJsonData = data;\n                this.setState({ datasets: { ...this.state.datasets, [file.name]: { data: geoJsonData } } });\n                emitter.emit('displayDataset', file.name, geoJsonData);\n                emitter.emit('showSnackbar', 'success', `Dataset '${file.name}' downloaded successfully.`);\n            };\n            reader.readAsText(file);\n        }\n    };\n\n    updateDatasets = () => {\n        let layers = this.state.mapp; // Assuming map is passed as a prop\n        let newDatasets = {};\n        \n        console.log(layers);\n        \n        layers.forEach((layer) => {\n            // Filtrar las capas que no pertenezcan a la fuente 'composite'\n            console.log(layer)\n            if (layer.id === \"predictedSOC\") {\n                console.log(layer)\n                // Construir la estructura de newDatasets similar a datasets\n                newDatasets[layer.id] = {\n                    \n                };\n            }\n        });\n\n        console.log(newDatasets)\n    \n        console.log(Object.keys(newDatasets));\n\n        console.log(Object.values(newDatasets));\n\n        this.setState({\n            selected: newDatasets\n        });\n        // Actualizar el estado con el nuevo objeto datasets\n        this.setState({ datasetss: newDatasets});\n\n    }\n    \n\n    componentDidMount() {\n        console.log(\"ASA\")\n        this.openLayerControllerListener = emitter.addListener('openLayerController', () => {\n            this.setState({ open: true });\n        });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({ open: false });\n        });\n\n        this.setMapZoomListener = emitter.addListener('setMapZoom', (z) => {\n            this.setState({ zoom: z });\n        });\n\n        this.handleDatasetRemoveListener = emitter.addListener('handleDatasetRemove', () => {\n            this.handleDatasetRemove();\n        });\n\n        emitter.on('moveDataset', this.handleDataMoved);\n        emitter.on('moveMAP', this.handleMAPMoved);\n\n        window.addEventListener('dragover', this.handleDragOver);\n        window.addEventListener('drop', this.handleDrop);\n\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.map !== prevProps.map) {\n            this.updateDatasets();\n        }\n    }\n\n    handleMAPMoved = (movedData) => {\n        console.log(\"ASASJ\")\n        console.log(movedData)\n        let layers = movedData.getStyle().layers;\n        console.log(layers)\n        this.setState({ mapp: layers });\n        this.updateDatasets();\n    }\n    handleDataMoved = (movedData) => {\n        this.setState({ datasets: movedData });\n    }\n\n    handleDatasetRemove() {\n        this.setState({ datasets: {}, selected: {} });\n    }\n\n    componentWillUnmount() {\n        emitter.removeListener(this.openLayerControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.setMapZoomListener);\n        emitter.removeListener(this.handleDatasetRemoveListener);\n        window.removeEventListener('dragover', this.handleDragOver);\n        window.removeEventListener('drop', this.handleDrop);\n    }\n\n    handleLayerFormBor = () => {\n        this.setState({ layerForm: 'Border' });\n    }\n\n    handleLayerFormHex = () => {\n        this.setState({ layerForm: 'Hexagonal' });\n    }\n\n    render() {\n        console.log(this.state.selected)\n        return (\n            <MuiThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        <CardContent style={styles.header}>\n                            <Typography gutterBottom variant=\"h5\" component=\"h2\">Layers</Typography>\n                            <Typography variant=\"body2\" color=\"textSecondary\">Download and display layers</Typography>\n                            <Tooltip title=\"Hexagons\" aria-label=\"Hexagons\" enterDelay={200}>\n                                <IconButton aria-label=\"Hexagons\" onClick={this.handleLayerFormHex}>\n                                    <Icon fontSize=\"inherit\">crop</Icon>\n                                </IconButton>\n                            </Tooltip>\n\n                            <Tooltip title=\"Border\" aria-label=\"Border\" enterDelay={200} onClick={this.handleLayerFormBor}>\n                                <IconButton aria-label=\"Border\">\n                                    <Icon fontSize=\"inherit\">border_style</Icon>\n                                </IconButton>\n                            </Tooltip>\n\n                            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n                        {this.state.layerForm === 'Hexagonal' ?\n                            <CardContent style={this.state.selected.length ? styles.content : null}>\n                                <FormControl style={styles.select}>\n                                    <InputLabel shrink htmlFor=\"resolution-label\">Resolution</InputLabel>\n                                    &nbsp;&nbsp;&nbsp;\n                                    <Slider\n                                        value={this.state.resolution}\n                                        min={1}\n                                        max={15}\n                                        step={1}\n                                        onChange={this.handleResolutionChange}\n                                    />\n                                    <Select\n                                        displayEmpty\n                                        value={this.state.selected}\n                                        onChange={this.handleDatasetChange}\n                                        input={<Input id=\"dataset-label\" />}\n                                        renderValue={selected => (\n                                            selected.length ?\n                                                <div style={styles.chipContainer}>\n                                                    {Object.keys(this.state.selected).map(item => (\n                                                        <Chip key={item} style={styles.chip} label={item} />\n                                                    ))}\n                                                </div> :\n                                                <InputLabel style={styles.placeholder}>Choose layers</InputLabel>\n                                        )}\n                                    >\n                                        {Object.keys(this.state.datasetss).map(item => (\n                                            <MenuItem key={item} value={item}>\n                                                <Checkbox\n                                                    checked={Object.keys(this.state.selected).indexOf(item) > -1}\n                                                    color=\"primary\"\n                                                    onChange={this.handleDatasetChange}\n                                                    value={item}\n                                                />\n                                                <ListItemText primary={item} />\n                                            </MenuItem>\n                                        ))}\n                                    </Select>\n                                </FormControl>\n                                    <List id=\"layers\" style={styles.layerList}>\n                                    {Object.keys(this.state.selected).map(item => (\n                                            <ListItem style={styles.layerItem} key={item}>\n                                                <ListItemAvatar>\n                                                    <Avatar>\n                                                        <Icon color=\"action\">layers</Icon>\n                                                    </Avatar>\n                                                </ListItemAvatar>\n                                                <ListItemText primary={item} />\n                                                <ListItemSecondaryAction style={styles.sortAction}>\n                                                    <IconButton className=\"handle\" edge=\"end\" aria-label=\"Sort\" disableRipple disableFocusRipple>\n                                                        <Icon>menu</Icon>\n                                                    </IconButton>\n                                                </ListItemSecondaryAction>\n                                            </ListItem>\n                                        ))}\n                                    </List>\n                            </CardContent>\n                            : <CardContent style={Object.keys(this.state.selected).length ? styles.content : null}>\n                                <FormControl style={styles.select}>\n                                    <Select\n                                        displayEmpty\n                                        value={this.state.selected}\n                                        onChange={this.handleDatasetChange}\n                                        input={<Input id=\"dataset-label\" />}\n                                        renderValue={selected => (\n                                            selected.length ?\n                                                <div style={styles.chipContainer}>\n                                                    {Object.keys(this.state.selected).map(item => (\n                                                        <Chip key={item} style={styles.chip} label={item} />\n                                                    ))}\n                                                </div> :\n                                                <InputLabel style={styles.placeholder}>Choose layers</InputLabel>\n                                        )}\n                                    >\n                                        {Object.keys(this.state.datasetss).map(item => (\n                                            <MenuItem key={item} value={item}>\n                                                <Checkbox\n                                                    checked={Object.keys(this.state.selected).indexOf(item) > -1}\n                                                    color=\"primary\"\n                                                    onChange={this.handleDatasetChange}\n                                                    value={item}\n                                                />\n                                                <ListItemText primary={item} />\n                                            </MenuItem>\n                                        ))}\n                                    </Select>\n                                </FormControl>\n                                    <List id=\"layers\" style={styles.layerList}>\n                                        {Object.keys(this.state.selected).map(item => (\n                                            <ListItem style={styles.layerItem} key={item}>\n                                                <ListItemAvatar>\n                                                    <Avatar>\n                                                        <Icon color=\"action\">layers</Icon>\n                                                    </Avatar>\n                                                </ListItemAvatar>\n                                                <ListItemText primary={item} />\n                                                <ListItemSecondaryAction style={styles.sortAction}>\n                                                    <IconButton className=\"handle\" edge=\"end\" aria-label=\"Sort\" disableRipple disableFocusRipple>\n                                                        <Icon>menu</Icon>\n                                                    </IconButton>\n                                                </ListItemSecondaryAction>\n                                            </ListItem>\n                                        ))}\n                                    </List>\n                            </CardContent>}\n                    </Card>\n                </Slide>\n            </MuiThemeProvider>\n        );\n    }\n}\n\nexport default LayerController;","/* Written by Ye Liu */\n\n// Mapbox-GL library access token\nconst ACCESS_TOKEN = 'pk.eyJ1IjoiYWxtYWZlMjUxMCIsImEiOiJjbGdxandyNTcwcjAyM2htcms4d2p0bjdsIn0.CHmWlpKySeT-H08_G7a5gw';\n\n// Server host URL\nconst API_ROOT = 'http://localhost:9000/api/v1';\n\nconst SERVICE = {\n    // User login interface\n    login: {\n        url: `${API_ROOT}/users`,\n        method: 'POST'\n    },\n\n    // User logout interface\n    logout: {\n        url: `${API_ROOT}/logout`,\n        method: 'POST'\n    },\n\n    // Dataset fetching interface\n    getDataset: {\n        url: `${API_ROOT}/getDataset`,\n        method: 'GET'\n    },\n\n    // Spatial query interface\n    search: {\n        url: `${API_ROOT}/search`,\n        method: 'GET'\n    },\n\n    // Insert spatial object interface\n    insert: {\n        url: `${API_ROOT}/insert`,\n        method: 'POST'\n    },\n\n    // Update spatial object interface\n    update: {\n        url: `${API_ROOT}/update`,\n        method: 'POST'\n    },\n\n    // Delete spatial object interface\n    delete: {\n        url: `${API_ROOT}/delete`,\n        method: 'POST'\n    }\n}\n\nexport { ACCESS_TOKEN, SERVICE };\n","/* Written by Ye Liu */\n\n// Check if an object is empty\nconst checkEmptyObject = (obj) => {\n    for (var _ in obj) {\n        return false;\n    }\n    return true;\n}\n\nexport { checkEmptyObject };\n","/* Written by Ye Liu */\n\nimport emitter from '@utils/events.utils';\n\nconst parseUrl = (url, params) => {\n    // Return if no parameters to be used\n    if (!params) {\n        return;\n    }\n\n    // Generate URL with parameters\n    var arr = [];\n    Object.keys(params).map(key => {\n        arr.push(key + '=' + params[key]);\n        return true;\n    })\n\n    return url + '?' + arr.join('&');\n}\n\nconst request = (options) => {\n    // Save parameters\n    var url = options.method === 'GET' && options.params ? parseUrl(options.url, options.params) : options.url;\n    options.successCallback = options.successCallback || (() => { });\n    options.finallyCallback = options.finallyCallback || (() => { });\n    options.errorCallback = options.errorCallback || ((err) => emitter.emit('showSnackbar', 'error', err.toString()));\n    options.failedCallback = options.failedCallback || ((res) => {\n        if (res.authError) {\n            emitter.emit('login');\n            emitter.emit('setLoginState', false);\n        }\n        emitter.emit('showSnackbar', 'error', res.errMsg);\n    });\n\n    // Fetch data\n    fetch(url, {\n        method: options.method,\n        body: options.method === 'POST' ? JSON.stringify(options.params) : undefined,\n        credentials: options.credentials || 'include'\n    })\n        .then(req => req.json())\n        .then(res => res.hasOwnProperty('success') && !res.success ? options.failedCallback(res) : options.successCallback(res))\n        .finally(options.finallyCallback)\n        .catch(options.errorCallback);\n}\n\nexport default request;\n","/* Written by Ye Liu */\n\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Slide from '@material-ui/core/Slide';\nimport indigo from '@material-ui/core/colors/indigo';\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport M from 'materialize-css';\nimport React from 'react';\nimport Carousel from 'react-elastic-carousel';\n\nimport { ACCESS_TOKEN, SERVICE } from '@/config';\nimport emitter from '@utils/events.utils';\nimport { checkEmptyObject } from '@utils/method.utils';\nimport request from '@utils/request.utils';\nimport Plot from 'react-plotly.js';\n\nimport '@styles/dataController.style.css';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        minWidth: 350,\n        margin: 0,\n        width:900,\n        zIndex: 900\n    },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass DataController extends React.Component {\n    state = {\n        open: false,\n        resultUnwrap: false,\n        addPointUnwrap: false,\n        optionsOpen: false,\n        searching: false,\n        submitting: false,\n        anchorEl: null,\n        geometry: null,\n        previewImage: null,\n        previewMapUrl: null,\n        previewCoordinate: {},\n        loading: true,\n        traces: [],\n        precipitationData:[],\n        temperatureData: [],\n        watsatData: [],\n        animalData:[],\n        \n        items: [\n            {id: 1, title: 'item #1'},\n            {id: 2, title: 'item #2'},\n            {id: 3, title: 'item #3'},\n            {id: 4, title: 'item #4'},\n            {id: 5, title: 'item #5'}\n          ]\n        ,\n        data: [],\n        layout : {\n            title: 'Avistamientos de Animales por Localidad',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: {\n                title: 'Número de Avistamientos'\n            },\n            hovermode: 'closest', // Mejora la interacción al pasar el mouse sobre los datos\n            plot_bgcolor: \"white\", // Fondo blanco para la gráfica\n            paper_bgcolor: \"white\", // Fondo blanco para el área exterior de la gráfica\n        },\n        \n        searchOptions: [\n            {\n                value: 'gid',\n                label: 'Gid',\n                checked: true\n            },\n            {\n                value: 'name',\n                label: 'Name',\n                checked: true\n            },\n            {\n                value: 'pinyin',\n                label: 'Pinyin',\n                checked: true\n            },\n            {\n                value: 'introduction',\n                label: 'Introduction',\n                checked: false\n            }\n        ]\n    }\n\n    initMaterialbox = () => {\n        var elems = document.querySelectorAll('.materialboxed');\n        M.Materialbox.init(elems, {\n            onOpenStart: (e) => {\n                e.parentNode.style.overflow = 'visible';\n            },\n            onCloseEnd: (e) => {\n                e.parentNode.style.overflow = 'hidden';\n            }\n        });\n    }\n    \n    resetPreviewImage = () => {\n        this.setState({\n            previewImage: null\n        });\n    }\n\n    resetNewPointData = () => {\n        this.setState({\n            previewMapUrl: null,\n            geometry: null,\n            previewCoordinate: {}\n        });\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleAddClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        // Exit search mode\n        this.handleWrapClick();\n\n        // Initialize new point data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n    fetchData = () => {\n        \n        fetch('http://localhost:5000/animales_por_localidad', {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        })\n        .then(response => response.json())\n        .then(data => {\n            this.processAnimalSightings(data.output);\n        })\n        .catch((error) => {\n            console.error('Error:', error);\n            emitter.emit('showSnackbar', 'error', 'Error: Something happened extracting the data.');\n        });\n\n    }\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n\n    handleImageChange = (e) => {\n        // Check if file selected\n        if (!e.target.files[0]) {\n            return;\n        }\n\n        // Check image size (smaller than 1MB)\n        if (e.target.files[0].size > 1048576) {\n            emitter.emit('showSnackbar', 'error', 'Error: Image must be smaller than 1MB.');\n            return;\n        }\n\n        // Encode image with base64\n        this.state.reader.readAsDataURL(e.target.files[0]);\n    }\n\n    handleDoneEdit = () => {\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Initialize Materialbox\n        setTimeout(this.initMaterialbox, 800);\n    }\n\n    handleSearchOptionsClick = () => {\n        this.setState({\n            optionsOpen: true\n        });\n    }\n\n    handleSearchOptionsClose = () => {\n        this.setState({\n            optionsOpen: false\n        });\n    }\n\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handleSearchClick = () => {\n        // Exit add point mode\n        this.handleCancelClick();\n\n        // Get keyword\n        var keyword = document.getElementById('search-box').value;\n        if (!keyword) {\n            return;\n        }\n\n        // Show searching progress\n        this.setState({\n            searching: true\n        });\n\n        // Get search options\n        var options = {};\n        this.state.searchOptions.map(item => {\n            options[item.value] = item.checked;\n            return true;\n        });\n\n        // Initiate request\n        request({\n            url: SERVICE.search.url,\n            method: SERVICE.search.method,\n            params: {\n                keyword: keyword,\n                options: JSON.stringify(options)\n            },\n            successCallback: (res) => {\n                // Display data\n                this.setState({\n                    addPointWrapperClose: false,\n                    resultUnwrap: true,\n                    data: res.data\n                }, this.initMaterialbox);\n            },\n            finallyCallback: () => {\n                // Show search button\n                this.setState({\n                    searching: false\n                });\n            }\n        });\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSubmitClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Show button progress\n        this.setState({\n            submitting: true\n        });\n\n        // Generate request parameters\n        var params = {\n            name: document.getElementById('name').value,\n            pinyin: document.getElementById('pinyin').value,\n            introduction: document.getElementById('introduction').value,\n            image: this.state.previewImage ? this.state.previewImage : {},\n            geometry: this.state.geometry\n        };\n\n        // Initiate request\n        request({\n            url: SERVICE.insert.url,\n            method: SERVICE.insert.method,\n            params: params,\n            successCallback: (res) => {\n                // Show snackbar\n                emitter.emit('showSnackbar', 'success', `Insert new object with Gid = '${res.gid}' successfully.`);\n\n                this.handleCancelClick();\n            },\n            finallyCallback: () => {\n                this.setState({\n                    searching: false,\n                    submitting: false\n                });\n            }\n        });\n    }\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleRowUpdate = (newData, oldData) => {\n        return new Promise(resolve => {\n            // Check if Gid changed\n            if (oldData.gid !== newData.gid) {\n                emitter.emit('showSnackbar', 'error', \"Column 'Gid' is readonly.\");\n            }\n\n            // Generate request parameters\n            var params = {\n                gid: oldData.gid\n            };\n\n            if (this.state.previewImage) {\n                newData.image = this.state.previewImage;\n            } else {\n                newData.image = {};\n            }\n\n            Object.keys(newData).map(key => {\n                if (key !== 'geometry' && newData[key] !== oldData[key]) {\n                    params[key] = newData[key]\n                }\n                return true;\n            });\n\n            // return if nothing to update\n            if (checkEmptyObject(params)) {\n                emitter.emit('showSnackbar', 'default', 'Nothing to update.');\n                return;\n            }\n\n            // Initiate request\n            request({\n                url: SERVICE.update.url,\n                method: SERVICE.update.method,\n                params: params,\n                successCallback: (res) => {\n                    // Show success snackbar\n                    var message = `Update ${res.count} ${res.count > 1 ? 'objects' : 'object'} successfully.`;\n                    emitter.emit('showSnackbar', 'success', message);\n\n                    // Refresh table\n                    var data = this.state.data;\n                    data[data.indexOf(oldData)] = newData;\n                    this.setState({\n                        data: data\n                    });\n                },\n                finallyCallback: () => {\n                    // Resolve promise\n                    resolve();\n\n                    // Exit edit mode\n                    this.handleDoneEdit();\n                }\n            });\n        });\n    }\n\n    handleRowDelete = (oldData) => {\n        return new Promise(resolve => {\n            // Initiate request\n            request({\n                url: SERVICE.delete.url,\n                method: SERVICE.delete.method,\n                params: {\n                    gid: oldData.gid\n                },\n                successCallback: (res) => {\n                    // Show success snackbar\n                    var message = `Delete ${res.count} ${res.count > 1 ? 'objects' : 'object'} successfully.`;\n                    emitter.emit('showSnackbar', 'success', message);\n\n                    // Refresh table\n                    var data = [...this.state.data];\n                    data.splice(data.indexOf(oldData), 1);\n                    this.setState({ ...this.state, data });\n                },\n                finallyCallback: () => {\n                    // Resolve promise\n                    resolve();\n\n                    // Remove temp layer\n                    emitter.emit('removeTempLayer');\n\n                    // Exit edit mode\n                    this.handleDoneEdit();\n                }\n            });\n        });\n    }\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n      //  this.fetchData();\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openDataControllerListener = emitter.addListener('openDataController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n    }\n\n \n    \n   \n    processAnimalSightings = (dataString) => {\n        let data;\n        // Intentar parsear el string JSON a un objeto JavaScript\n        try {\n            data = JSON.parse(dataString);\n            if (!Array.isArray(data)) {\n                throw new Error(\"Parsed data is not an array\");\n            }\n        } catch (error) {\n            console.error(\"Error parsing data:\", error);\n            this.setState({ loading: false, error: \"Invalid data format received\" });\n            return;\n        }\n    \n        const getRandomColor = () => {\n            const letters = '0123456789ABCDEF';\n            let color = '#';\n            for (let i = 0; i < 6; i++) {\n                color += letters[Math.floor(Math.random() * 16)];\n            }\n            return color;\n        };\n    \n        // Crear un conjunto único de especies\n        const speciesSet = data.reduce((acc, item) => {\n            Object.keys(item).forEach(key => {\n                if (key !== 'date' && key !== 'localidad') {\n                    acc.add(key);\n                }\n            });\n            return acc;\n        }, new Set());\n    \n        // Crear trazas para cada especie\n        const traces = Array.from(speciesSet).map(specie => ({\n            type: 'bar',\n            name: specie,\n            x: data.map(item => new Date(item.date)),\n            y: data.map(item => item[specie] || 0),\n            marker: { color: getRandomColor() }\n        }));\n    \n        this.setState({\n            animalData: traces,\n            loading: false\n        });\n    }\n    \n    \n    \n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openDataControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n\n        // Destory Materialbox\n        //                         {loading ? <p>Cargando datos...</p> : <Plot data={traces} layout={layout} />}\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {\n        const { layout, animalData } = this.state;\n        \n        return (\n            <MuiThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n\n                        <Carousel enableSwipe={false}>\n                        <Plot data={animalData} layout={layout} />\n                        </Carousel>\n\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </MuiThemeProvider >\n        );\n    }\n}\n\nexport default DataController;\n","/* Written by Ye Liu */\n\nconst geocoder = (query) => {\n    var matches = query.match(/^[ ]*(?:Lat: )?(-?\\d+\\.?\\d*)[, ]+(?:Lng: )?(-?\\d+\\.?\\d*)[ ]*$/i);\n    if (!matches) {\n        return null;\n    }\n\n    var coordinateFeature = (lng, lat) => {\n        return {\n            center: [lng, lat],\n            geometry: {\n                type: 'Point',\n                coordinates: [lng, lat]\n            },\n            place_name: 'Lat: ' + lat + ' Lng: ' + lng,\n            place_type: ['coordinate'],\n            properties: {},\n            type: 'Feature'\n        };\n    };\n\n    var coord1 = Number(matches[1]);\n    var coord2 = Number(matches[2]);\n    var geocodes = [];\n\n    if (coord1 < -90 || coord1 > 90) {\n        geocodes.push(coordinateFeature(coord1, coord2));\n    }\n\n    if (coord2 < -90 || coord2 > 90) {\n        geocodes.push(coordinateFeature(coord2, coord1));\n    }\n\n    if (geocodes.length === 0) {\n        geocodes.push(coordinateFeature(coord1, coord2));\n        geocodes.push(coordinateFeature(coord2, coord1));\n    }\n\n    return geocodes;\n};\n\nexport default geocoder;\n","/* Written by Ye Liu */\n\nconst marker = {\n    width: 200,\n    height: 200,\n    data: new Uint8Array(200 * 200 * 4),\n\n    onAdd: function (map) {\n        const canvas = document.createElement('canvas');\n        canvas.width = this.width;\n        canvas.height = this.height;\n        this.context = canvas.getContext('2d');\n        this.map = map;\n    },\n\n    render: function () {\n        const context = this.context;\n        const t = (performance.now() % 1000) / 1000;\n\n        // Draw outer circle\n        context.clearRect(0, 0, this.width, this.height);\n        context.beginPath();\n        context.arc(this.width / 2, this.height / 2, 70 * t + 30, 0, Math.PI * 2);\n        context.fillStyle = 'rgba(200, 200, 255,' + (1 - t) + ')';\n        context.fill();\n\n        // Draw inner circle\n        context.beginPath();\n        context.arc(this.width / 2, this.height / 2, 30, 0, Math.PI * 2);\n        context.fillStyle = 'rgba(100, 100, 255, 1)';\n        context.strokeStyle = 'white';\n        context.lineWidth = 2 + 4 * (1 - t);\n        context.fill();\n        context.stroke();\n\n        // Update image with data from the canvas\n        this.data = context.getImageData(0, 0, this.width, this.height).data;\n\n        // Keep the map repainting\n        this.map.triggerRepaint();\n\n        return true;\n    }\n};\n\nexport default marker;\n","/* Written by Ye Liu */\n\nimport mapboxgl from 'mapbox-gl';\n\nMinimap.prototype = Object.assign({}, mapboxgl.NavigationControl.prototype, {\n    options: {\n        style: 'mapbox://styles/almafe2510/clw7qv6il02ok01qr9w4wdbv0',\n        center: [0, 0]\n    },\n\n    onAdd: function (parentMap) {\n        this._container = this._createContainer(parentMap);\n        this._parentMap = parentMap;\n\n        this._miniMap = new mapboxgl.Map({\n            attributionControl: false,\n            container: this._container,\n            style: this.options.style,\n            center: this.options.center,\n            zoom: 0\n        });\n\n        this._miniMap.on('load', this._load.bind(this));\n\n        return this._container;\n    },\n\n    _createContainer: function (parentMap) {\n        var container = document.createElement('div');\n\n        container.id = 'minimap';\n        container.className = 'mapboxgl-ctrl mapboxgl-ctrl-minimap';\n        container.addEventListener('contextmenu', this._preventDefault);\n\n        parentMap.getContainer().appendChild(container);\n\n        return container;\n    },\n\n    _preventDefault: function (e) {\n        e.preventDefault();\n    },\n\n    _load: function () {\n        this._zoomAdjust();\n\n        ['dragPan', 'boxZoom', 'dragRotate', 'keyboard', 'doubleClickZoom', 'touchZoomRotate'].map(item => {\n            this._miniMap[item].disable();\n            return true;\n        });\n\n        var bounds = this._miniMap.getBounds();\n        this._convertBoundsToPoints(bounds);\n\n        this._miniMap.addSource('trackingRect', {\n            'type': 'geojson',\n            'data': {\n                'type': 'Feature',\n                'properties': {\n                    'name': 'trackingRect'\n                },\n                'geometry': {\n                    'type': 'Polygon',\n                    'coordinates': this._trackingRectCoordinates\n                }\n            }\n        });\n\n        this._miniMap.addLayer({\n            'id': 'trackingRectOutline',\n            'type': 'line',\n            'source': 'trackingRect',\n            'layout': {},\n            'paint': {\n                'line-color': '#08F',\n                'line-width': 1,\n                'line-opacity': 1\n            }\n        });\n\n        this._miniMap.addLayer({\n            'id': 'trackingRectFill',\n            'type': 'fill',\n            'source': 'trackingRect',\n            'layout': {},\n            'paint': {\n                'fill-color': '#08F',\n                'fill-opacity': 0.25\n            }\n        });\n\n        this._trackingRect = this._miniMap.getSource('trackingRect');\n\n        this._parentMap.on('move', this._update.bind(this));\n        this._parentMap.on('zoom', this._zoomAdjust.bind(this));\n\n        this._miniMap.on('mousemove', this._mouseMove.bind(this));\n        this._miniMap.on('mousedown', this._mouseDown.bind(this));\n        this._miniMap.on('mouseup', this._mouseUp.bind(this));\n\n        this._miniMap.on('touchmove', this._mouseMove.bind(this));\n        this._miniMap.on('touchstart', this._mouseDown.bind(this));\n        this._miniMap.on('touchend', this._mouseUp.bind(this));\n\n        this._miniMapCanvas = this._miniMap.getCanvasContainer();\n        this._miniMapCanvas.addEventListener('wheel', this._preventDefault);\n        this._miniMapCanvas.addEventListener('mousewheel', this._preventDefault);\n\n        this._update();\n    },\n\n    _mouseDown: function (e) {\n        if (this._isCursorOverFeature) {\n            this._isDragging = true;\n            this._previousPoint = this._currentPoint;\n            this._currentPoint = [e.lngLat.lng, e.lngLat.lat];\n        }\n    },\n\n    _mouseUp: function () {\n        this._isDragging = false;\n        this._ticking = false;\n    },\n\n    _mouseMove: function (e) {\n        this._ticking = false;\n\n        var features = this._miniMap.queryRenderedFeatures(e.point, {\n            layers: ['trackingRectFill']\n        });\n\n        if (!this._isCursorOverFeature || features.length <= 0) {\n            this._isCursorOverFeature = features.length > 0;\n            this._miniMapCanvas.style.cursor = this._isCursorOverFeature ? 'move' : '';\n        }\n\n        if (this._isDragging) {\n            this._previousPoint = this._currentPoint;\n            this._currentPoint = [e.lngLat.lng, e.lngLat.lat];\n\n            var offset = [this._currentPoint[0] - this._previousPoint[0], this._currentPoint[1] - this._previousPoint[1]];\n            var newBounds = this._moveTrackingRect(offset);\n\n            this._parentMap.fitBounds(newBounds, {\n                duration: 80,\n                noMoveStart: true\n            });\n        }\n    },\n\n    _moveTrackingRect: function (offset) {\n        var bounds = this._trackingRect._data.properties.bounds;\n\n        bounds._ne.lng += offset[0];\n        bounds._ne.lat += offset[1];\n        bounds._sw.lng += offset[0];\n        bounds._sw.lat += offset[1];\n\n        this._convertBoundsToPoints(bounds);\n        this._trackingRect.setData(this._trackingRect._data);\n\n        return bounds;\n    },\n\n    _setTrackingRectBounds: function (bounds) {\n        this._convertBoundsToPoints(bounds);\n        this._trackingRect._data.properties.bounds = bounds;\n        this._trackingRect.setData(this._trackingRect._data);\n    },\n\n    _convertBoundsToPoints: function (bounds) {\n        this._trackingRectCoordinates[0][0][0] = bounds._ne.lng;\n        this._trackingRectCoordinates[0][0][1] = bounds._ne.lat;\n        this._trackingRectCoordinates[0][1][0] = bounds._sw.lng;\n        this._trackingRectCoordinates[0][1][1] = bounds._ne.lat;\n        this._trackingRectCoordinates[0][2][0] = bounds._sw.lng;\n        this._trackingRectCoordinates[0][2][1] = bounds._sw.lat;\n        this._trackingRectCoordinates[0][3][0] = bounds._ne.lng;\n        this._trackingRectCoordinates[0][3][1] = bounds._sw.lat;\n        this._trackingRectCoordinates[0][4][0] = bounds._ne.lng;\n        this._trackingRectCoordinates[0][4][1] = bounds._ne.lat;\n    },\n\n    _update: function () {\n        if (this._isDragging) {\n            return;\n        }\n\n        var parentBounds = this._parentMap.getBounds();\n        this._setTrackingRectBounds(parentBounds);\n    },\n\n    _zoomAdjust: function () {\n        var parentZoom = parseInt(this._parentMap.getZoom());\n        this._miniMap.flyTo({\n            center: this._parentMap.getCenter(),\n            zoom: parentZoom < 4 ? 0 : parentZoom - 3,\n            bearing: 0\n        });\n    }\n});\n\nfunction Minimap(options) {\n    Object.assign(this.options, options);\n\n    this._ticking = false;\n    this._lastMouseMoveEvent = null;\n    this._parentMap = null;\n    this._isDragging = false;\n    this._isCursorOverFeature = false;\n    this._previousPoint = [0, 0];\n    this._currentPoint = [0, 0];\n    this._trackingRectCoordinates = [[[], [], [], [], []]];\n}\n\nexport default Minimap;\n","import MapboxDraw from '@mapbox/mapbox-gl-draw';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport MapboxTraffic from '@mapbox/mapbox-gl-traffic';\nimport mapboxgl from 'mapbox-gl';\nimport React from 'react';\n\n\nimport geocoder from '@plugins/geocoder.plugin';\nimport marker from '@plugins/marker.plugin';\nimport Minimap from '@plugins/minimap.plugin';\n\nimport { ACCESS_TOKEN } from '@/config';\nimport '@styles/map.style.css';\nimport emitter from '@utils/events.utils';\nimport { mapStyles } from '@utils/map.utils';\n\nconst styles = {\n    root: {\n        width: '100%',\n        position: 'fixed',\n        top: 64,\n        bottom: 0\n    }\n};\n\nclass Canvas extends React.Component {\n    constructor(props) {\n        super(props);\n        this.mapContainer = React.createRef();\n        this.state = {\n            map: null,\n            draw: null,\n            minimap: null,\n            popup: null,\n            gettingPoint: null,\n            tempId: null,\n            styleCode: Object.values(mapStyles)[0].substring(16)\n        }    \n    }\n    \n    flyToGeometry(map, geometry) {\n        const type = geometry.type;\n        let coordinates;\n    \n        if (type === 'FeatureCollection') {\n            // Si es una colección de características, toma la primera característica\n            const firstFeature = geometry.features[0];\n            console.log(firstFeature)\n            coordinates = firstFeature.geometry.coordinates;\n\n        } else if (type === 'Feature') {\n            coordinates = geometry.geometry.coordinates;\n        } else {\n            // Asume que es una estructura GeoJSON directa\n            coordinates = geometry.coordinates;\n        }\n    \n        // Ajuste en base al tipo de geometría\n        if (geometry.features[0].geometry.type === 'Polygon') {\n            // Usa el primer conjunto de coordenadas del primer polígono\n            console.log(coordinates)\n            this.state.map.flyTo({\n                center: coordinates[0][0], // Coordenadas del primer punto del polígono\n                zoom: 15 // Ajusta según necesidades\n            });\n        } else if (geometry.features[0].geometry.type === 'Point') {\n            // Vuela directamente al punto\n            this.state.map.flyTo({\n                center: coordinates,\n                zoom: 17 // Ajusta según necesidades\n            });\n        }\n    }    \n\n    removeTempLayer = () => {\n        // Remove layers\n        const layers = this.state.map.getStyle().layers;\n        console.log(layers)\n        this.setState({\n            map: null\n        })\n        layers.map(layer => {\n            if (layer.id === 'custom-temp-point') {\n                this.state.map.removeLayer('custom-temp-point');\n                this.state.map.removeSource('custom-temp-point');\n            }\n            return true;\n        });\n\n        // Remove popup\n        if (this.state.popup.isOpen()) {\n            this.state.popup.remove();\n        }\n    }\n\n    removeAllLayer = () => {\n        // Remove layers\n        const layers = this.state.map.getStyle().layers;\n\n        layers.map(layer => {\n            if (layer.id.includes('-points')) {\n                this.state.map.removeLayer(layer.id);\n                this.state.map.removeSource(layer.source);\n            }\n\n            return true;\n        });\n\n        layers.map(layer => {\n            if (layer.id.includes('-boundary')) {\n                this.state.map.removeLayer(layer.id);\n                this.state.map.removeSource(layer.source);\n            }\n\n            return true;\n        });\n\n        // Remove popup\n        if (this.state.popup.isOpen()) {\n            this.state.popup.remove();\n        }\n\n        emitter.emit('handleDatasetRemove');\n    }\n\n    add3dLayer = () => {\n        var layers = this.state.map.getStyle().layers;\n        for (var layer in layers) {\n            if (layer.type === 'symbol' && layer.layout['text-field']) {\n                var labelLayerId = layer.id;\n                break;\n            }\n        }\n\n        if (this.state.map.getLayer('3d-buildings')) {\n            this.state.map.moveLayer('3d-buildings', labelLayerId);\n            return;\n        }\n\n        this.state.map.addLayer({\n            'id': '3d-buildings',\n            'source': 'composite',\n            'source-layer': 'building',\n            'filter': ['==', 'extrude', 'true'],\n            'type': 'fill-extrusion',\n            'minzoom': 12,\n            'paint': {\n                'fill-extrusion-color': '#aaa',\n                'fill-extrusion-height': [\n                    \"interpolate\", [\"linear\"], [\"zoom\"],\n                    15, 0,\n                    15.05, [\"get\", \"height\"]\n                ],\n                'fill-extrusion-base': [\n                    \"interpolate\", [\"linear\"], [\"zoom\"],\n                    15, 0,\n                    15.05, [\"get\", \"min_height\"]\n                ],\n                'fill-extrusion-opacity': .6\n            }\n        }, labelLayerId);\n    }\n\n    removeTempPoint = () => {\n        this.state.draw.delete(this.state.tempId);\n        this.setState({\n            tempId: null\n        });\n    }\n\n    componentDidMount() {\n        // Verify access token\n        mapboxgl.accessToken = ACCESS_TOKEN;\n\n        // Check for browser support\n        if (!mapboxgl.supported()) {\n            alert('Your browser does not support Mapbox GL');\n            return;\n        }\n\n        // Initialize map object\n        const map = new mapboxgl.Map({\n            container: this.mapContainer.current,\n            style: Object.values(mapStyles)[1],\n            center: [-6.002481, 37.377469],\n            zoom: 17,\n            antialias: true\n        });\n        // Initialize map draw plugin\n        const draw = new MapboxDraw({\n            controls: {\n                combine_features: false,\n                uncombine_features: false\n            }\n        });\n\n        // Add map controls\n        const minimap = new Minimap({\n            center: map.getCenter()\n        });\n\n        map.addControl(new MapboxGeocoder({\n            accessToken: mapboxgl.accessToken,\n            mapboxgl: mapboxgl,\n            localGeocoder: geocoder,\n            placeholder: 'Search Address',\n            marker: {\n                color: 'red'\n            }\n        }), 'top-left');\n        map.addControl(new mapboxgl.NavigationControl(), 'top-left');\n        map.addControl(new mapboxgl.GeolocateControl(), 'top-left');\n        map.addControl(new MapboxTraffic({\n            trafficSource: new RegExp('/*/')\n        }), 'top-left');\n        map.addControl(draw, 'top-left');\n        map.addControl(minimap, 'bottom-left');\n\n        // Initialize popup\n        const popup = new mapboxgl.Popup({\n            closeButton: false,\n            anchor: 'bottom'\n        }).setHTML('<div id=\"popup-container\"></div>');\n\n        // Cover search box style\n        document.getElementsByClassName('mapboxgl-ctrl-geocoder--input')[0].setAttribute('type', 'search-box');\n\n        // Bind event listeners\n        map.on('load', () => {\n            this.add3dLayer();\n            // Hide loader\n            document.getElementById('loader-wrapper').classList.add('loaded');        \n            \n        });\n        \n\n        map.on('click', (event) => {\n            const { lng, lat } = event.lngLat;\n            console.log(`Longitude: ${lng}, Latitude: ${lat}`); // Muestra en consola o procesa según necesites\n        });\n\n        // Suponiendo que 'map' es tu objeto Mapbox\n        map.on('zoomend', function() {\n            var zoomLevel = map.getZoom();\n            emitter.emit('setMapZoom', zoomLevel);\n\n            // Haz algo con el nivel de zoom, como actualizar la UI o hacer una nueva consulta a tu base de datos\n        });\n\n  \n        map.on('draw.create', e => {\n            if (!this.state.gettingPoint) {\n                return;\n            }\n\n            // Save temp id\n            this.setState({\n                tempId: e.features[0].id\n            });\n\n            // Set point\n            emitter.emit('setPoint', e.features[0], this.state.styleCode, this.state.map.getZoom());\n\n            // Reset state\n            this.setState({\n                gettingPoint: false\n            })\n        });\n        \n\n        this.fetchData();\n\n        this.setMapStyleListener = emitter.addListener('setMapStyle', e => {\n            // Remove last popup\n            if (this.state.popup.isOpen()) {\n                this.state.popup.remove();\n            }\n\n            // Set main map style\n            this.state.map.setStyle(mapStyles[e]);\n\n            // Set minimap style\n            const minimap = new Minimap({\n                center: this.state.map.getCenter(),\n                style: Object.values(mapStyles)[1]\n            });\n            this.state.map.removeControl(this.state.minimap);\n            this.state.map.addControl(minimap, 'bottom-left');\n            this.setState({\n                minimap: minimap,\n                styleCode: mapStyles[e].substring(16)\n            });\n\n            \n        });\n\n        this.displayDatasetListener = emitter.addListener('displayDataset', (id, geometry) => {\n\n            if (this.state.map.getSource(id)) {\n                this.state.map.removeSource(id);\n            }\n             \n            map.addSource(id, {\n                'type': 'geojson',\n                'data': geometry\n            });\n\n            map.addLayer({\n                'id': id + '-boundary', // Se utiliza el id proporcionado para generar un identificador único para la capa\n                'type': 'fill',\n                'source': id,\n                'paint': {\n                    'fill-color': '#888888',\n                    'fill-opacity': 0.4\n                },\n                'filter': ['==', '$type', 'Polygon']\n            });\n\n            map.addLayer({\n                'id': id + '-points', // Genera un identificador único para la capa de puntos\n                'type': 'circle',\n                'source': id,\n                'paint': {\n                    'circle-radius': 6,\n                    'circle-color': '#B42222'\n                },\n                'filter': ['==', '$type', 'Point']\n            });\n\n            this.flyToGeometry(map, geometry)\n               \n        });\n\n        this.removeDatasetListener = emitter.addListener('removeDataset', e => {\n            // Identificadores de capas basados en el id del conjunto de datos\n            const layerIds = [e + '-boundary', e + '-points'];\n        \n            // Recorre cada id de capa derivado para eliminar las capas y la fuente de datos\n            layerIds.forEach(layerId => {\n                // Verifica si la capa existe antes de intentar removerla\n                if (this.state.map.getLayer(layerId)) {\n                    console.log('Removing layer and source:', layerId);\n                    // Remueve la capa\n                    this.state.map.removeLayer(layerId);\n                }\n            });\n        \n            // Verifica si la fuente de datos existe antes de intentar removerla\n            if (this.state.map.getSource(e)) {\n                // Remueve la fuente de datos asociada al id original del conjunto de datos\n                this.state.map.removeSource(e);\n            }\n        });\n        \n\n        this.moveLayerListener = emitter.addListener('moveLayer', (id, beforeId) => {\n            // Move layer\n            if (beforeId) {\n                this.state.map.moveLayer(id, beforeId);\n            } else {\n                this.state.map.moveLayer(id);\n            }\n        });\n\n        this.displayTempLayerListener = emitter.addListener('displayTempLayer', e => {\n            // Remove previews temp layer\n            this.removeTempLayer();\n\n            // Add rendering resource\n            if (!this.state.map.hasImage('marker')) {\n                this.state.map.addImage('marker', marker, { pixelRatio: 3 });\n            }\n\n            // Add point layer on map\n            this.state.map.addLayer({\n                id: 'custom-temp-point',\n                type: 'symbol',\n                source: {\n                    type: 'geojson',\n                    data: e.geometry\n                },\n                layout: {\n                    'icon-image': 'marker'\n                }\n            });\n\n            // Add popup on map\n            this.state.popup.setLngLat(e.geometry.geometry.coordinates).addTo(this.state.map);\n            emitter.emit('bindPopup', e);\n\n            // Fly to the point\n            this.state.map.flyTo({\n                center: e.geometry.geometry.coordinates,\n                zoom: 6,\n                bearing: 0\n            });\n        });\n\n        this.removeAllLayerListener = emitter.addListener('removeAllLayer', () => {\n            // Remove temp layer\n            this.removeAllLayer();\n        });\n\n        this.removeTempLayerListener = emitter.addListener('removeTempLayer', () => {\n            // Remove temp layer\n            this.removeTempLayer();\n        });\n\n        this.getPointListener = emitter.addListener('getPoint', () => {\n            // Remove temp point\n            this.removeTempPoint();\n\n            // Active draw_point mode\n            this.state.draw.changeMode('draw_point');\n            emitter.emit('showSnackbar', 'default', 'Click on the map to select a point.');\n            this.setState({\n                gettingPoint: true\n            })\n        });\n\n        this.removeTempPointListener = emitter.addListener('removeTempPoint', () => {\n            // Remove temp point\n            this.removeTempPoint();\n        });\n\n        // Set state\n        this.setState({\n            map: map,\n            draw: draw,\n            style: Object.values(mapStyles)[1],\n            minimap: minimap,\n            popup: popup\n        });\n\n        this.moveMAPistener = emitter.addListener('moveMAP', () => {\n            console.log(\"MAP\")\n            this.moveMAP();\n        });\n\n        emitter.on('moveURL', this.handleURLMoved);\n\n        \n    }\n    moveMAP = () => {\n        var map = this.state.map\n        console.log(map)\n        this.setState({ movedMAP: map });\n        console.log(this.state.movedMAP)\n\n    }\n\n    handleURLMoved = (movedURL) => {\n        console.log('Received moved data:', movedURL);\n        this.removeAllLayer();\n        // Aquí puedes hacer algo con los datos, como establecer el estado\n        this.setState({ url: movedURL.output[0] });\n        console.log(movedURL.output[0])\n        this.state.map.addLayer({\n            'id': 'predictedSOC',\n            'type': 'raster',\n            'source': {\n                'type': 'raster',\n                'tiles': [\n                    this.state.url\n                ],\n                'tileSize': 256\n            },\n            'paint': {\n                'raster-opacity': 0.8  // Opacidad de la capa de ráster\n            }\n        });\n        this.updateLegend(movedURL.output[1]);\n        emitter.emit('moveMAP', this.state.map);\n\n    };\n    \n    \n    updateLegend = (visualization_parameters) => {\n        const { min, max, palette } = visualization_parameters;\n        const legend = document.getElementById('legend');\n        \n        if (!legend) {\n            console.error('Legend element not found');\n            return;\n        }\n    \n        legend.innerHTML = '';\n    \n        const steps = palette.length;\n        const stepValue = (max - min) / (steps - 1);\n    \n        palette.forEach((color, index) => {\n            const value = (min + stepValue * index).toFixed(2);\n            const item = document.createElement('div');\n            item.style.display = \"flex\";\n            item.style.alignItems = \"center\";\n            item.style.marginBottom = \"5px\";\n            item.innerHTML = `<i style=\"background: ${color}; width: 20px; height: 20px; display: inline-block; margin-right: 8px;\"></i> <span style=\"font-size: 12px;\">${value}</span>`;\n            legend.appendChild(item);\n        });\n    \n        // Apply additional styles to the legend container\n        legend.style.position = \"fixed\";\n        legend.style.bottom = \"10px\";\n        legend.style.left = \"10px\";\n        legend.style.width = \"150px\";\n        legend.style.backgroundColor = \"rgba(255, 255, 255, 0.8)\";\n        legend.style.border = \"2px solid grey\";\n        legend.style.borderRadius = \"8px\";\n        legend.style.padding = \"10px\";\n        legend.style.fontSize = \"12px\";\n        legend.style.zIndex = \"9999\";\n        legend.style.boxShadow = \"0 2px 10px rgba(0, 0, 0, 0.5)\";\n    };\n    \n\n    fetchData = () => {\n\n    \n\n    }\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.setMapStyleListener);\n        emitter.removeListener(this.displayDatasetListener);\n        emitter.removeListener(this.removeDatasetListener);\n        emitter.removeListener(this.moveLayerListener);\n        emitter.removeListener(this.displayTempLayerListener);\n        emitter.removeListener(this.removeTempLayerListener);\n        emitter.removeListener(this.removeAllLayerListener);\n        emitter.removeListener(this.getPointListener);\n        emitter.removeListener(this.removeTempPointListener);\n        emitter.removeListener(this.moveMAPistener);\n\n\n    }\n\n\n    render() {\n        \n        return (\n            <div id=\"map\" style={styles.root} ref={this.mapContainer}>\n                <div id=\"legend\"></div>\n            </div>\n            \n        );\n    }\n}\n\nexport default Canvas;","/* Written by Ye Liu */\n\nimport React from 'react';\n\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\n\nimport emitter from '@utils/events.utils';\n\nconst styles = {\n    root: {\n        minWidth: 320,\n        maxWidth: 345\n    },\n    image: {\n        height: 140\n    },\n    titleContainer: {\n        display: 'flex',\n        alignItems: 'space-between',\n        padding: '5px 16px 2px'\n    },\n    titleContainerEnd: {\n        display: 'flex',\n        alignItems: 'space-between',\n        padding: '5px 16px 10px'\n    },\n    nameContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-end',\n        height: 65\n    },\n    popupName: {\n        display: 'inline-block'\n    },\n    popupPinyin: {\n        display: 'inline-block'\n    },\n    weatherWidgetContainer: {\n        position: 'absolute',\n        right: 0,\n        width: 155\n    },\n    introductionContainer: {\n        paddingTop: 5\n    },\n    popupIntroduction: {\n        wordWrap: 'break-word',\n        wordBreak: 'break-all'\n    }\n};\n\nclass Popup extends React.Component {\n    state = {\n        open: false,\n        data: {}\n    }\n\n    componentDidMount() {\n        // Bind event listener\n        this.bindPopupListener = emitter.addListener('bindPopup', e => {\n            // Bind popup\n            var el = document.getElementById('popup');\n            document.getElementById('popup-container').appendChild(el);\n\n            // Load weather widget\n            var script = document.createElement(\"script\");\n            script.type = \"text/javascript\";\n            script.src = `https://darksky.net/widget/default-small/${e.geometry.geometry.coordinates[1].toString()},${e.geometry.geometry.coordinates[0].toString()}/ca12/en.js?height=60`;\n            document.getElementById('customize-script-container').appendChild(script);\n\n            // Display popup\n            this.setState({\n                open: true,\n                data: e\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Remove event listener\n        emitter.removeListener(this.bindPopupListener);\n    }\n\n    render() {\n        return (\n            <Card id=\"popup\" style={styles.root} className={this.state.open ? null : 'hidden'}>\n                {/* Image */}\n                <CardMedia\n                    className={this.state.data.image && this.state.data.image.src ? null : 'hidden'}\n                    style={styles.image}\n                    image={this.state.data.image && this.state.data.image.src ? this.state.data.image.src : '#'}\n                />\n\n                {/* Object Name */}\n                <CardContent style={this.state.data.introduction ? styles.titleContainer : styles.titleContainerEnd}>\n                    <div style={styles.nameContainer}>\n                        <Typography style={styles.popupName} variant=\"h5\" component=\"h2\">{this.state.data.name}</Typography>\n                        <Typography style={styles.popupPinyin} variant=\"subtitle1\" color=\"textSecondary\" component=\"h3\">{this.state.data.pinyin}</Typography>\n                    </div>\n                    <div id=\"customize-script-container\" style={styles.weatherWidgetContainer}></div>\n                </CardContent>\n\n                {/* Object Introduction */}\n                <CardContent style={styles.introductionContainer} className={this.state.data.introduction ? null : 'hidden'}>\n                    <Typography style={styles.popupIntroduction} variant=\"body2\" color=\"textSecondary\" component=\"p\">{this.state.data.introduction}</Typography>\n                </CardContent>\n            </Card >\n        );\n    }\n}\n\nexport default Popup;\n","/* Written by Ye Liu */\n\nimport M from 'materialize-css';\nimport React from 'react';\nimport { ACCESS_TOKEN, SERVICE } from '@/config';\nimport emitter from '@utils/events.utils';\nimport { checkEmptyObject } from '@utils/method.utils';\nimport request from '@utils/request.utils';\n\nimport '@styles/dataController.style.css';\n\nclass SyncController extends React.Component {\n    state = {\n        open: false,\n        resultUnwrap: false,\n        addPointUnwrap: false,\n        optionsOpen: false,\n        searching: false,\n        submitting: false,\n        anchorEl: null,\n        geometry: null,\n        previewImage: null,\n        previewMapUrl: null,\n        previewCoordinate: {},\n        data: [],\n        searchOptions: [\n            {\n                value: 'gid',\n                label: 'Gid',\n                checked: true\n            },\n            {\n                value: 'name',\n                label: 'Name',\n                checked: true\n            },\n            {\n                value: 'pinyin',\n                label: 'Pinyin',\n                checked: true\n            },\n            {\n                value: 'introduction',\n                label: 'Introduction',\n                checked: false\n            }\n        ]\n    }\n\n    initMaterialbox = () => {\n        var elems = document.querySelectorAll('.materialboxed');\n        M.Materialbox.init(elems, {\n            onOpenStart: (e) => {\n                e.parentNode.style.overflow = 'visible';\n            },\n            onCloseEnd: (e) => {\n                e.parentNode.style.overflow = 'hidden';\n            }\n        });\n    }\n\n    resetPreviewImage = () => {\n        this.setState({\n            previewImage: null\n        });\n    }\n\n    resetNewPointData = () => {\n        this.setState({\n            previewMapUrl: null,\n            geometry: null,\n            previewCoordinate: {}\n        });\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleAddClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        // Exit search mode\n        this.handleWrapClick();\n\n        // Initialize new point data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n\n\n\n    \n\n\n    \n\n\n\n\n\n    handleImageChange = (e) => {\n        // Check if file selected\n        if (!e.target.files[0]) {\n            return;\n        }\n\n        // Check image size (smaller than 1MB)\n        if (e.target.files[0].size > 1048576) {\n            emitter.emit('showSnackbar', 'error', 'Error: Image must be smaller than 1MB.');\n            return;\n        }\n\n        // Encode image with base64\n        this.state.reader.readAsDataURL(e.target.files[0]);\n    }\n\n    handleDoneEdit = () => {\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Initialize Materialbox\n        setTimeout(this.initMaterialbox, 800);\n    }\n\n    handleSearchOptionsClick = () => {\n        this.setState({\n            optionsOpen: true\n        });\n    }\n\n    handleSearchOptionsClose = () => {\n        this.setState({\n            optionsOpen: false\n        });\n    }\n\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handleSearchClick = () => {\n        // Exit add point mode\n        this.handleCancelClick();\n\n        // Get keyword\n        var keyword = document.getElementById('search-box').value;\n        if (!keyword) {\n            return;\n        }\n\n        // Show searching progress\n        this.setState({\n            searching: true\n        });\n\n        // Get search options\n        var options = {};\n        this.state.searchOptions.map(item => {\n            options[item.value] = item.checked;\n            return true;\n        });\n\n        // Initiate request\n        request({\n            url: SERVICE.search.url,\n            method: SERVICE.search.method,\n            params: {\n                keyword: keyword,\n                options: JSON.stringify(options)\n            },\n            successCallback: (res) => {\n                // Display data\n                this.setState({\n                    addPointWrapperClose: false,\n                    resultUnwrap: true,\n                    data: res.data\n                }, this.initMaterialbox);\n            },\n            finallyCallback: () => {\n                // Show search button\n                this.setState({\n                    searching: false\n                });\n            }\n        });\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSubmitClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Show button progress\n        this.setState({\n            submitting: true\n        });\n\n        // Generate request parameters\n        var params = {\n            name: document.getElementById('name').value,\n            pinyin: document.getElementById('pinyin').value,\n            introduction: document.getElementById('introduction').value,\n            image: this.state.previewImage ? this.state.previewImage : {},\n            geometry: this.state.geometry\n        };\n\n        // Initiate request\n        request({\n            url: SERVICE.insert.url,\n            method: SERVICE.insert.method,\n            params: params,\n            successCallback: (res) => {\n                // Show snackbar\n                emitter.emit('showSnackbar', 'success', `Insert new object with Gid = '${res.gid}' successfully.`);\n\n                this.handleCancelClick();\n            },\n            finallyCallback: () => {\n                this.setState({\n                    searching: false,\n                    submitting: false\n                });\n            }\n        });\n    }\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleRowUpdate = (newData, oldData) => {\n        return new Promise(resolve => {\n            // Check if Gid changed\n            if (oldData.gid !== newData.gid) {\n                emitter.emit('showSnackbar', 'error', \"Column 'Gid' is readonly.\");\n            }\n\n            // Generate request parameters\n            var params = {\n                gid: oldData.gid\n            };\n\n            if (this.state.previewImage) {\n                newData.image = this.state.previewImage;\n            } else {\n                newData.image = {};\n            }\n\n            Object.keys(newData).map(key => {\n                if (key !== 'geometry' && newData[key] !== oldData[key]) {\n                    params[key] = newData[key]\n                }\n                return true;\n            });\n\n            // return if nothing to update\n            if (checkEmptyObject(params)) {\n                emitter.emit('showSnackbar', 'default', 'Nothing to update.');\n                return;\n            }\n\n            // Initiate request\n            request({\n                url: SERVICE.update.url,\n                method: SERVICE.update.method,\n                params: params,\n                successCallback: (res) => {\n                    // Show success snackbar\n                    var message = `Update ${res.count} ${res.count > 1 ? 'objects' : 'object'} successfully.`;\n                    emitter.emit('showSnackbar', 'success', message);\n\n                    // Refresh table\n                    var data = this.state.data;\n                    data[data.indexOf(oldData)] = newData;\n                    this.setState({\n                        data: data\n                    });\n                },\n                finallyCallback: () => {\n                    // Resolve promise\n                    resolve();\n\n                    // Exit edit mode\n                    this.handleDoneEdit();\n                }\n            });\n        });\n    }\n\n    handleRowDelete = (oldData) => {\n        return new Promise(resolve => {\n            // Initiate request\n            request({\n                url: SERVICE.delete.url,\n                method: SERVICE.delete.method,\n                params: {\n                    gid: oldData.gid\n                },\n                successCallback: (res) => {\n                    // Show success snackbar\n                    var message = `Delete ${res.count} ${res.count > 1 ? 'objects' : 'object'} successfully.`;\n                    emitter.emit('showSnackbar', 'success', message);\n\n                    // Refresh table\n                    var data = [...this.state.data];\n                    data.splice(data.indexOf(oldData), 1);\n                    this.setState({ ...this.state, data });\n                },\n                finallyCallback: () => {\n                    // Resolve promise\n                    resolve();\n\n                    // Remove temp layer\n                    emitter.emit('removeTempLayer');\n\n                    // Exit edit mode\n                    this.handleDoneEdit();\n                }\n            });\n        });\n    }\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openSyncControllerListener = emitter.addListener('openSyncController', () => {\n            this.setState({\n                open: true\n            });\n            fetch('http://localhost:5000/run-script', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                        },\n                    })\n                    .then(response => response.json())\n                    .then(data => {console.log(data)\n                                     emitter.emit('showSnackbar', 'success', 'Database synchronised.')\n                })\n                    .catch((error) => {\n                        emitter.emit('showSnackbar', 'error', 'Error: Database synchronised.');\n\n                        console.error('Error:', error);\n                    });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openDataControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n\n        // Destory Materialbox\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {\n        return (\n<></>\n        );\n    }\n}\n\nexport default SyncController;\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport M from 'materialize-css';\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Button, FormControl, InputLabel, MenuItem, Select, Typography, Icon, IconButton} from '@material-ui/core';\n\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\n\nimport emitter from '@utils/events.utils';\nimport request from '@utils/request.utils';\nimport { checkEmptyObject } from '@utils/method.utils';\nimport { ACCESS_TOKEN, SERVICE } from '@/config';\n\nimport '@styles/dataController.style.css';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        minWidth: 350,\n        margin: 0,\n        zIndex: 900\n    },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass TreeController extends React.Component {\n    state = {\n        Ic:0,\n        Ih:0, \n        Ig:0,\n        Io:0,\n        If:0,\n        IoType:0,\n        sustainabilityIndex:null,\n        decision:null,\n        open: false,\n        resultUnwrap: false,\n        addPointUnwrap: false,\n        optionsOpen: false,\n        searching: false,\n        submitting: false,\n        anchorEl: null,\n        geometry: null,\n        previewImage: null,\n        previewMapUrl: null,\n        previewCoordinate: {},\n        loading: true,\n        traces: [],\n        precipitationData:[],\n        temperatureData: [],\n        watsatData: [],\n        layoutTemperature: {\n            title: 'Temperatura del Aire HC',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Temperatura (°C)' }\n        },\n        layoutPrecipitation: {\n            title: 'Precipitación',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Precipitación (mm)' }\n        },\n        layoutWatsat: {\n            title: 'Modelo Watsat',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Contenido Volumétrico de Agua' }\n        },\n        layout: {\n            barmode: 'stack',\n            title: 'Avistamientos de insectos por día',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Cantidad' }\n        },\n        items: [\n            {id: 1, title: 'item #1'},\n            {id: 2, title: 'item #2'},\n            {id: 3, title: 'item #3'},\n            {id: 4, title: 'item #4'},\n            {id: 5, title: 'item #5'}\n          ]\n        ,\n        data: [],\n        searchOptions: [\n            {\n                value: 'gid',\n                label: 'Gid',\n                checked: true\n            },\n            {\n                value: 'name',\n                label: 'Name',\n                checked: true\n            },\n            {\n                value: 'pinyin',\n                label: 'Pinyin',\n                checked: true\n            },\n            {\n                value: 'introduction',\n                label: 'Introduction',\n                checked: false\n            }\n        ]\n    }\n\n    calculateSustainabilityIndex = () => {\n        let IoValue = this.state.Io === 1 ? this.state.IoType : 0; // Ajustar el valor de Io basado en si se aplica o no fertilizante\n        const index = 2.45 * this.state.Ic + 2.18 * this.state.Ih + 1.64 * this.state.Ig + 1.09 * IoValue + 1 * this.state.If;\n        this.setState({\n            sustainabilityIndex:index\n        })\n    };\n\n    handleDecision = (choice) => {\n        this.setState({ decision: choice });\n      };    \n\n    initMaterialbox = () => {\n        var elems = document.querySelectorAll('.materialboxed');\n        M.Materialbox.init(elems, {\n            onOpenStart: (e) => {\n                e.parentNode.style.overflow = 'visible';\n            },\n            onCloseEnd: (e) => {\n                e.parentNode.style.overflow = 'hidden';\n            }\n        });\n    }\n    \n    resetPreviewImage = () => {\n        this.setState({\n            previewImage: null\n        });\n    }\n\n    resetNewPointData = () => {\n        this.setState({\n            previewMapUrl: null,\n            geometry: null,\n            previewCoordinate: {}\n        });\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleAddClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        // Exit search mode\n        this.handleWrapClick();\n\n        // Initialize new point data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n\n    handleImageChange = (e) => {\n        // Check if file selected\n        if (!e.target.files[0]) {\n            return;\n        }\n\n        // Check image size (smaller than 1MB)\n        if (e.target.files[0].size > 1048576) {\n            emitter.emit('showSnackbar', 'error', 'Error: Image must be smaller than 1MB.');\n            return;\n        }\n\n        // Encode image with base64\n        this.state.reader.readAsDataURL(e.target.files[0]);\n    }\n\n    handleDoneEdit = () => {\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Initialize Materialbox\n        setTimeout(this.initMaterialbox, 800);\n    }\n\n    handleSearchOptionsClick = () => {\n        this.setState({\n            optionsOpen: true\n        });\n    }\n\n    handleSearchOptionsClose = () => {\n        this.setState({\n            optionsOpen: false\n        });\n    }\n\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handleSearchClick = () => {\n        // Exit add point mode\n        this.handleCancelClick();\n\n        // Get keyword\n        var keyword = document.getElementById('search-box').value;\n        if (!keyword) {\n            return;\n        }\n\n        // Show searching progress\n        this.setState({\n            searching: true\n        });\n\n        // Get search options\n        var options = {};\n        this.state.searchOptions.map(item => {\n            options[item.value] = item.checked;\n            return true;\n        });\n\n        // Initiate request\n        request({\n            url: SERVICE.search.url,\n            method: SERVICE.search.method,\n            params: {\n                keyword: keyword,\n                options: JSON.stringify(options)\n            },\n            successCallback: (res) => {\n                // Display data\n                this.setState({\n                    addPointWrapperClose: false,\n                    resultUnwrap: true,\n                    data: res.data\n                }, this.initMaterialbox);\n            },\n            finallyCallback: () => {\n                // Show search button\n                this.setState({\n                    searching: false\n                });\n            }\n        });\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSelectChange = (event) => {\n        this.setState({ [event.target.name]: Number(event.target.value) });\n    };\n\n    calculateSustainabilityIndex = () => {\n        const { Ic, Ih, Ig, Io, If, IoType } = this.state;\n        let IoValue = Io === 1 ? IoType : 0;\n        const index = 2.45 * Ic + 2.18 * Ih + 1.64 * Ig + 1.09 * IoValue + 1 * If;\n        this.setState({ sustainabilityIndex: index });\n    };\n\n    handleSubmitClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Show button progress\n        this.setState({\n            submitting: true\n        });\n\n        // Generate request parameters\n        var params = {\n            name: document.getElementById('name').value,\n            pinyin: document.getElementById('pinyin').value,\n            introduction: document.getElementById('introduction').value,\n            image: this.state.previewImage ? this.state.previewImage : {},\n            geometry: this.state.geometry\n        };\n\n        // Initiate request\n        request({\n            url: SERVICE.insert.url,\n            method: SERVICE.insert.method,\n            params: params,\n            successCallback: (res) => {\n                // Show snackbar\n                emitter.emit('showSnackbar', 'success', `Insert new object with Gid = '${res.gid}' successfully.`);\n\n                this.handleCancelClick();\n            },\n            finallyCallback: () => {\n                this.setState({\n                    searching: false,\n                    submitting: false\n                });\n            }\n        });\n    }\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleRowUpdate = (newData, oldData) => {\n        return new Promise(resolve => {\n            // Check if Gid changed\n            if (oldData.gid !== newData.gid) {\n                emitter.emit('showSnackbar', 'error', \"Column 'Gid' is readonly.\");\n            }\n\n            // Generate request parameters\n            var params = {\n                gid: oldData.gid\n            };\n\n            if (this.state.previewImage) {\n                newData.image = this.state.previewImage;\n            } else {\n                newData.image = {};\n            }\n\n            Object.keys(newData).map(key => {\n                if (key !== 'geometry' && newData[key] !== oldData[key]) {\n                    params[key] = newData[key]\n                }\n                return true;\n            });\n\n            // return if nothing to update\n            if (checkEmptyObject(params)) {\n                emitter.emit('showSnackbar', 'default', 'Nothing to update.');\n                return;\n            }\n\n            // Initiate request\n            request({\n                url: SERVICE.update.url,\n                method: SERVICE.update.method,\n                params: params,\n                successCallback: (res) => {\n                    // Show success snackbar\n                    var message = `Update ${res.count} ${res.count > 1 ? 'objects' : 'object'} successfully.`;\n                    emitter.emit('showSnackbar', 'success', message);\n\n                    // Refresh table\n                    var data = this.state.data;\n                    data[data.indexOf(oldData)] = newData;\n                    this.setState({\n                        data: data\n                    });\n                },\n                finallyCallback: () => {\n                    // Resolve promise\n                    resolve();\n\n                    // Exit edit mode\n                    this.handleDoneEdit();\n                }\n            });\n        });\n    }\n\n    handleRowDelete = (oldData) => {\n        return new Promise(resolve => {\n            // Initiate request\n            request({\n                url: SERVICE.delete.url,\n                method: SERVICE.delete.method,\n                params: {\n                    gid: oldData.gid\n                },\n                successCallback: (res) => {\n                    // Show success snackbar\n                    var message = `Delete ${res.count} ${res.count > 1 ? 'objects' : 'object'} successfully.`;\n                    emitter.emit('showSnackbar', 'success', message);\n\n                    // Refresh table\n                    var data = [...this.state.data];\n                    data.splice(data.indexOf(oldData), 1);\n                    this.setState({ ...this.state, data });\n                },\n                finallyCallback: () => {\n                    // Resolve promise\n                    resolve();\n\n                    // Remove temp layer\n                    emitter.emit('removeTempLayer');\n\n                    // Exit edit mode\n                    this.handleDoneEdit();\n                }\n            });\n        });\n    }\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openTreeControllerListener = emitter.addListener('openTreeController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n    }\n\n    \n    setIc(e){\n        this.setState({\n            Ic:e\n        })\n    }\n    setIh(e){\n        this.setState({\n            Ih:e\n        })\n    }\n    setIg(e){\n        this.setState({\n            Ig:e\n        })\n    }\n    setIo(e){\n        this.setState({\n            Io:e\n        })\n    }\n    setIoType(e){\n        this.setState({\n            IoType:e\n        })\n    }\n    setIf(e){\n        this.setState({\n            If:e\n        })\n    }\n    processTemperatureData = (data) => {\n        const trace = {\n            type: 'scatter', \n            mode: 'lines',\n            x: data.map(item => new Date(item.sampling_date)),\n            y: data.map(item => item.measurement_value),\n            name: 'Temperatura del Aire HC',\n        };\n\n        this.setState(({\n            temperatureData: [trace],\n            loading: false // Mantiene el estado de carga si hay más datos por cargar\n        }));\n    }\n\n    processPrecipitationData = (data) => {\n        const trace = {\n            type: 'scatter',\n            mode: 'lines',\n            x: data.map(item => new Date(item.sampling_date)),\n            y: data.map(item => item.measurement_value),\n            name: 'Precipitación'\n        };\n\n        this.setState({ precipitationData: [trace], loading: false });\n    }\n\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openTreeControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n\n        // Destory Materialbox\n        //                         {loading ? <p>Cargando datos...</p> : <Plot data={traces} layout={layout} />}\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        const { open, Ic, Ih, Ig, Io, If, IoType, sustainabilityIndex} = this.state;\n\n        return (\n            <MuiThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                            <Typography variant=\"h5\" gutterBottom>Árbol de Decisión para la Sostenibilidad del Olivar</Typography>\n                            <FormControl fullWidth margin=\"normal\">\n                                <InputLabel>¿Mantiene una cubierta vegetal en el suelo de su olivar?</InputLabel>\n                                <Select name=\"Ic\" value={Ic} onChange={this.handleSelectChange}>\n                                    <MenuItem value={0}>No</MenuItem>\n                                    <MenuItem value={1}>En bandas</MenuItem>\n                                    <MenuItem value={2}>Toda la superficie menos los ruedos</MenuItem>\n                                    <MenuItem value={3}>Toda la superficie, incluyendo los ruedos</MenuItem>\n                                </Select>\n                            </FormControl>\n                            <FormControl fullWidth margin=\"normal\">\n                                <InputLabel>¿Conserva algún tipo de vegetación natural en su olivar?</InputLabel>\n                                <Select name=\"Ih\" value={Ih} onChange={this.handleSelectChange}>\n                                    <MenuItem value={0}>No</MenuItem>\n                                    <MenuItem value={1}>Conservo algunos árboles dispersos</MenuItem>\n                                    <MenuItem value={2}>Conservo parches de vegetación natural</MenuItem>\n                                    <MenuItem value={3}>Conservo una o varias manchas importantes de monte mediterráneo</MenuItem>\n                                </Select>\n                            </FormControl>\n                            <FormControl fullWidth margin=\"normal\">\n                                <InputLabel>¿Suele incorporar ganado a pastar dentro de su olivar?</InputLabel>\n                                <Select name=\"Ig\" value={Ig} onChange={this.handleSelectChange}>\n                                    <MenuItem value={0}>No</MenuItem>\n                                    <MenuItem value={1}>Sí</MenuItem>\n                                </Select>\n                            </FormControl>\n                            <FormControl fullWidth margin=\"normal\">\n                                <InputLabel>¿Suministra a sus suelos algún tipo de fertilizante orgánico?</InputLabel>\n                                <Select name=\"Io\" value={Io} onChange={this.handleSelectChange}>\n                                    <MenuItem value={0}>No</MenuItem>\n                                    <MenuItem value={1}>Sí</MenuItem>\n                                </Select>\n                                {Io === 1 && (\n                                    <FormControl fullWidth margin=\"normal\">\n                                        <InputLabel>¿Cuál de los siguientes fertilizantes orgánicos emplea?</InputLabel>\n                                        <Select name=\"IoType\" value={IoType} onChange={this.handleSelectChange}>\n                                            <MenuItem value={1}>Restos triturados de la poda</MenuItem>\n                                            <MenuItem value={1}>Alperujo compostado</MenuItem>\n                                            <MenuItem value={1}>Estiércol</MenuItem>\n                                            <MenuItem value={1}>Otros tipos</MenuItem>\n                                            <MenuItem value={2}>Dos de los anteriores</MenuItem>\n                                            <MenuItem value={3}>Tres o más de los anteriores</MenuItem>\n                                        </Select>\n                                    </FormControl>\n                                )}\n                            </FormControl>\n                            <FormControl fullWidth margin=\"normal\">\n                                <InputLabel>¿Cuál de los siguientes productos fitosanitarios NO aplica en su olivar?</InputLabel>\n                                <Select name=\"If\" value={If} onChange={this.handleSelectChange}>\n                                    <MenuItem value={0}>Aplico todos los anteriores</MenuItem>\n                                    <MenuItem value={1}>No aplico fungicidas</MenuItem>\n                                    <MenuItem value={2}>No aplico herbicidas</MenuItem>\n                                    <MenuItem value={3}>No aplico pesticidas</MenuItem>\n                                </Select>\n                            </FormControl>\n                            <Button variant=\"contained\" color=\"primary\" onClick={this.calculateSustainabilityIndex} style={{ marginTop: 20 }}>\n                                Calcular Índice de Sostenibilidad\n                            </Button>\n                            {sustainabilityIndex !== null && (\n                                <Typography variant=\"h6\" style={{ marginTop: 20 }}>\n                                    Índice de Sostenibilidad: {sustainabilityIndex.toFixed(2)}\n                                </Typography>\n                            )}\n                                        <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </MuiThemeProvider >\n        );\n    }\n}\n\nexport default TreeController;","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Backdrop , CircularProgress, Checkbox, FormControlLabel, FormGroup, InputLabel, MenuItem,TextField, FormControl, Grid, Button, RadioGroup, Radio, Select} from '@material-ui/core';\nimport { AttachFile, Description, PictureAsPdf, Theaters } from '@material-ui/icons';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport shp from 'shpjs';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& .MuiDropzoneArea-root': {\n      minHeight: '100px',\n      maxHeight: '200px',\n    }\n  },\n  fileDetails: {\n    marginTop: theme.spacing(1),\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: '33.33%',\n    flexShrink: 0,\n    fontWeight: 'bold',\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary,\n  },\n  checkBoxContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    width: '100%',\n  },\n  inputLabel: {\n    marginBottom: theme.spacing(1),\n  },\n  dateInput: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  foormControl: {\n    margin: theme.spacing(3),\n  },\n  dropzone: {\n    minHeight: '191px',\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n  progressText: {\n    marginLeft: theme.spacing(2),\n  },\n}));\n\nexport default function ControlledAccordions({onSubmit}) {\n  const classes = useStyles();\n  const [numericColumns, setNumericColumns] = useState([]);\n  const [selectedColumn, setSelectedColumn] = useState('');\n  const [selectedOption, setSelectedOption] = useState('rf');\n  const [expanded, setExpanded] = useState(false);\n  const [formData, setFormData] = useState({\n    rf: false,\n    svm: false,\n    knn: false,\n    aoiDataFiles: [],\n    startDate: \"2024-04-14\",\n    endDate: \"2024-05-14\",\n    satelliteData: {\n      sentinel1: false,\n      sentinel2: false,\n      landsat: false,\n    },\n    indexes: {\n      vegetationIndexes: false,\n      brightnessIndexes: false,\n      moistureIndexes: false,\n    },\n    modelFeatures: {\n      numberOfTrees: 500,\n      seed: 0.0001,\n      bagFraction: 0,\n    },\n    performanceIndicators: {\n      rsquare: false,\n      rmse: false,\n      mse: false,\n      mae: false,\n      rpiq: false,\n    }\n  });\n  const [loading, setLoading] = useState(false);\n  const [timer, setTimer] = useState(0);\n\n  useEffect(() => {\n    let timerInterval;\n    if (loading) {\n      timerInterval = setInterval(() => {\n        setTimer((prevTimer) => prevTimer + 1);\n      }, 1000);\n    } else {\n      clearInterval(timerInterval);\n    }\n\n    return () => clearInterval(timerInterval);\n  }, [loading]);\n\n  const handleChangeExp = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const handleChange = (event) => {\n    const { name, value, checked, type } = event.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' || type === 'radio' ? checked : value\n    }));\n    if (name === \"options\") {\n      setSelectedOption(value);\n    }\n  };\n\n  const handleFileChange = (name, files) => {\n    if (files && files.length > 0) {\n      const reader = new FileReader();\n      reader.onload = async (event) => {\n        try {\n          const data = await shp(event.target.result);\n          const columns = data.features.length > 0 ? Object.keys(data.features[0].properties) : [];\n          const numericColumns = columns.filter(key => typeof data.features[0].properties[key] === 'number');\n          setNumericColumns(numericColumns);\n        } catch (error) {\n          console.error(\"Error processing shapefile\", error);\n        }\n      };\n      reader.readAsArrayBuffer(files[0]);\n    }\n    setFormData(prev => ({\n      ...prev,\n      [name]: files\n    }));\n    \n  };\n\n  const handlePreviewIcon = (fileObject, classes) => {\n    const {type} = fileObject.file\n    const iconProps = {\n      className : classes.image,\n    }\n  \n    if (type.startsWith(\"video/\")) return <Theaters {...iconProps} />\n  \n    switch (type) {\n      case \"application/msword\":\n      case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n        return <Description {...iconProps} />\n      case \"application/pdf\":\n        return <PictureAsPdf {...iconProps} />\n      default:\n        return <AttachFile {...iconProps} />\n    }\n  }\n\n  const handleSubmit = async () => {\n    try {\n      setLoading(true);\n      setTimer(0); // Reset the timer when the submit button is clicked\n      const data = new FormData();\n      \n      data.append('aoiDataFiles', formData.aoiDataFiles[0]);\n\n      for (const key in formData.satelliteData) {\n        data.append(key, formData.satelliteData[key]);\n      }\n\n      for (const key in formData.indexes) {\n        data.append(key, formData.indexes[key]);\n      }\n\n      for (const key in formData.modelFeatures) {\n        data.append(key, formData.modelFeatures[key]);\n      }\n\n      for (const key in formData.performanceIndicators) {\n        data.append(key, formData.performanceIndicators[key]);\n      }\n      \n      console.log(data);\n\n      const response = await fetch('http://localhost:5004/rusle', {\n         method: 'POST',\n         body: data\n      });\n      //const response = await fetch('http://localhost:5004/watsat', {\n      //   method: 'GET'\n      // });\n\n      const result = await response.json();\n      if(result){\n        console.log('Data sent successfully', result);\n        onSubmit(result);\n        setLoading(false);\n      }\n\n\n    } catch (error) {\n      setLoading(false);\n      console.error('Failed to send data', error);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Accordion expanded={expanded === 'panel2'} onChange={handleChangeExp('panel2')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel2bh-content\"\n          id=\"panel2bh-header\"\n        >\n          <Typography className={classes.heading}>Upload Files</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          \n\n          <DropzoneArea\n            onChange={(files) => handleFileChange('aoiDataFiles', files)}\n            acceptedFiles={['.zip']}\n            dropzoneText=\"Area of Interest (AOI)\"\n            maxFileSize={5000000}\n            filesLimit={1}\n            getPreviewIcon={handlePreviewIcon}\n            />\n        </AccordionDetails>\n      </Accordion>\n      \n      <Accordion expanded={expanded === 'panel3'} onChange={handleChangeExp('panel3')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel3bh-content\"\n          id=\"panel3bh-header\"\n        >\n          <Typography className={classes.heading}>Dates</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={10}>\n              <TextField\n                label=\"Start Date\"\n                type=\"date\"\n                name=\"startDate\"\n                value={formData.startDate}\n                onChange={handleChange}\n                className={classes.dateInput}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n              <TextField\n                label=\"End Date\"\n                type=\"date\"\n                name=\"endDate\"\n                value={formData.endDate}\n                onChange={handleChange}\n                className={classes.dateInput}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n            </Grid>\n          </Grid>\n        </AccordionDetails>\n      </Accordion>\n      <div>\n\n\n      </div>\n      <div>\n\n\n      </div>\n      <Button onClick={handleSubmit} color=\"#89ca92\" variant=\"contained\">Submit Data</Button>\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n        <Typography variant=\"h6\" className={classes.progressText}>\n          Ejecutando el modelo... {timer}s\n        </Typography>\n      </Backdrop>\n    </div>\n  );\n}","/* Written by Ye Liu */\n\nimport React from 'react';\nimport M from 'materialize-css';\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Typography, Icon, IconButton } from '@material-ui/core';\n  \nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\n\nimport emitter from '@utils/events.utils';\nimport request from '@utils/request.utils';\nimport { checkEmptyObject } from '@utils/method.utils';\nimport { ACCESS_TOKEN, SERVICE } from '@/config';\n\nimport '@styles/dataController.style.css';\nimport ControlledAccordions from '@components/componentsJS/ControlledAccordions__';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        minWidth: 350,\n        margin: 0,\n        zIndex: 900\n    },\n    rooot: {\n        width: '100%',\n      },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n      },\n      secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n      },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass RusleController extends React.Component {\n    state = {\n        open: false,\n        resultUnwrap: false,\n        addPointUnwrap: false,\n        optionsOpen: false,\n        searching: false,\n        submitting: false,\n        anchorEl: null,\n        geometry: null,\n        previewImage: null,\n        previewMapUrl: null,\n        previewCoordinate: {},\n        loading: true,\n        traces: [],\n        precipitationData:[],\n        temperatureData: [],\n        watsatData: [],\n        layoutTemperature: {\n            title: 'Temperatura del Aire HC',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Temperatura (°C)' }\n        },\n        layoutPrecipitation: {\n            title: 'Precipitación',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Precipitación (mm)' }\n        },\n        layoutWatsat: {\n            title: 'Modelo Watsat',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Contenido Volumétrico de Agua' }\n        },\n        layout: {\n            barmode: 'stack',\n            title: 'Avistamientos de insectos por día',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Cantidad' }\n        },\n        items: [\n            {id: 1, title: 'item #1'},\n            {id: 2, title: 'item #2'},\n            {id: 3, title: 'item #3'},\n            {id: 4, title: 'item #4'},\n            {id: 5, title: 'item #5'}\n          ]\n        ,\n        data: [],\n        expanded:false,\n        searchOptions: [\n            {\n                value: 'gid',\n                label: 'Gid',\n                checked: true\n            },\n            {\n                value: 'name',\n                label: 'Name',\n                checked: true\n            },\n            {\n                value: 'pinyin',\n                label: 'Pinyin',\n                checked: true\n            },\n            {\n                value: 'introduction',\n                label: 'Introduction',\n                checked: false\n            }\n        ]\n    }\n\n    calculateSustainabilityIndex = () => {\n        let IoValue = this.state.Io === 1 ? this.state.IoType : 0; // Ajustar el valor de Io basado en si se aplica o no fertilizante\n        const index = 2.45 * this.state.Ic + 2.18 * this.state.Ih + 1.64 * this.state.Ig + 1.09 * IoValue + 1 * this.state.If;\n        this.setState({\n            sustainabilityIndex:index\n        })\n    };\n\n    handleDecision = (choice) => {\n        this.setState({ decision: choice });\n      };    \n\n    initMaterialbox = () => {\n        var elems = document.querySelectorAll('.materialboxed');\n        M.Materialbox.init(elems, {\n            onOpenStart: (e) => {\n                e.parentNode.style.overflow = 'visible';\n            },\n            onCloseEnd: (e) => {\n                e.parentNode.style.overflow = 'hidden';\n            }\n        });\n    }\n    \n    resetPreviewImage = () => {\n        this.setState({\n            previewImage: null\n        });\n    }\n\n    resetNewPointData = () => {\n        this.setState({\n            previewMapUrl: null,\n            geometry: null,\n            previewCoordinate: {}\n        });\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleDataSubmit = (data) => {\n        this.setState({url: data})\n        console.log(\"Datos recibidos en ModelController:\", data);\n        emitter.emit('moveURL', this.state.url);\n        // Puedes manejar los datos como desees aquí\n      };\n\n    handleAddClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        // Exit search mode\n        this.handleWrapClick();\n\n        // Initialize new point data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n\n    handleImageChange = (e) => {\n        // Check if file selected\n        if (!e.target.files[0]) {\n            return;\n        }\n\n        // Check image size (smaller than 1MB)\n        if (e.target.files[0].size > 1048576) {\n            emitter.emit('showSnackbar', 'error', 'Error: Image must be smaller than 1MB.');\n            return;\n        }\n\n        // Encode image with base64\n        this.state.reader.readAsDataURL(e.target.files[0]);\n    }\n\n    handleDoneEdit = () => {\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Initialize Materialbox\n        setTimeout(this.initMaterialbox, 800);\n    }\n\n    handleSearchOptionsClick = () => {\n        this.setState({\n            optionsOpen: true\n        });\n    }\n\n    handleSearchOptionsClose = () => {\n        this.setState({\n            optionsOpen: false\n        });\n    }\n\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handleSearchClick = () => {\n        // Exit add point mode\n        this.handleCancelClick();\n\n        // Get keyword\n        var keyword = document.getElementById('search-box').value;\n        if (!keyword) {\n            return;\n        }\n\n        // Show searching progress\n        this.setState({\n            searching: true\n        });\n\n        // Get search options\n        var options = {};\n        this.state.searchOptions.map(item => {\n            options[item.value] = item.checked;\n            return true;\n        });\n\n        // Initiate request\n        request({\n            url: SERVICE.search.url,\n            method: SERVICE.search.method,\n            params: {\n                keyword: keyword,\n                options: JSON.stringify(options)\n            },\n            successCallback: (res) => {\n                // Display data\n                this.setState({\n                    addPointWrapperClose: false,\n                    resultUnwrap: true,\n                    data: res.data\n                }, this.initMaterialbox);\n            },\n            finallyCallback: () => {\n                // Show search button\n                this.setState({\n                    searching: false\n                });\n            }\n        });\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSelectChange = (event) => {\n        this.setState({ [event.target.name]: Number(event.target.value) });\n    };\n\n    calculateSustainabilityIndex = () => {\n        const { Ic, Ih, Ig, Io, If, IoType } = this.state;\n        let IoValue = Io === 1 ? IoType : 0;\n        const index = 2.45 * Ic + 2.18 * Ih + 1.64 * Ig + 1.09 * IoValue + 1 * If;\n        this.setState({ sustainabilityIndex: index });\n    };\n\n    handleSubmitClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Show button progress\n        this.setState({\n            submitting: true\n        });\n\n        // Generate request parameters\n        var params = {\n            name: document.getElementById('name').value,\n            pinyin: document.getElementById('pinyin').value,\n            introduction: document.getElementById('introduction').value,\n            image: this.state.previewImage ? this.state.previewImage : {},\n            geometry: this.state.geometry\n        };\n\n        // Initiate request\n        request({\n            url: SERVICE.insert.url,\n            method: SERVICE.insert.method,\n            params: params,\n            successCallback: (res) => {\n                // Show snackbar\n                emitter.emit('showSnackbar', 'success', `Insert new object with Gid = '${res.gid}' successfully.`);\n\n                this.handleCancelClick();\n            },\n            finallyCallback: () => {\n                this.setState({\n                    searching: false,\n                    submitting: false\n                });\n            }\n        });\n    }\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleRowUpdate = (newData, oldData) => {\n        return new Promise(resolve => {\n            // Check if Gid changed\n            if (oldData.gid !== newData.gid) {\n                emitter.emit('showSnackbar', 'error', \"Column 'Gid' is readonly.\");\n            }\n\n            // Generate request parameters\n            var params = {\n                gid: oldData.gid\n            };\n\n            if (this.state.previewImage) {\n                newData.image = this.state.previewImage;\n            } else {\n                newData.image = {};\n            }\n\n            Object.keys(newData).map(key => {\n                if (key !== 'geometry' && newData[key] !== oldData[key]) {\n                    params[key] = newData[key]\n                }\n                return true;\n            });\n\n            // return if nothing to update\n            if (checkEmptyObject(params)) {\n                emitter.emit('showSnackbar', 'default', 'Nothing to update.');\n                return;\n            }\n\n            // Initiate request\n            request({\n                url: SERVICE.update.url,\n                method: SERVICE.update.method,\n                params: params,\n                successCallback: (res) => {\n                    // Show success snackbar\n                    var message = `Update ${res.count} ${res.count > 1 ? 'objects' : 'object'} successfully.`;\n                    emitter.emit('showSnackbar', 'success', message);\n\n                    // Refresh table\n                    var data = this.state.data;\n                    data[data.indexOf(oldData)] = newData;\n                    this.setState({\n                        data: data\n                    });\n                },\n                finallyCallback: () => {\n                    // Resolve promise\n                    resolve();\n\n                    // Exit edit mode\n                    this.handleDoneEdit();\n                }\n            });\n        });\n    }\n\n    handleRowDelete = (oldData) => {\n        return new Promise(resolve => {\n            // Initiate request\n            request({\n                url: SERVICE.delete.url,\n                method: SERVICE.delete.method,\n                params: {\n                    gid: oldData.gid\n                },\n                successCallback: (res) => {\n                    // Show success snackbar\n                    var message = `Delete ${res.count} ${res.count > 1 ? 'objects' : 'object'} successfully.`;\n                    emitter.emit('showSnackbar', 'success', message);\n\n                    // Refresh table\n                    var data = [...this.state.data];\n                    data.splice(data.indexOf(oldData), 1);\n                    this.setState({ ...this.state, data });\n                },\n                finallyCallback: () => {\n                    // Resolve promise\n                    resolve();\n\n                    // Remove temp layer\n                    emitter.emit('removeTempLayer');\n\n                    // Exit edit mode\n                    this.handleDoneEdit();\n                }\n            });\n        });\n    }\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openRusleControllerListener = emitter.addListener('openRusleController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n\n\n    \n        this.moveURListener = emitter.addListener('moveURL', () => {\n            this.moveURL();\n        });\n    }\n\n    \n    setIc(e){\n        this.setState({\n            Ic:e\n        })\n    }\n    setIh(e){\n        this.setState({\n            Ih:e\n        })\n    }\n    setIg(e){\n        this.setState({\n            Ig:e\n        })\n    }\n    setIo(e){\n        this.setState({\n            Io:e\n        })\n    }\n    setIoType(e){\n        this.setState({\n            IoType:e\n        })\n    }\n    setIf(e){\n        this.setState({\n            If:e\n        })\n    }\n\n    moveURL = () => {\n        var url = this.state.url\n        this.setState({ movedURL: url });\n        console.log(this.state.movedURL)\n\n    }\n    processTemperatureData = (data) => {\n        const trace = {\n            type: 'scatter', \n            mode: 'lines',\n            x: data.map(item => new Date(item.sampling_date)),\n            y: data.map(item => item.measurement_value),\n            name: 'Temperatura del Aire HC',\n        };\n\n        this.setState(({\n            temperatureData: [trace],\n            loading: false // Mantiene el estado de carga si hay más datos por cargar\n        }));\n    }\n\n    processPrecipitationData = (data) => {\n        const trace = {\n            type: 'scatter',\n            mode: 'lines',\n            x: data.map(item => new Date(item.sampling_date)),\n            y: data.map(item => item.measurement_value),\n            name: 'Precipitación'\n        };\n\n        this.setState({ precipitationData: [trace], loading: false });\n    }\n\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openRusleControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n        emitter.removeListener(this.moveURListener);\n\n\n        // Destory Materialbox\n        //                         {loading ? <p>Cargando datos...</p> : <Plot data={traces} layout={layout} />}\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        return (\n            <MuiThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                        <Typography variant=\"h5\" className={styles.title}>RUSLE Modelling</Typography>\n                        &nbsp;&nbsp;\n            <ControlledAccordions onSubmit={this.handleDataSubmit}/>\n            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </MuiThemeProvider >\n        );\n    }\n}\n\nexport default RusleController;","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Backdrop , CircularProgress, Checkbox, FormControlLabel, FormGroup, InputLabel, MenuItem,TextField, FormControl, Grid, Button, RadioGroup, Radio, Select} from '@material-ui/core';\nimport { AttachFile, Description, PictureAsPdf, Theaters } from '@material-ui/icons';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport shp from 'shpjs';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& .MuiDropzoneArea-root': {\n      minHeight: '100px',\n      maxHeight: '200px',\n    }\n  },\n  fileDetails: {\n    marginTop: theme.spacing(1),\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: '33.33%',\n    flexShrink: 0,\n    fontWeight: 'bold',\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary,\n  },\n  checkBoxContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    width: '100%',\n  },\n  inputLabel: {\n    marginBottom: theme.spacing(1),\n  },\n  dateInput: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  foormControl: {\n    margin: theme.spacing(3),\n  },\n  dropzone: {\n    minHeight: '191px',\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n  progressText: {\n    marginLeft: theme.spacing(2),\n  },\n}));\n\nexport default function ControlledAccordions({onSubmit}) {\n  const classes = useStyles();\n  const [numericColumns, setNumericColumns] = useState([]);\n  const [selectedColumn, setSelectedColumn] = useState('');\n  const [selectedOption, setSelectedOption] = useState('rf');\n  const [expanded, setExpanded] = useState(false);\n  const [formData, setFormData] = useState({\n    rf: false,\n    svm: false,\n    knn: false,\n    soilDataFiles: [],\n    aoiDataFiles: [],\n    startDate: \"2024-04-14\",\n    endDate: \"2024-05-14\",\n    satelliteData: {\n      sentinel1: false,\n      sentinel2: false,\n      landsat: false,\n    },\n    indexes: {\n      vegetationIndexes: false,\n      brightnessIndexes: false,\n      moistureIndexes: false,\n    },\n    modelFeatures: {\n      numberOfTrees: 500,\n      seed: 0.0001,\n      bagFraction: 0,\n    },\n    performanceIndicators: {\n      rsquare: false,\n      rmse: false,\n      mse: false,\n      mae: false,\n      rpiq: false,\n    }\n  });\n  const [loading, setLoading] = useState(false);\n  const [timer, setTimer] = useState(0);\n\n  useEffect(() => {\n    let timerInterval;\n    if (loading) {\n      timerInterval = setInterval(() => {\n        setTimer((prevTimer) => prevTimer + 1);\n      }, 1000);\n    } else {\n      clearInterval(timerInterval);\n    }\n\n    return () => clearInterval(timerInterval);\n  }, [loading]);\n\n  const handleChangeExp = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const handleChange = (event) => {\n    const { name, value, checked, type } = event.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' || type === 'radio' ? checked : value\n    }));\n    if (name === \"options\") {\n      setSelectedOption(value);\n    }\n  };\n\n  const handleFileChange = (name, files) => {\n    if (files && files.length > 0) {\n      const reader = new FileReader();\n      reader.onload = async (event) => {\n        try {\n          const data = await shp(event.target.result);\n          const columns = data.features.length > 0 ? Object.keys(data.features[0].properties) : [];\n          const numericColumns = columns.filter(key => typeof data.features[0].properties[key] === 'number');\n          setNumericColumns(numericColumns);\n        } catch (error) {\n          console.error(\"Error processing shapefile\", error);\n        }\n      };\n      reader.readAsArrayBuffer(files[0]);\n    }\n    setFormData(prev => ({\n      ...prev,\n      [name]: files\n    }));\n    \n  };\n\n  const handleColumnChange = (event) => {\n    setSelectedColumn(event.target.value);\n  };\n\n  const handleModelFeatures = () => {\n    switch (selectedOption) {\n      case 'rf':\n        return (\n          <>\n            <div>\n              <Typography className={classes.inputLabel}>Number of trees</Typography>\n              <TextField\n                className={classes.formControl}\n                variant=\"outlined\"\n                name=\"numberOfTrees\"\n                value={formData.modelFeatures.numberOfTrees}\n                onChange={handleChange}\n                type=\"number\"\n              />\n            </div>\n            &nbsp;&nbsp;\n            <div>\n              <Typography className={classes.inputLabel}>Seed</Typography>\n              <TextField\n                className={classes.formControl}\n                variant=\"outlined\"\n                name=\"seed\"\n                value={formData.modelFeatures.seed}\n                onChange={handleChange}\n                type=\"number\"\n                inputProps={{ step: \"0.0001\" }}\n              />\n            </div>\n            &nbsp;&nbsp;\n            <div>\n              <Typography className={classes.inputLabel}>Bag fraction</Typography>\n              <TextField\n                className={classes.formControl}\n                variant=\"outlined\"\n                name=\"bagFraction\"\n                value={formData.modelFeatures.bagFraction}\n                onChange={handleChange}\n                type=\"number\"\n              />\n            </div>\n          </>\n        );\n      case 'svm':\n        return (\n          <>\n            {/* Add SVM specific features here */}\n          </>\n        );\n      case 'knn':\n        return (\n          <>\n            {/* Add KNN specific features here */}\n          </>\n        );\n      default:\n        return null;\n    }\n  };\n\n  const handlePreviewIcon = (fileObject, classes) => {\n    const {type} = fileObject.file\n    const iconProps = {\n      className : classes.image,\n    }\n  \n    if (type.startsWith(\"video/\")) return <Theaters {...iconProps} />\n  \n    switch (type) {\n      case \"application/msword\":\n      case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n        return <Description {...iconProps} />\n      case \"application/pdf\":\n        return <PictureAsPdf {...iconProps} />\n      default:\n        return <AttachFile {...iconProps} />\n    }\n  }\n\n  const handleSubmit = async () => {\n    try {\n      setLoading(true);\n      setTimer(0); // Reset the timer when the submit button is clicked\n      const data = new FormData();\n      \n      data.append('soilDataFiles', formData.soilDataFiles[0]);\n      data.append('aoiDataFiles', formData.aoiDataFiles[0]);\n\n      for (const key in formData.satelliteData) {\n        data.append(key, formData.satelliteData[key]);\n      }\n\n      for (const key in formData.indexes) {\n        data.append(key, formData.indexes[key]);\n      }\n\n      for (const key in formData.modelFeatures) {\n        data.append(key, formData.modelFeatures[key]);\n      }\n\n      for (const key in formData.performanceIndicators) {\n        data.append(key, formData.performanceIndicators[key]);\n      }\n      \n      console.log(data);\n\n      const response = await fetch('http://localhost:5004/soil_organic_prediction', {\n         method: 'POST',\n         body: data\n      });\n      //const response = await fetch('http://localhost:5004/watsat', {\n      //   method: 'GET'\n      // });\n\n      const result = await response.json();\n      if(result){\n        console.log('Data sent successfully', result);\n        onSubmit(result);\n        setLoading(false);\n      }\n\n\n    } catch (error) {\n      setLoading(false);\n      console.error('Failed to send data', error);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Accordion expanded={expanded === 'panel1'} onChange={handleChangeExp('panel1')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1bh-content\"\n          id=\"panel1bh-header\"\n        >\n          <Typography className={classes.heading}>Machine learning algorithm</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <FormGroup className={classes.checkBoxContainer}>\n            <RadioGroup row name=\"options\" value={selectedOption} onChange={handleChange}>\n              <FormControlLabel\n                value=\"rf\"\n                control={<Radio />}\n                label=\"RF\"\n              />\n              <FormControlLabel\n                value=\"svm\"\n                control={<Radio />}\n                label=\"SVM\"\n              />\n              <FormControlLabel\n                value=\"knn\"\n                control={<Radio />}\n                label=\"KNN\"\n              />\n            </RadioGroup>\n          </FormGroup>\n        </AccordionDetails>\n      </Accordion>\n      <Accordion expanded={expanded === 'panel2'} onChange={handleChangeExp('panel2')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel2bh-content\"\n          id=\"panel2bh-header\"\n        >\n          <Typography className={classes.heading}>Upload Files</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          \n\n          <DropzoneArea\n            onChange={(files) => handleFileChange('aoiDataFiles', files)}\n            acceptedFiles={['.zip']}\n            dropzoneText=\"Area of Interest (AOI)\"\n            maxFileSize={5000000}\n            filesLimit={1}\n            getPreviewIcon={handlePreviewIcon}\n            />\n        </AccordionDetails>\n      </Accordion>\n      {numericColumns.length > 0 ? (<><Accordion expanded={expanded === 'panel6'} onChange={handleChangeExp('panel6')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel4bh-content\"\n          id=\"panel4bh-header\"\n        >\n          <Typography className={classes.heading}>Variable to Estimate</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n        <FormControl fullWidth>\n        <InputLabel id=\"numeric-column-selector-label\">Select Value to Estimate</InputLabel>\n        <Select\n          labelId=\"numeric-column-selector-label\"\n          id=\"numeric-column-selector\"\n          value={selectedColumn}\n          label=\"Select Numeric Column\"\n          onChange={handleColumnChange}\n        >\n          {numericColumns.map((column, index) => (\n            <MenuItem key={index} value={column}>{column}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n        </AccordionDetails>\n      </Accordion></>) : <></>}\n      \n      <Accordion expanded={expanded === 'panel3'} onChange={handleChangeExp('panel3')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel3bh-content\"\n          id=\"panel3bh-header\"\n        >\n          <Typography className={classes.heading}>Spectral Information Data</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={10}>\n              <TextField\n                label=\"Start Date\"\n                type=\"date\"\n                name=\"startDate\"\n                value={formData.startDate}\n                onChange={handleChange}\n                className={classes.dateInput}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n              <TextField\n                label=\"End Date\"\n                type=\"date\"\n                name=\"endDate\"\n                value={formData.endDate}\n                onChange={handleChange}\n                className={classes.dateInput}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n            </Grid>\n          </Grid>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <FormControl component=\"fieldset\" className={classes.formControl}>\n                <Typography variant=\"subtitle1\">Satellite Data:</Typography>\n                <FormGroup>\n                  <FormControlLabel\n                    control={<Checkbox name=\"sentinel1\" checked={formData.satelliteData.sentinel1} onChange={handleChange} />}\n                    label=\"Sentinel-1\"\n                  />\n                  <FormControlLabel\n                    control={<Checkbox name=\"sentinel2\" checked={formData.satelliteData.sentinel2} onChange={handleChange} />}\n                    label=\"Sentinel-2\"\n                  />\n                  <FormControlLabel\n                    control={<Checkbox name=\"landsat\" checked={formData.satelliteData.landsat} onChange={handleChange} />}\n                    label=\"Landsat\"\n                  />\n                </FormGroup>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <FormControl component=\"fieldset\" className={classes.formControl}>\n                <Typography variant=\"subtitle1\">Indexes:</Typography>\n                <FormGroup>\n                  <FormControlLabel\n                    control={<Checkbox name=\"vegetationIndexes\" checked={formData.indexes.vegetationIndexes} onChange={handleChange} />}\n                    label=\"Vegetation indexes\"\n                  />\n                  <FormControlLabel\n                    control={<Checkbox name=\"brightnessIndexes\" checked={formData.indexes.brightnessIndexes} onChange={handleChange} />}\n                    label=\"Brightness indexes\"\n                  />\n                  <FormControlLabel\n                    control={<Checkbox name=\"moistureIndexes\" checked={formData.indexes.moistureIndexes} onChange={handleChange} />}\n                    label=\"Moisture indexes\"\n                  />\n                </FormGroup>\n              </FormControl>\n            </Grid>\n          </Grid>\n        </AccordionDetails>\n      </Accordion>\n      <Accordion expanded={expanded === 'panel4'} onChange={handleChangeExp('panel4')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel4bh-content\"\n          id=\"panel4bh-header\"\n        >\n          <Typography className={classes.heading}>Model features</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          {handleModelFeatures()}\n        </AccordionDetails>\n      </Accordion>\n      <Accordion expanded={expanded === 'panel5'} onChange={handleChangeExp('panel5')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel4bh-content\"\n          id=\"panel4bh-header\"\n        >\n          <Typography className={classes.heading}>Model Performance Indicators</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <FormGroup className={classes.checkBoxContainer}>\n            <FormControlLabel\n              control={<Checkbox name=\"rsquare\" checked={formData.performanceIndicators.rsquare} onChange={handleChange} />}\n              label=\"R SQUARE\"\n            />\n            <FormControlLabel\n              control={<Checkbox name=\"rmse\" checked={formData.performanceIndicators.rmse} onChange={handleChange} />}\n              label=\"RMSE\"\n            />\n            <FormControlLabel\n              control={<Checkbox name=\"mse\" checked={formData.performanceIndicators.mse} onChange={handleChange} />}\n              label=\"MSE\"\n            />\n            <FormControlLabel\n              control={<Checkbox name=\"mae\" checked={formData.performanceIndicators.mae} onChange={handleChange} />}\n              label=\"MAE\"\n            />\n            <FormControlLabel\n              control={<Checkbox name=\"rpiq\" checked={formData.performanceIndicators.rpiq} onChange={handleChange} />}\n              label=\"RPIQ\"\n            />\n          </FormGroup>\n        </AccordionDetails>\n      </Accordion>\n      <div>\n\n\n      </div>\n      <div>\n\n\n      </div>\n      <Button onClick={handleSubmit} color=\"#89ca92\" variant=\"contained\">Submit Data</Button>\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n        <Typography variant=\"h6\" className={classes.progressText}>\n          Ejecutando el modelo... {timer}s\n        </Typography>\n      </Backdrop>\n    </div>\n  );\n}","/* Written by Ye Liu */\n\nimport React from 'react';\nimport M from 'materialize-css';\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Typography, Icon, IconButton } from '@material-ui/core';\n  \nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\n\nimport emitter from '@utils/events.utils';\nimport request from '@utils/request.utils';\nimport { checkEmptyObject } from '@utils/method.utils';\nimport { ACCESS_TOKEN, SERVICE } from '@/config';\n\nimport '@styles/dataController.style.css';\nimport ControlledAccordions from '@components/componentsJS/ControlledAccordions';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        minWidth: 350,\n        margin: 0,\n        zIndex: 900\n    },\n    rooot: {\n        width: '100%',\n      },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n      },\n      secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n      },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass SocController extends React.Component {\n    state = {\n        open: false,\n        resultUnwrap: false,\n        addPointUnwrap: false,\n        optionsOpen: false,\n        searching: false,\n        submitting: false,\n        anchorEl: null,\n        geometry: null,\n        previewImage: null,\n        previewMapUrl: null,\n        previewCoordinate: {},\n        loading: true,\n        traces: [],\n        precipitationData:[],\n        temperatureData: [],\n        watsatData: [],\n        layoutTemperature: {\n            title: 'Temperatura del Aire HC',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Temperatura (°C)' }\n        },\n        layoutPrecipitation: {\n            title: 'Precipitación',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Precipitación (mm)' }\n        },\n        layoutWatsat: {\n            title: 'Modelo Watsat',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Contenido Volumétrico de Agua' }\n        },\n        layout: {\n            barmode: 'stack',\n            title: 'Avistamientos de insectos por día',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Cantidad' }\n        },\n        items: [\n            {id: 1, title: 'item #1'},\n            {id: 2, title: 'item #2'},\n            {id: 3, title: 'item #3'},\n            {id: 4, title: 'item #4'},\n            {id: 5, title: 'item #5'}\n          ]\n        ,\n        data: [],\n        expanded:false,\n        searchOptions: [\n            {\n                value: 'gid',\n                label: 'Gid',\n                checked: true\n            },\n            {\n                value: 'name',\n                label: 'Name',\n                checked: true\n            },\n            {\n                value: 'pinyin',\n                label: 'Pinyin',\n                checked: true\n            },\n            {\n                value: 'introduction',\n                label: 'Introduction',\n                checked: false\n            }\n        ]\n    }\n\n    calculateSustainabilityIndex = () => {\n        let IoValue = this.state.Io === 1 ? this.state.IoType : 0; // Ajustar el valor de Io basado en si se aplica o no fertilizante\n        const index = 2.45 * this.state.Ic + 2.18 * this.state.Ih + 1.64 * this.state.Ig + 1.09 * IoValue + 1 * this.state.If;\n        this.setState({\n            sustainabilityIndex:index\n        })\n    };\n\n    handleDecision = (choice) => {\n        this.setState({ decision: choice });\n      };    \n\n    initMaterialbox = () => {\n        var elems = document.querySelectorAll('.materialboxed');\n        M.Materialbox.init(elems, {\n            onOpenStart: (e) => {\n                e.parentNode.style.overflow = 'visible';\n            },\n            onCloseEnd: (e) => {\n                e.parentNode.style.overflow = 'hidden';\n            }\n        });\n    }\n    \n    resetPreviewImage = () => {\n        this.setState({\n            previewImage: null\n        });\n    }\n\n    resetNewPointData = () => {\n        this.setState({\n            previewMapUrl: null,\n            geometry: null,\n            previewCoordinate: {}\n        });\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleDataSubmit = (data) => {\n        this.setState({url: data})\n        console.log(\"Datos recibidos en ModelController:\", data);\n        emitter.emit('moveURL', this.state.url);\n        // Puedes manejar los datos como desees aquí\n      };\n\n    handleAddClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        // Exit search mode\n        this.handleWrapClick();\n\n        // Initialize new point data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n\n    handleImageChange = (e) => {\n        // Check if file selected\n        if (!e.target.files[0]) {\n            return;\n        }\n\n        // Check image size (smaller than 1MB)\n        if (e.target.files[0].size > 1048576) {\n            emitter.emit('showSnackbar', 'error', 'Error: Image must be smaller than 1MB.');\n            return;\n        }\n\n        // Encode image with base64\n        this.state.reader.readAsDataURL(e.target.files[0]);\n    }\n\n    handleDoneEdit = () => {\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Initialize Materialbox\n        setTimeout(this.initMaterialbox, 800);\n    }\n\n    handleSearchOptionsClick = () => {\n        this.setState({\n            optionsOpen: true\n        });\n    }\n\n    handleSearchOptionsClose = () => {\n        this.setState({\n            optionsOpen: false\n        });\n    }\n\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handleSearchClick = () => {\n        // Exit add point mode\n        this.handleCancelClick();\n\n        // Get keyword\n        var keyword = document.getElementById('search-box').value;\n        if (!keyword) {\n            return;\n        }\n\n        // Show searching progress\n        this.setState({\n            searching: true\n        });\n\n        // Get search options\n        var options = {};\n        this.state.searchOptions.map(item => {\n            options[item.value] = item.checked;\n            return true;\n        });\n\n        // Initiate request\n        request({\n            url: SERVICE.search.url,\n            method: SERVICE.search.method,\n            params: {\n                keyword: keyword,\n                options: JSON.stringify(options)\n            },\n            successCallback: (res) => {\n                // Display data\n                this.setState({\n                    addPointWrapperClose: false,\n                    resultUnwrap: true,\n                    data: res.data\n                }, this.initMaterialbox);\n            },\n            finallyCallback: () => {\n                // Show search button\n                this.setState({\n                    searching: false\n                });\n            }\n        });\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSelectChange = (event) => {\n        this.setState({ [event.target.name]: Number(event.target.value) });\n    };\n\n    calculateSustainabilityIndex = () => {\n        const { Ic, Ih, Ig, Io, If, IoType } = this.state;\n        let IoValue = Io === 1 ? IoType : 0;\n        const index = 2.45 * Ic + 2.18 * Ih + 1.64 * Ig + 1.09 * IoValue + 1 * If;\n        this.setState({ sustainabilityIndex: index });\n    };\n\n    handleSubmitClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Show button progress\n        this.setState({\n            submitting: true\n        });\n\n        // Generate request parameters\n        var params = {\n            name: document.getElementById('name').value,\n            pinyin: document.getElementById('pinyin').value,\n            introduction: document.getElementById('introduction').value,\n            image: this.state.previewImage ? this.state.previewImage : {},\n            geometry: this.state.geometry\n        };\n\n        // Initiate request\n        request({\n            url: SERVICE.insert.url,\n            method: SERVICE.insert.method,\n            params: params,\n            successCallback: (res) => {\n                // Show snackbar\n                emitter.emit('showSnackbar', 'success', `Insert new object with Gid = '${res.gid}' successfully.`);\n\n                this.handleCancelClick();\n            },\n            finallyCallback: () => {\n                this.setState({\n                    searching: false,\n                    submitting: false\n                });\n            }\n        });\n    }\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleRowUpdate = (newData, oldData) => {\n        return new Promise(resolve => {\n            // Check if Gid changed\n            if (oldData.gid !== newData.gid) {\n                emitter.emit('showSnackbar', 'error', \"Column 'Gid' is readonly.\");\n            }\n\n            // Generate request parameters\n            var params = {\n                gid: oldData.gid\n            };\n\n            if (this.state.previewImage) {\n                newData.image = this.state.previewImage;\n            } else {\n                newData.image = {};\n            }\n\n            Object.keys(newData).map(key => {\n                if (key !== 'geometry' && newData[key] !== oldData[key]) {\n                    params[key] = newData[key]\n                }\n                return true;\n            });\n\n            // return if nothing to update\n            if (checkEmptyObject(params)) {\n                emitter.emit('showSnackbar', 'default', 'Nothing to update.');\n                return;\n            }\n\n            // Initiate request\n            request({\n                url: SERVICE.update.url,\n                method: SERVICE.update.method,\n                params: params,\n                successCallback: (res) => {\n                    // Show success snackbar\n                    var message = `Update ${res.count} ${res.count > 1 ? 'objects' : 'object'} successfully.`;\n                    emitter.emit('showSnackbar', 'success', message);\n\n                    // Refresh table\n                    var data = this.state.data;\n                    data[data.indexOf(oldData)] = newData;\n                    this.setState({\n                        data: data\n                    });\n                },\n                finallyCallback: () => {\n                    // Resolve promise\n                    resolve();\n\n                    // Exit edit mode\n                    this.handleDoneEdit();\n                }\n            });\n        });\n    }\n\n    handleRowDelete = (oldData) => {\n        return new Promise(resolve => {\n            // Initiate request\n            request({\n                url: SERVICE.delete.url,\n                method: SERVICE.delete.method,\n                params: {\n                    gid: oldData.gid\n                },\n                successCallback: (res) => {\n                    // Show success snackbar\n                    var message = `Delete ${res.count} ${res.count > 1 ? 'objects' : 'object'} successfully.`;\n                    emitter.emit('showSnackbar', 'success', message);\n\n                    // Refresh table\n                    var data = [...this.state.data];\n                    data.splice(data.indexOf(oldData), 1);\n                    this.setState({ ...this.state, data });\n                },\n                finallyCallback: () => {\n                    // Resolve promise\n                    resolve();\n\n                    // Remove temp layer\n                    emitter.emit('removeTempLayer');\n\n                    // Exit edit mode\n                    this.handleDoneEdit();\n                }\n            });\n        });\n    }\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openSocControllerListener = emitter.addListener('openSocController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n\n\n    \n        this.moveURListener = emitter.addListener('moveURL', () => {\n            this.moveURL();\n        });\n    }\n\n    \n    setIc(e){\n        this.setState({\n            Ic:e\n        })\n    }\n    setIh(e){\n        this.setState({\n            Ih:e\n        })\n    }\n    setIg(e){\n        this.setState({\n            Ig:e\n        })\n    }\n    setIo(e){\n        this.setState({\n            Io:e\n        })\n    }\n    setIoType(e){\n        this.setState({\n            IoType:e\n        })\n    }\n    setIf(e){\n        this.setState({\n            If:e\n        })\n    }\n\n    moveURL = () => {\n        var url = this.state.url\n        this.setState({ movedURL: url });\n        console.log(this.state.movedURL)\n\n    }\n    processTemperatureData = (data) => {\n        const trace = {\n            type: 'scatter', \n            mode: 'lines',\n            x: data.map(item => new Date(item.sampling_date)),\n            y: data.map(item => item.measurement_value),\n            name: 'Temperatura del Aire HC',\n        };\n\n        this.setState(({\n            temperatureData: [trace],\n            loading: false // Mantiene el estado de carga si hay más datos por cargar\n        }));\n    }\n\n    processPrecipitationData = (data) => {\n        const trace = {\n            type: 'scatter',\n            mode: 'lines',\n            x: data.map(item => new Date(item.sampling_date)),\n            y: data.map(item => item.measurement_value),\n            name: 'Precipitación'\n        };\n\n        this.setState({ precipitationData: [trace], loading: false });\n    }\n\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openSocControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n        emitter.removeListener(this.moveURListener);\n\n\n        // Destory Materialbox\n        //                         {loading ? <p>Cargando datos...</p> : <Plot data={traces} layout={layout} />}\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        return (\n            <MuiThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                        <Typography variant=\"h5\" className={styles.title}>Soil Organic Carbon Predictor</Typography>\n                        &nbsp;&nbsp;\n            <ControlledAccordions onSubmit={this.handleDataSubmit}/>\n            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </MuiThemeProvider >\n        );\n    }\n}\n\nexport default SocController;","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Backdrop , CircularProgress, InputLabel, Select,TextField, FormControl, MenuItem, Button } from '@material-ui/core';\nimport Accordion from '@material-ui/core/Accordion';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport { AttachFile, Description, PictureAsPdf, Theaters } from '@material-ui/icons';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    width: '100%',\n  },\n  dateInput: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n  progressText: {\n    marginLeft: theme.spacing(2),\n  },\n}));\n\nexport default function ControlledAccordions({ onSubmit }) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = useState(false);\n  const [formData, setFormData] = useState({\n    startDate: \"2024-04-14\",\n    endDate: \"2024-05-14\",\n    indexType: 'NDVI',\n    aoiDataFiles: []\n  });\n  const [loading, setLoading] = useState(false);\n  const [timer, setTimer] = useState(0);\n\n  useEffect(() => {\n    let timerInterval;\n    if (loading) {\n      timerInterval = setInterval(() => {\n        setTimer((prevTimer) => prevTimer + 1);\n      }, 1000);\n    } else {\n      clearInterval(timerInterval);\n    }\n\n    return () => clearInterval(timerInterval);\n  }, [loading]);\n\n\n  const handleChangeExp = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handlePreviewIcon = (fileObject, classes) => {\n    const {type} = fileObject.file\n    const iconProps = {\n      className : classes.image,\n    }\n  \n    if (type.startsWith(\"video/\")) return <Theaters {...iconProps} />\n  \n    switch (type) {\n      case \"application/msword\":\n      case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n        return <Description {...iconProps} />\n      case \"application/pdf\":\n        return <PictureAsPdf {...iconProps} />\n      default:\n        return <AttachFile {...iconProps} />\n    }\n  }\n\n  const handleFileChange = (name, files) => {\n    if (files && files.length > 0) {\n      const reader = new FileReader();\n      reader.onload = async (event) => {\n        try {\n        } catch (error) {\n          console.error(\"Error processing shapefile\", error);\n        }\n      };\n      reader.readAsArrayBuffer(files[0]);\n    }\n    setFormData(prev => ({\n      ...prev,\n      [name]: files\n    }));\n    \n  };\n\n\n  const handleSubmit = async () => {\n    try {\n      setLoading(true);\n      setTimer(0);\n      const data = new FormData();\n      \n      data.append('aoiDataFiles', formData.aoiDataFiles[0]);\n      data.append('indexType', formData.indexType)\n      data.append('startDate', formData.startDate)\n      data.append('endDate', formData.endDate)\n\n      const response = await fetch('http://localhost:5004/vegetation_index_change_inspector', {\n        method: 'POST',\n        body: data\n      });\n\n      const result = await response.json();\n      console.log(result)\n      if (result) {\n        console.log('Data sent successfully', result);\n        onSubmit(result);\n        setLoading(false);\n        return true;\n      }\n\n    } catch (error) {\n      console.error('Failed to send data', error);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Accordion expanded={expanded === 'panel1'} onChange={handleChangeExp('panel1')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1bh-content\"\n          id=\"panel1bh-header\"\n        >\n          <Typography className={classes.heading}>Choose a veg index</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n        <DropzoneArea\n            onChange={(files) => handleFileChange('aoiDataFiles', files)}\n            acceptedFiles={['.zip']}\n            dropzoneText=\"Area of Interest (AOI)\"\n            maxFileSize={5000000}\n            filesLimit={1}\n            getPreviewIcon={handlePreviewIcon}\n            />\n        </AccordionDetails>\n        <AccordionDetails>\n          <FormControl className={classes.formControl}>\n            <TextField\n              label=\"Start Date\"\n              type=\"date\"\n              name=\"startDate\"\n              value={formData.startDate}\n              onChange={handleChange}\n              className={classes.dateInput}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n            <TextField\n              label=\"End Date\"\n              type=\"date\"\n              name=\"endDate\"\n              value={formData.endDate}\n              onChange={handleChange}\n              className={classes.dateInput}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n            <InputLabel id=\"index-type-label\">Index Type</InputLabel>\n            <Select\n              labelId=\"index-type-label\"\n              id=\"index-type-select\"\n              value={formData.indexType}\n              onChange={handleChange}\n              name=\"indexType\"\n            >\n              <MenuItem value=\"NDVI\">NDVI</MenuItem>\n              <MenuItem value=\"EVI\">EVI</MenuItem>\n              <MenuItem value=\"SAVI\">SAVI</MenuItem>\n            </Select>\n          </FormControl>\n        </AccordionDetails>\n      </Accordion>\n      <Button onClick={handleSubmit} color=\"primary\" variant=\"contained\">Submit Data</Button>\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n        <Typography variant=\"h6\" className={classes.progressText}>\n          Ejecutando el modelo... {timer}s\n        </Typography>\n      </Backdrop>\n    </div>\n  );\n}","/* Written by Ye Liu */\n\nimport React from 'react';\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Typography, Icon, IconButton } from '@material-ui/core';\n  \nimport { ThemeProvider, createTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\n\nimport emitter from '@utils/events.utils';\nimport request from '@utils/request.utils';\nimport { ACCESS_TOKEN, SERVICE } from '@/config';\n\nimport '@styles/dataController.style.css';\nimport ControlledAccordions from '@components/componentsJS/ControlledAccordions_';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        minWidth: 350,\n        margin: 0,\n        zIndex: 900\n    },\n    rooot: {\n        width: '100%',\n      },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n      },\n      secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n      },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass VegInspectorController extends React.Component {\n    state = {\n        open: false,\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleDataSubmit = (data) => {\n        this.setState({url: data})\n        console.log(\"Datos recibidos en BandController:\", data);\n        emitter.emit('moveURL', this.state.url);\n        // Puedes manejar los datos como desees aquí\n      };\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handleSearchClick = () => {\n        // Exit add point mode\n        this.handleCancelClick();\n\n        // Get keyword\n        var keyword = document.getElementById('search-box').value;\n        if (!keyword) {\n            return;\n        }\n\n        // Show searching progress\n        this.setState({\n            searching: true\n        });\n\n        // Get search options\n        var options = {};\n        this.state.searchOptions.map(item => {\n            options[item.value] = item.checked;\n            return true;\n        });\n\n        // Initiate request\n        request({\n            url: SERVICE.search.url,\n            method: SERVICE.search.method,\n            params: {\n                keyword: keyword,\n                options: JSON.stringify(options)\n            },\n            successCallback: (res) => {\n                // Display data\n                this.setState({\n                    addPointWrapperClose: false,\n                    resultUnwrap: true,\n                    data: res.data\n                }, this.initMaterialbox);\n            },\n            finallyCallback: () => {\n                // Show search button\n                this.setState({\n                    searching: false\n                });\n            }\n        });\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSelectChange = (event) => {\n        this.setState({ [event.target.name]: Number(event.target.value) });\n    };\n\n\n    handleSubmitClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Show button progress\n        this.setState({\n            submitting: true\n        });\n\n        // Generate request parameters\n        var params = {\n            name: document.getElementById('name').value,\n            pinyin: document.getElementById('pinyin').value,\n            introduction: document.getElementById('introduction').value,\n            image: this.state.previewImage ? this.state.previewImage : {},\n            geometry: this.state.geometry\n        };\n\n        // Initiate request\n        request({\n            url: SERVICE.insert.url,\n            method: SERVICE.insert.method,\n            params: params,\n            successCallback: (res) => {\n                // Show snackbar\n                emitter.emit('showSnackbar', 'success', `Insert new object with Gid = '${res.gid}' successfully.`);\n\n                this.handleCancelClick();\n            },\n            finallyCallback: () => {\n                this.setState({\n                    searching: false,\n                    submitting: false\n                });\n            }\n        });\n    }\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openVegInspectorControllerListener = emitter.addListener('openVegInspectorController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n\n\n    \n        this.moveURListener = emitter.addListener('moveURL', () => {\n            this.moveURL();\n        });\n    }\n\n    \n    \n\n    moveURL = () => {\n        var url = this.state.url\n        this.setState({ movedURL: url });\n        console.log(this.state.movedURL)\n\n    }\n    \n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openBandControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n        emitter.removeListener(this.moveURListener);\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        return (\n            <ThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                        <Typography variant=\"h5\" className={styles.title}>Vegetation Index Change Inspector</Typography>\n                        &nbsp;&nbsp;\n                        <ControlledAccordions onSubmit={this.handleDataSubmit}/>\n            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </ThemeProvider >\n        );\n    }\n}\n\nexport default VegInspectorController;","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Backdrop, CircularProgress, Step, Stepper, StepLabel, InputLabel, MenuItem, TextField, Button, Select } from '@material-ui/core';\nimport { AttachFile, Description, PictureAsPdf, Theaters } from '@material-ui/icons';\nimport Typography from '@material-ui/core/Typography';\nimport { DropzoneArea } from 'material-ui-dropzone';\n\nimport Plot from 'react-plotly.js';\nimport shp from 'shpjs';\n\nconst steps = ['Select your AOI', 'Choose variable', 'Select data range'];\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& .MuiDropzoneArea-root': {\n      minHeight: '100px',\n      maxHeight: '200px',\n    }\n  },\n  fileDetails: {\n    marginTop: theme.spacing(1),\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: '33.33%',\n    flexShrink: 0,\n    fontWeight: 'bold',\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary,\n  },\n  checkBoxContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    width: '100%',\n  },\n  inputLabel: {\n    marginBottom: theme.spacing(1),\n  },\n  dateInput: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  foormControl: {\n    margin: theme.spacing(3),\n  },\n  dropzone: {\n    minHeight: '191px',\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n  progressText: {\n    marginLeft: theme.spacing(2),\n  },\n}));\n\nexport default function HorizontalLinearStepperData({ onSubmit }) {\n  const classes = useStyles();\n  const [numericColumns, setNumericColumns] = useState([]);\n  const [activeStep, setActiveStep] = useState(0);\n  const [plotData, setPlotData] = useState([]);\n  const [formData, setFormData] = useState({\n    startDate: '',\n    endDate: '',\n    equipmentType: '',\n    dataType: ''\n  });\n  const [dataTypes, setDataTypes] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [timer, setTimer] = useState(0);\n  const [isCompleted, setIsCompleted] = useState(false);\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n    setFormData({\n      startDate: '',\n      endDate: '',\n      equipmentType: '',\n      dataType: ''\n    });\n    setPlotData([]);\n    setIsCompleted(false);  // Reset the completion state\n  };\n\n  const handlePreviewIcon = (fileObject, classes) => {\n    const { type } = fileObject.file;\n    const iconProps = {\n      className: classes.image,\n    };\n\n    if (type.startsWith(\"video/\")) return <Theaters {...iconProps} />;\n\n    switch (type) {\n      case \"application/msword\":\n      case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n        return <Description {...iconProps} />;\n      case \"application/pdf\":\n        return <PictureAsPdf {...iconProps} />;\n      default:\n        return <AttachFile {...iconProps} />;\n    }\n  };\n\n  const handleChange = (event) => {\n    setFormData({ ...formData, [event.target.name]: event.target.value });\n  };\n\n  const processPlotData = (data) => {\n    console.log(data.sort((a, b) => a.Date - b.Date))\n    const sortedData = data.sort((a, b) => a.Date - b.Date);\n    const trace = {\n      type: 'scatter',\n      mode: 'lines',\n      x: sortedData.map(item => new Date(item.Date)),\n      y: sortedData.map(item => item.Value),\n      name: formData.dataType,\n    };\n    setPlotData([trace]);\n  };\n\n  const layoutWatsat = {\n    title: formData.dataType + ' Visualization',\n    xaxis: {\n      title: 'Date',\n      type: 'date'\n    },\n    yaxis: { title: formData.dataType + ' Content' }\n  };\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      setTimer(0);\n\n      const data = new FormData();\n      data.append('aoiDataFiles', formData.aoiDataFiles[0]);\n      data.append('varType', formData.dataType);\n\n      const response = await fetch(`http://localhost:5004/spatiotemporal_analysis`, {\n        method: 'POST',\n        body: data\n      });\n      setIsCompleted(true);  // Mark the process as completed\n\n      const result = await response.json();\n      console.log(result)\n      if (result && result.output) {\n        console.log(result.output[0])\n        //const data = JSON.parse(result.output);\n        console.log(data)\n        processPlotData(result.output);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch data: \", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    let timerInterval;\n    if (loading) {\n      timerInterval = setInterval(() => {\n        setTimer((prevTimer) => prevTimer + 1);\n      }, 1000);\n    } else {\n      clearInterval(timerInterval);\n    }\n\n    return () => clearInterval(timerInterval);\n  }, [loading]);\n\n  const handleFileChange = (name, files) => {\n    if (files && files.length > 0) {\n      const reader = new FileReader();\n      reader.onload = async (event) => {\n        try {\n          const data = await shp(event.target.result);\n          const columns = data.features.length > 0 ? Object.keys(data.features[0].properties) : [];\n          const numericColumns = columns.filter(key => typeof data.features[0].properties[key] === 'number');\n          setNumericColumns(numericColumns);\n        } catch (error) {\n          console.error(\"Error processing shapefile\", error);\n        }\n      };\n      reader.readAsArrayBuffer(files[0]);\n    }\n    setFormData(prev => ({\n      ...prev,\n      [name]: files\n    }));\n  };\n\n  const getStepContent = (step) => {\n    switch (step) {\n      case 0:\n        return (\n          <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column' }}>\n            <DropzoneArea\n              onChange={(files) => handleFileChange('aoiDataFiles', files)}\n              acceptedFiles={['.zip']}\n              dropzoneText=\"Area of Interest (AOI)\"\n              maxFileSize={5000000}\n              filesLimit={1}\n              getPreviewIcon={handlePreviewIcon}\n            />\n          </Box>\n        );\n      case 1:\n        return (\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n            <InputLabel id=\"data-type-label\">Data Type</InputLabel>\n            <Select\n              labelId=\"data-type-label\"\n              id=\"data-type-select\"\n              value={formData.dataType}\n              onChange={handleChange}\n              name=\"dataType\"\n              sx={{ width: 200, margin: 1 }}\n            >\n              <MenuItem value=\"NDVI\">NDVI</MenuItem>\n              <MenuItem value=\"EVI\">EVI</MenuItem>\n              <MenuItem value=\"TSAVI\">TSAVI</MenuItem>\n              <MenuItem value=\"MSI\">MSI</MenuItem>\n              <MenuItem value=\"PRECIPT\">PRECIPT</MenuItem>\n              <MenuItem value=\"TREE_COVER\">TREE COVER %</MenuItem>\n              <MenuItem value=\"ABVGRND_CARBON\">ABVGRND CARBON</MenuItem>\n            </Select>\n          </Box>\n        );\n      case 2:\n        return (\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n            <InputLabel id=\"data-type-label\">Data Range</InputLabel>\n            <TextField\n              label=\"Start Date\"\n              type=\"date\"\n              name=\"startDate\"\n              value={formData.startDate}\n              onChange={handleChange}\n              InputLabelProps={{ shrink: true }}\n              sx={{ margin: 1 }}\n            />\n            <TextField\n              label=\"End Date\"\n              type=\"date\"\n              name=\"endDate\"\n              value={formData.endDate}\n              onChange={handleChange}\n              InputLabelProps={{ shrink: true }}\n              sx={{ margin: 1 }}\n            />\n          </Box>\n        );\n    }\n  };\n\n  return (\n    <Box sx={{ width: '100%', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n      {!isCompleted && (\n        <Stepper activeStep={activeStep} sx={{ width: '80%', marginBottom: 2 }}>\n          {steps.map((label) => (\n            <Step key={label}>\n              <StepLabel>{label}</StepLabel>\n            </Step>\n          ))}\n        </Stepper>\n      )}\n      <div>\n        {activeStep === steps.length && !loading ? (\n          <React.Fragment>\n            <Button onClick={handleReset}>Reset</Button>\n            <Plot data={plotData} layout={layoutWatsat} />\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            {getStepContent(activeStep)}\n            <Box sx={{ display: 'flex', flexDirection: 'row', pt: 2, alignItems: 'center', justifyContent: 'center' }}>\n              <Button disabled={activeStep === 0} onClick={handleBack}>\n                Back\n              </Button>\n              <Button\n                onClick={() => {\n                  if (activeStep === steps.length - 1) {\n                    fetchData();\n                  }\n                  handleNext();\n                }}\n              >\n                {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\n              </Button>\n            </Box>\n            {loading && (\n              <Backdrop className={classes.backdrop} open={loading}>\n                <CircularProgress color=\"inherit\" />\n                <Typography variant=\"h6\" className={classes.progressText}>\n                  Ejecutando la consulta... {timer}s\n                </Typography>\n              </Backdrop>\n            )}\n          </React.Fragment>\n        )}\n      </div>\n    </Box>\n  );\n}\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Typography, Icon, IconButton } from '@material-ui/core';\n  \nimport { ThemeProvider, createTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\n\nimport emitter from '@utils/events.utils';\nimport request from '@utils/request.utils';\nimport { ACCESS_TOKEN, SERVICE } from '@/config';\n\nimport '@styles/dataController.style.css';\nimport HorizontalLinearStepperData from '../componentsJS/StepperData';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        minWidth: 350,\n        margin: 0,\n        zIndex: 900\n    },\n    rooot: {\n        width: '100%',\n      },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n      },\n      secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n      },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass SpatioTemporalAnalysisController extends React.Component {\n    state = {\n        open: false,\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleDataSubmit = (data) => {\n        this.setState({url: data})\n        console.log(\"Datos recibidos en BandController:\", data);\n        emitter.emit('moveURL', this.state.url);\n        // Puedes manejar los datos como desees aquí\n      };\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handleSearchClick = () => {\n        // Exit add point mode\n        this.handleCancelClick();\n\n        // Get keyword\n        var keyword = document.getElementById('search-box').value;\n        if (!keyword) {\n            return;\n        }\n\n        // Show searching progress\n        this.setState({\n            searching: true\n        });\n\n        // Get search options\n        var options = {};\n        this.state.searchOptions.map(item => {\n            options[item.value] = item.checked;\n            return true;\n        });\n\n        // Initiate request\n        request({\n            url: SERVICE.search.url,\n            method: SERVICE.search.method,\n            params: {\n                keyword: keyword,\n                options: JSON.stringify(options)\n            },\n            successCallback: (res) => {\n                // Display data\n                this.setState({\n                    addPointWrapperClose: false,\n                    resultUnwrap: true,\n                    data: res.data\n                }, this.initMaterialbox);\n            },\n            finallyCallback: () => {\n                // Show search button\n                this.setState({\n                    searching: false\n                });\n            }\n        });\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSelectChange = (event) => {\n        this.setState({ [event.target.name]: Number(event.target.value) });\n    };\n\n\n    handleSubmitClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Show button progress\n        this.setState({\n            submitting: true\n        });\n\n        // Generate request parameters\n        var params = {\n            name: document.getElementById('name').value,\n            pinyin: document.getElementById('pinyin').value,\n            introduction: document.getElementById('introduction').value,\n            image: this.state.previewImage ? this.state.previewImage : {},\n            geometry: this.state.geometry\n        };\n\n        // Initiate request\n        request({\n            url: SERVICE.insert.url,\n            method: SERVICE.insert.method,\n            params: params,\n            successCallback: (res) => {\n                // Show snackbar\n                emitter.emit('showSnackbar', 'success', `Insert new object with Gid = '${res.gid}' successfully.`);\n\n                this.handleCancelClick();\n            },\n            finallyCallback: () => {\n                this.setState({\n                    searching: false,\n                    submitting: false\n                });\n            }\n        });\n    }\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openSpatioTemporalAnalysisControllerListener = emitter.addListener('openSpatioTemporalAnalysisController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n\n\n    \n        this.moveURListener = emitter.addListener('moveURL', () => {\n            this.moveURL();\n        });\n    }\n\n    \n    \n\n    moveURL = () => {\n        var url = this.state.url\n        this.setState({ movedURL: url });\n        console.log(this.state.movedURL)\n\n    }\n    \n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openSpatioTemporalAnalysisControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n        emitter.removeListener(this.moveURListener);\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        return (\n            <ThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                        <Typography variant=\"h5\" className={styles.title}>Spatiotemporal Analysis</Typography>\n                        &nbsp;&nbsp;\n                        <HorizontalLinearStepperData/>\n            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </ThemeProvider >\n        );\n    }\n}\n\nexport default SpatioTemporalAnalysisController;","/* Written by Ye Liu */\n\nimport React from 'react';\nimport { SnackbarProvider } from 'notistack';\n\nimport Snackbar from '@components/snackbar';\nimport About from '@components/about';\nimport Navigator from '@components/navigator';\nimport Menu from '@components/menu';\nimport Login from '@components/login';\nimport Feature from '@components/feature';\nimport StyleController from '@components/controllers/styleController';\nimport LayerController from '@components/controllers/layerController';\nimport DataController from '@components/controllers/dataController';\nimport Canvas from '@components/canvas';\nimport Popup from '@components/popup';\nimport '@styles/materialize.min.style.css';\nimport SyncController from '../components/controllers/syncController';\nimport TreeController from '../components/controllers/treeController';\nimport RusleController from '../components/controllers/rusleController';\nimport SocController from '../components/controllers/socController'\nimport VegInspectorController from '../components/controllers/vegInspectorController';\nimport SpatioTemporalAnalysisController from '../components/controllers/spatioTemporalAnalysisController';\n\nclass Main extends React.Component {\n    render() {\n        return (\n            <SnackbarProvider maxSnack={3}>\n                <React.Fragment>\n                    <Snackbar />\n                    <About />\n                    <Navigator />\n                    <Menu />\n                    <Login />\n                    <Feature />\n                    <StyleController />\n                    <LayerController />\n                    <SocController />\n                    <RusleController />\n                    <VegInspectorController/>\n                    <SpatioTemporalAnalysisController/>\n                    <TreeController/>\n                    <DataController />\n                    <SyncController />\n                    <Popup />\n                    <Canvas />\n                </React.Fragment>\n            </SnackbarProvider>\n        );\n    }\n}\n\nexport default Main;\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\n\nimport Main from '@pages/main';\n\nconst Router = () => (\n    <HashRouter>\n        <Switch>\n            <Route exact path=\"/\" component={Main} />\n        </Switch>\n    </HashRouter>\n);\n\nexport default Router;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Router from '@router/router';\nimport * as serviceWorker from '@/serviceWorker';\n\nconst App = () => (\n    <Router />\n);\n\n// Render pages\nReactDOM.render(<App />, document.getElementById('root'));\n\n// Let the app work offline and load faster\nserviceWorker.register();\n"],"sourceRoot":""}