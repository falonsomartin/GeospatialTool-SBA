{"version":3,"sources":["utils/events.utils.js","components/snackbar.jsx","components/about.jsx","components/navigator.jsx","components/menu.jsx","components/login.jsx","components/feature.jsx","utils/map.utils.js","components/controllers/styleController.jsx","components/controllers/layerController.jsx","plugins/geocoder.plugin.js","plugins/marker.plugin.js","plugins/minimap.plugin.js","config.js","components/canvas.jsx","components/popup.jsx","components/componentsJS/ControlledAccordions__.js","components/controllers/rusleController.jsx","components/componentsJS/ControlledAccordions.js","components/controllers/socController.jsx","components/componentsJS/ControlledAccordions_.js","components/controllers/vegInspectorController.jsx","components/componentsJS/StepperData.js","components/controllers/spatioTemporalAnalysisController.jsx","pages/main.jsx","router/router.js","serviceWorker.js","index.js"],"names":["events_utils","EventEmitter","Snackbar","state","key","handleCloseClick","_this","props","closeSnackbar","_this2","this","action","react_default","a","createElement","Fragment","Button","className","onClick","bind","showSnackbarListener","emitter","addListener","variant","message","console","log","enqueueSnackbar","autoHideDuration","showloggingSnackbarListener","e","concat","persist","setState","hideloggingSnackbarListener","removeListener","React","Component","withSnackbar","styles","root","position","top","zIndex","logoContainer","height","logo","flexContainer","right","display","flexDirection","justifyContent","svgIcon","width","fontIcon","fontSize","toolbar","background","About","modal","document","addEventListener","elem","getElementById","M","Modal","init","destory","id","href","style","src","alt","theme","createTheme","palette","primary","main","grey","Navigator","loggedin","token","handleLoginClick","emit","handleLogoutClick","localStorage","removeItem","cookie","split","forEach","c","replace","Date","toUTCString","handleToken","setLoginStateListener","on","ThemeProvider","AppBar","Toolbar","Tooltip","title","aria-label","enterDelay","IconButton","color","data-target","Icon","bottom","Menu","open","actions","name","icon","callback","handleClose","handleClick","handleOpen","openMenuListener","SpeedDial","ariaLabel","SpeedDialIcon","openIcon","onMouseEnter","onMouseLeave","map","SpeedDialAction","tooltipTitle","axios","defaults","baseURL","withCredentials","indigo","A200","catastralList","interceptors","request","use","config","origin","URL","url","allowedOrigins","getItem","includes","headers","authorization","error","Promise","reject","loginContainer","alignItems","marginBottom","inputBox","marginTop","autocomplete","flexWrap","overflow","checkBox","loginBtnContainer","loginBtn","loginBtnProgress","left","marginLeft","Transition","forwardRef","ref","Slide","Object","assign","direction","Login","remember","logining","mode","selectedOptions","datasets","handleLoginClose","handleRememberChange","target","checked","handleChangeForm","handleChangeAutoComplete","newValue","updatedReferences","option","reference","getUserParcels","_callee","userId","response","regenerator_default","wrap","_context","prev","next","get","sent","status","updateDatasetUtilsFile","data","statusText","t0","stop","_callee2","newUser","userID","_context2","username","value","password","md5","post","setItem","idUser","moveDataset","datos","movedData","parcels","parcel","catastral_ref","geojson_data","loginListener","moveDatasetListener","Dialog","TransitionComponent","onClose","Typography","gutterBottom","TextField","margin","label","type","Autocomplete","multiple","onChange","limitTags","options","getOptionLabel","renderOption","_ref4","selected","Checkbox","marginRight","renderInput","params","placeholder","renderTags","disabled","CircularProgress","size","Feature","tapTarget","getElementsByClassName","setAttribute","elems","querySelectorAll","TapTarget","mapStyles","Streets","Light","Dark","Navigation","borderRadius","header","backgroundColor","closeBtn","stylePreview","cursor","StyleController","handleStyleClick","openStyleControllerListener","closeAllControllerListener","_this3","in","Card","CardContent","component","Grid","container","spacing","keys","item","index","styleCard","xs","GlobalStyles","typography","fontFamily","overrides","MuiCssBaseline","@global","body","boxShadow","content","paddingBottom","select","layerList","layerItem","paddingLeft","paddingRight","layerText","flexGrow","maxWidth","whiteSpace","textOverflow","checkbox","slider","LayerController","mapp","resolution","zoom","layerForm","layers","assets","selectedAsset","mapUrl","truncateLayerName","length","substring","handleDatasetChange","deleting","handleShapeChange","shape","handleLayerVisibilityChange","layerId","updatedLayers","layer","objectSpread","visible","find","handleTransparencyChange","transparency","splitAssetName","assetPath","parts","lastPart","startsWith","handleDrop","event","preventDefault","files","dataTransfer","file","reader","FileReader","onload","geoJsonData","JSON","parse","result","newLayer","prevState","defineProperty","toConsumableArray","readAsText","fetchAssets","fetch","json","fetchMapUrl","_callee3","assetId","assetType","_context3","method","Content-Type","stringify","asset_id","asset_type","map_url","handleAssetChange","selectedType","selectedAssetType","openLayerControllerListener","newLayerListener","setMapZoomListener","z","handleDatasetRemoveListener","handleDatasetRemove","window","handleDragOver","prevProps","updateDatasets","removeEventListener","fontWeight","FormControl","InputLabel","Select","asset","MenuItem","List","ListItem","ListItemText","sx","Slider","min","max","geocoder","query","matches","match","coordinateFeature","lng","lat","center","geometry","coordinates","place_name","place_type","properties","coord1","Number","coord2","geocodes","push","marker","Uint8Array","onAdd","canvas","context","getContext","render","t","performance","now","clearRect","beginPath","arc","Math","PI","fillStyle","fill","strokeStyle","lineWidth","stroke","getImageData","triggerRepaint","Minimap","_ticking","_lastMouseMoveEvent","_parentMap","_isDragging","_isCursorOverFeature","_previousPoint","_currentPoint","_trackingRectCoordinates","prototype","mapboxgl","NavigationControl","parentMap","_container","_createContainer","_miniMap","Map","attributionControl","_load","_preventDefault","getContainer","appendChild","_zoomAdjust","disable","bounds","getBounds","_convertBoundsToPoints","addSource","addLayer","source","layout","paint","line-color","line-width","line-opacity","fill-color","fill-opacity","_trackingRect","getSource","_update","_mouseMove","_mouseDown","_mouseUp","_miniMapCanvas","getCanvasContainer","lngLat","features","queryRenderedFeatures","point","offset","newBounds","_moveTrackingRect","fitBounds","duration","noMoveStart","_data","_ne","_sw","setData","_setTrackingRectBounds","parentBounds","parentZoom","parseInt","getZoom","flyTo","getCenter","bearing","ACCESS_TOKEN","Canvas","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","removeTempLayer","getStyle","removeLayer","removeSource","popup","isOpen","remove","removeAllLayer","add3dLayer","labelLayerId","getLayer","moveLayer","source-layer","filter","minzoom","fill-extrusion-color","fill-extrusion-height","fill-extrusion-base","fill-extrusion-opacity","removeTempPoint","draw","delete","tempId","handleURLMoved","movedURL","tiles","tileSize","raster-opacity","mapContainer","createRef","minimap","gettingPoint","styleCode","values","accessToken","supported","current","antialias","MapboxDraw","controls","combine_features","uncombine_features","addControl","MapboxGeocoder","localGeocoder","GeolocateControl","MapboxTraffic","trafficSource","RegExp","Popup","closeButton","anchor","setHTML","classList","add","zoomLevel","setMapStyleListener","setStyle","removeControl","toggleLayerVisibilityListener","setLayoutProperty","changeLayerTransparencyListener","setPaintProperty","displayDatasetListener","circle-radius","circle-color","flyToGeometry","removeDatasetListener","displayTempLayerListener","hasImage","addImage","pixelRatio","icon-image","setLngLat","addTo","alert","minWidth","image","titleContainer","padding","titleContainerEnd","nameContainer","popupName","popupPinyin","weatherWidgetContainer","introductionContainer","paddingTop","popupIntroduction","wordWrap","wordBreak","bindPopupListener","el","script","toString","CardMedia","introduction","pinyin","useStyles","makeStyles","& .MuiDropzoneArea-root","minHeight","maxHeight","fileDetails","heading","pxToRem","flexBasis","flexShrink","secondaryHeading","text","secondary","checkBoxContainer","formControl","inputLabel","dateInput","foormControl","dropzone","backdrop","drawer","progressText","ControlledAccordions","_ref","onSubmit","classes","_useState","useState","setNumericColumns","slicedToArray","_useState3","setSelectedOption","_useState5","_useState6","expanded","setExpanded","_useState7","rf","svm","knn","aoiDataFiles","startDate","endDate","satelliteData","sentinel1","sentinel2","landsat","indexes","vegetationIndexes","brightnessIndexes","moistureIndexes","modelFeatures","numberOfTrees","seed","bagFraction","performanceIndicators","rsquare","rmse","mse","mae","rpiq","_useState8","formData","setFormData","_useState9","_useState10","loading","setLoading","_useState11","_useState12","timer","setTimer","useEffect","timerInterval","setInterval","prevTimer","clearInterval","handleChangeExp","panel","isExpanded","handleChange","_event$target","handleSubmit","_ref3","asyncToGenerator","mark","_key","_key2","_key3","FormData","append","apply","arguments","Accordion","AccordionSummary","expandIcon","ExpandMore_default","aria-controls","AccordionDetails","index_es","_ref2","columns","numericColumns","shp","_x","readAsArrayBuffer","handleFileChange","acceptedFiles","dropzoneText","maxFileSize","filesLimit","getPreviewIcon","fileObject","iconProps","Theaters","Description","PictureAsPdf","AttachFile","sm","InputLabelProps","shrink","Backdrop","rooot","searchField","searchBox","flex","border","searchBoxBtn","searchOptionsContainer","searchOption","searchBoxProgress","searchBoxDivider","resultWrapperOpen","resultWrapperClosed","resultContainer","resultTable","uploadBoxInput","uploadBoxBtnEdit","lineHeight","textAlign","wrapBtn","addPointWrapperOpen","addPointWrapperClose","uploadBoxBtnAdd","previewImageContainer","nameTextField","pinyinTextField","introTextField","locationImageContainer","locationImage","locationLabel","saveBtn","saveBtnProgress","RusleController","resultUnwrap","addPointUnwrap","optionsOpen","searching","submitting","anchorEl","previewImage","previewMapUrl","previewCoordinate","traces","items","calculateSustainabilityIndex","IoValue","Io","IoType","Ic","Ih","Ig","If","sustainabilityIndex","handleDecision","choice","decision","initMaterialbox","Materialbox","onOpenStart","parentNode","onCloseEnd","resetPreviewImage","resetNewPointData","handleDataSubmit","handleAddClick","handleWrapClick","handleImageChange","readAsDataURL","handleDoneEdit","setTimeout","handleSearchOptionsClick","handleSearchOptionsClose","handleSearchOptionChange","flag","searchOptions","currentTarget","handleSearchClick","handleCancelClick","handlePreviewClick","handlePreviewMapClick","handleSelectChange","moveURL","processTemperatureData","trace","x","sampling_date","y","measurement_value","temperatureData","processPrecipitationData","precipitationData","Image","longitude","openRusleControllerListener","updatePointListener","feature","_feature$geometry$coo","parseFloat","toFixed","moveURListener","addPointListener","_useState2","_useState4","selectedColumn","setSelectedColumn","selectedOption","soilDataFiles","_useState13","_useState14","FormGroup","RadioGroup","row","FormControlLabel","control","Radio","_numericColumns","fullWidth","labelId","column","inputProps","step","handleModelFeatures","SocController","_this$state","handleSubmitClick","openSocControllerListener","ControlledAccordions_ControlledAccordions","indexType","abrupt","VegInspectorController","openVegInspectorControllerListener","openBandControllerListener","componentsJS_ControlledAccordions_ControlledAccordions","steps","HorizontalLinearStepperData","activeStep","setActiveStep","plotData","setPlotData","equipmentType","dataType","isCompleted","setIsCompleted","handlePreviewIcon","processPlotData","sort","b","sortedData","Value","layoutWatsat","xaxis","yaxis","fetchData","output","finish","Box","Stepper","Step","StepLabel","getStepContent","pt","prevActiveStep","react_plotly_default","SpatioTemporalAnalysisController","openSpatioTemporalAnalysisControllerListener","Main","build","maxSnack","snackbar","about","components_navigator","menu","login","components_feature","styleController","layerController","socController","rusleController","vegInspectorController","spatioTemporalAnalysisController","components_popup","Router","react_router_dom","react_router","exact","path","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","router","process","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.fe7e3267.chunk.js","sourcesContent":["/* Written by Ye Liu */\n\nimport { EventEmitter } from 'events';\n\nexport default new EventEmitter();\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport { withSnackbar } from 'notistack';\n\nimport Button from '@material-ui/core/Button';\n\nimport emitter from '@utils/events.utils';\nimport '@styles/snackbar.style.css';\n\nclass Snackbar extends React.Component {\n    state = {\n        key: null\n    }\n\n    handleCloseClick = (key) => {\n        this.props.closeSnackbar(key);\n    }\n\n    componentDidMount() {\n        // Initialize dismiss action\n        const action = (key) => (\n            <React.Fragment>\n                <Button className=\"snackbar-btn white-text\" onClick={this.handleCloseClick.bind(this, key)}>DISMISS</Button>\n            </React.Fragment>\n        );\n        // Bind event listeners\n        this.showSnackbarListener = emitter.addListener('showSnackbar', (variant, message) => {\n            // Show snackbar\n            console.log(message)\n\n            this.props.enqueueSnackbar(message, {\n                variant: variant,\n                autoHideDuration: 3000,\n                action\n            });\n        });\n\n        this.showloggingSnackbarListener = emitter.addListener('showloggingSnackbar', (e) => {\n            // Show persist snackbar\n            var message = `Logging to ${e}...`;\n            var key = this.props.enqueueSnackbar(message, {\n                variant: 'info',\n                persist: true,\n            });\n\n            // Save snackbar key\n            this.setState({\n                key: key\n            });\n        });\n\n        this.hideloggingSnackbarListener = emitter.addListener('hideloggingSnackbar', () => {\n            // Hide persist snackbar\n            this.props.closeSnackbar(this.state.key);\n        });\n    }\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.showSnackbarListener);\n        emitter.removeListener(this.showloggingSnackbarListener);\n        emitter.removeListener(this.hideloggingSnackbarListener);\n    }\n\n    render() {\n        return (\n            <div></div>\n        );\n    }\n}\n\nexport default withSnackbar(Snackbar);\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport M from 'materialize-css';\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 0,\n        zIndex: 900\n    },\n    logoContainer: {\n        height: '60px'\n    },\n    logo: {\n        height: '55px',\n    },\n    flexContainer: {\n        position: 'absolute',\n        right: 12,\n        display: 'flex',\n        flexDirection: 'row-reverse',\n        justifyContent: 'flex-start'\n    },\n    svgIcon: {\n        width: 24,\n        height: 24\n    },\n    fontIcon: {\n        fontSize: 29\n    },\n    toolbar:{\n        background: '#89ca92'\n    }\n};\n\nclass About extends React.Component {\n    state = {\n        modal: null\n    }\n\n    componentDidMount() {\n        // Initialize Modal\n        document.addEventListener('DOMContentLoaded', () => {\n            var elem = document.getElementById('about');\n            var modal = M.Modal.init(elem);\n            this.setState({\n                modal: modal\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Destory Modal\n        this.state.modal.destory();\n    }\n\n    render() {\n        return (\n            <div id=\"about\" className=\"modal\">\n                <div className=\"modal-content\">\n                    <h4>About</h4>\n                    <p>\n                    Designed & Written by&nbsp;\n                    <a href=\"https://evenor-tech.com/\">Evenor-Tech</a>.\n                    </p>\n                    <p>\n                        <a style={styles.logoContainer} href=\"https://www.steambioafrica.com/\">\n                        <img style={styles.logo} src=\"./static/assets/eu.png\" alt=\"\" />\n                        </a>\n                    </p>\n                    \n                </div>\n                <div className=\"modal-footer\">\n                    <button className=\"modal-close waves-effect waves-light btn-flat\">OK</button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default About;\n","/* Written by Ye Liu */\n\nimport React from 'react';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Icon from '@material-ui/core/Icon';\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport grey from '@material-ui/core/colors/grey';\n\nimport emitter from '@utils/events.utils';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: grey[900]\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 0,\n        zIndex: 900\n    },\n    logoContainer: {\n        height: '60px',\n    },\n    logo: {\n        height: '55px',\n    },\n    flexContainer: {\n        position: 'absolute',\n        right: 12,\n        display: 'flex',\n        flexDirection: 'row-reverse',\n        justifyContent: 'flex-start'\n    },\n    svgIcon: {\n        width: 24,\n        height: 24\n    },\n    fontIcon: {\n        fontSize: 29\n    },\n    toolbar:{\n        background: '#89ca92'\n    }\n};\n\nclass Navigator extends React.Component {\n    state = {\n        loggedin: false,\n        token:null\n    }\n\n    handleLoginClick = () => {\n        // Display login modal\n        emitter.emit('login');\n    }\n\n    handleLogoutClick = () => {\n        // Initiate request\n        // request({\n        //    url: SERVICE.logout.url,\n        //    method: SERVICE.logout.method,\n        //    successCallback: (res) => {\n                // Display snackbar\n                emitter.emit('removeAllLayer');\n                emitter.emit('removeDataset');\n                emitter.emit('removeAllDataset');\n                emitter.emit('handleDatasetRemove');\n                localStorage.removeItem('token');\n                localStorage.removeItem('jwt');\n                document.cookie.split(\";\").forEach(function(c) { document.cookie = c.replace(/^ +/, \"\").replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\"); });\n\n                emitter.emit('showSnackbar', 'success', 'Logout successfully.');\n                // Switch login icon\n                this.setState({\n                    token:null,\n                    loggedin: false\n                })\n            //}\n        //});\n    }\n\n    handleToken = (token) => {\n        console.log('Received token:', token);\n        // Aqu puedes hacer algo con los datos, como establecer el estado\n        this.setState({ token: token });\n    }\n\n    componentDidMount() {\n        // Bind event listener\n        this.setLoginStateListener = emitter.addListener('setLoginState', e => {\n            this.setState({\n                loggedin: e\n            })\n        });\n        emitter.on('handleToken', this.handleToken);\n    }\n\n    componentWillUnmount() {\n        // Remove event listener\n        emitter.removeListener(this.setLoginStateListener);\n    }\n\n    render() {\n        return (\n            <MuiThemeProvider theme={theme} >\n                <AppBar style={styles.root} position=\"static\">\n                    <Toolbar style={styles.toolbar}>\n                        {/* Logo */}\n                        <a style={styles.logoContainer} href=\"https://evenor-tech.com/\">\n                        <img style={styles.logo} src=\"./static/assets/logo.png\" alt=\"\" />\n                        </a>\n\n                        &nbsp;\n                        &nbsp;\n                        &nbsp;\n                        &nbsp;\n\n                        <a style={styles.logoContainer} href=\"https://www.steambioafrica.com/\">\n                        <img style={styles.logo} src=\"./static/assets/bioafrica.png\" alt=\"\" />\n                        </a>\n\n                        {/* Icons */}\n                        <div style={styles.flexContainer}>\n                            <Tooltip title=\"About\" aria-label=\"About\" enterDelay={200}>\n                                <IconButton className=\"icon-container modal-trigger\" aria-label=\"About\" color=\"inherit\" data-target=\"about\">\n                                    <Icon style={styles.fontIcon}>info_outline</Icon>\n                                </IconButton>\n                            </Tooltip>\n                        </div>\n                    </Toolbar>\n                </AppBar>\n            </MuiThemeProvider>\n        );\n    }\n}\n\nexport default Navigator;\n","/* Written by Ye Liu */\n\nimport React from 'react';\n\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport Icon from '@material-ui/core/Icon';\nimport emitter from '@utils/events.utils';\nimport '@styles/menu.style.css';\nconst styles = {\n    root: {\n        position: 'fixed',\n        right: 24,\n        bottom: 24,\n        zIndex: 1000\n    }\n};\n\nclass Menu extends React.Component {\n    state = {\n        open: false,\n        actions: [\n            {\n                name: 'Switch style',\n                icon: <Icon>brush</Icon>,\n                color: \"red accent-2\",\n                callback: () => {\n                    emitter.emit('closeAllController');\n                    emitter.emit('openStyleController');\n                    this.handleClose();\n                }\n            },\n            {\n                name: 'Spatiotemporal Analysis',\n                icon: <Icon>satellite_alt</Icon>,\n                color: \"orange\",\n                callback: () => {\n                    emitter.emit('closeAllController');\n                    emitter.emit('openSpatioTemporalAnalysisController');\n                    this.handleClose();\n                }\n            },\n            {\n                name: 'Vegetation Index Change Inspector',\n                icon: <Icon>image_search</Icon>,\n                color: \"blue\",\n                callback: () => {\n                    emitter.emit('closeAllController');\n                    emitter.emit('openVegInspectorController');\n                    this.handleClose();\n                }\n            },\n            {\n                name: 'Rusle Modelling',\n                icon: <Icon>grass</Icon>,\n                color: \"green\",\n                callback: () => {\n                    emitter.emit('closeAllController');\n                    emitter.emit('openRusleController');\n                    this.handleClose();\n                }\n            },\n            {\n                name: 'SOC Prediction',\n                icon: <Icon>psychology</Icon>,\n                color: \"purple darken-1\",\n                callback: () => {\n                    emitter.emit('closeAllController');\n                    emitter.emit('openSocController');\n                    this.handleClose();\n                }\n            },\n            {\n                name: 'Configure layers',\n                icon: <Icon>layers</Icon>,\n                color: \"yellow darken-1\",\n                callback: () => {\n                    emitter.emit('closeAllController');\n                    emitter.emit('openLayerController');\n                    this.handleClose();\n                }\n            }\n        ]\n    }\n\n    handleClick = () => {\n        this.setState(state => ({\n            open: !state.open,\n        }));\n    }\n\n    handleOpen = () => {\n        this.setState({\n            open: true\n        });\n    }\n\n    handleClose = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    componentDidMount() {\n        // Bind event listener\n        this.openMenuListener = emitter.addListener('openMenu', () => {\n            this.setState({\n                open: true\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Remove event listener\n        emitter.removeListener(this.openMenuListener);\n    }\n\n    render() {\n        return (\n            <SpeedDial\n                style={styles.root}\n                open={this.state.open}\n                ariaLabel=\"Menu\"\n                icon={<SpeedDialIcon icon={<Icon>menu</Icon>} openIcon={<Icon>clear</Icon>} />}\n                onMouseEnter={this.handleOpen}\n                onMouseLeave={this.handleClose}\n                onClick={this.handleClick}\n            >\n                {this.state.actions.map(action => {\n                    return (\n                        <SpeedDialAction\n                            key={action.name}\n                            className={action.color}\n                            icon={action.icon}\n                            tooltipTitle={action.name}\n                            onClick={action.callback} />\n                    );\n                })}\n            </SpeedDial>\n        );\n    }\n}\n\nexport default Menu;\n","/* Written by Ye Liu */\n\nimport md5 from 'md5';\nimport React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport Slide from '@material-ui/core/Slide';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport indigo from '@material-ui/core/colors/indigo';\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport datasets from '@utils/dataset.utils';\nimport emitter from '@utils/events.utils';\nimport axios from \"axios\";\n\n\naxios.defaults.baseURL = 'http://localhost:5000';  // Asegrate de que la URL base es correcta\naxios.defaults.withCredentials = true; // Importante para enviar cookies\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst catastralList = [\"41046A010000100000DU\",\"41041A014001860000HF\",\"41041A014001790000HQ\", \"41041A015002920000HF\", \"41041A015002760000HH\", \"41041A015002730000HS\", \"41041A014000920000HF\", \"41041A007003790000HK\", \"41041A005000430000HO\"];\n\nconst apiUrl = 'http://localhost:5000';\n\n\naxios.interceptors.request.use(\n    config => {\n      const { origin } = new URL(config.url);\n      const allowedOrigins = [apiUrl];\n      const token = localStorage.getItem('token');\n      if (allowedOrigins.includes(origin)) {\n        config.headers.authorization = `Bearer ${token}`;\n      }\n      return config;\n    },\n    error => {\n      return Promise.reject(error);\n    }\n  );\n\nconst styles = {\n    loginContainer: {\n        width: 300,\n        height: 350,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n    },\n    title: {\n        marginBottom: 20\n    },\n    inputBox: {\n        width: 240,\n        marginTop: 15\n    },\n    autocomplete: {\n        width: 240,       \n        display: 'flex',\n        flexWrap: 'wrap',\n        overflow: 'auto',\n    },\n    checkBox: {\n        width: 140\n    },\n    loginBtnContainer: {\n        display: 'inline-block',\n        position: 'relative'\n    },\n    loginBtn: {\n        width: 120,\n        marginTop: 20\n    },\n    loginBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -3,\n        marginLeft: -12,\n    }\n};\n\n\n\nconst Transition = React.forwardRef((props, ref) => {\n    return <Slide direction=\"down\" ref={ref} {...props} />;\n});\n\nclass Login extends React.Component {\n    state = {\n        open: false,\n        remember: false,\n        logining: false,\n        mode: 'login',\n        selectedOptions:[],\n        datasets:{}\n    }\n\n    handleLoginClose = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleRememberChange = (e) => {\n        this.setState({\n            remember: e.target.checked\n        });\n    }\n\n    handleChangeForm = (e) => {\n        this.setState({\n            mode: this.state.mode === 'login' ? 'Login' : 'Register'\n        });\n        console.log(this.state.mode)\n    }\n\n    handleChangeAutoComplete = (e, newValue) => {\n        const updatedReferences = newValue.map(option => option.reference);\n        this.setState({ selectedOptions: updatedReferences }, () => {\n            console.log(this.state.selectedOptions);  // This will now output the updated state\n          });\n    };\n\n    getUserParcels = async (userId) => {\n        try {\n            const response = await axios.get(`http://localhost:5000/users/${userId}/parcels`);\n            if (response.status === 200) {\n                this.updateDatasetUtilsFile(response.data);\n                console.log(\"Parcelas recibidas:\", response.data);\n            } else {\n                console.error(\"No se pudieron obtener las parcelas:\", response.statusText);\n            }\n        } catch (error) {\n            console.error(\"Error al obtener las parcelas:\", error);\n        }\n    }\n\n    updateDatasetUtilsFile(parcels) {\n        parcels.forEach(parcel => {\n            datasets[parcel.catastral_ref] = {\n                data: parcel.geojson_data\n            };\n        });\n\n        this.setState({\n            datasets: datasets\n        })\n    \n        console.log(\"Updated datasets:\", this.state.datasets);\n\n        emitter.emit('moveDataset', this.state.datasets);\n    }    \n\n    handleLoginClick = async () => {\n        // Show button progress\n        this.setState({\n            logining: true\n        });\n        const newUser = {\n            username: document.getElementById('username').value,\n            password: md5(document.getElementById('password').value),\n          };\n        // Generate request parameters\n        const response = await axios.post(\n            \"http://localhost:5000/login\",\n            newUser\n          );\n\n\n        if(response.status===200){\n            const userID = response.data.message[0];\n            const token = response.data.message[1];\n            emitter.emit('handleToken', token); // Emitiendo el evento con los datos\n\n            localStorage.removeItem('token'); \n            localStorage.removeItem('jwt');\n            // Limpiar token anterior\n            localStorage.setItem('token', token);  // Almacenar nuevo token\n\n            emitter.emit('showSnackbar', 'success', `User login successfully.`);\n            emitter.emit('setLoginState', true);\n\n            this.getUserParcels(userID);\n\n            // Actualizar el estado una sola vez\n            this.setState({\n                open: false,\n                logining: false,\n                idUser: userID\n            });\n\n            console.log(localStorage.getItem('token'))\n\n        }else{\n\n        }\n    }\n\n\n    moveDataset = () => {\n        var datos = this.state.datasets\n        this.setState({ movedData: datos });\n        console.log(this.state.movedData)\n\n    }\n\n    componentDidMount() {\n        // Bind event listener\n        this.loginListener = emitter.addListener('login', () => {\n            this.setState({\n                open: true\n            });\n            \n        });\n\n        this.moveDatasetListener = emitter.addListener('moveDataset', () => {\n            this.moveDataset();\n        });\n        \n    }\n    \n\n    componentWillUnmount() {\n        // Remove event listener\n        emitter.removeListener(this.loginListener);\n        emitter.removeListener(this.moveDatasetListener);\n\n    }\n\n    render() {\n        return (\n            <MuiThemeProvider theme={theme}>\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleLoginClose}>\n                    <div style={styles.loginContainer}>\n                        {this.state.mode === 'login' ?                         \n                        <><Typography style={styles.title} variant=\"h5\" gutterBottom>Inicio de Sesin</Typography><TextField\n                                style={styles.inputBox}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                id=\"username\"\n                                label=\"Usuario\" /><TextField\n                                    style={styles.inputBox}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    id=\"password\"\n                                    type=\"password\"\n                                    label=\"Contrasea\" /></>\n :                       <><Typography style={styles.title} variant=\"h5\" gutterBottom>Registro</Typography>\n                            <TextField\n                                style={styles.inputBox}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                id=\"username\"\n                                label=\"Usuario\" />\n                            <TextField\n                                style={styles.inputBox}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                id=\"password\"\n                                type=\"password\"\n                                label=\"Contrasea\" />\n\n                            <Autocomplete\n                            style={styles.inputBox}\n                            multiple\n                            onChange={this.handleChangeAutoComplete}\n                            limitTags={1}\n                            id=\"checkboxes-tags-demo\"\n                            options={catastralList}\n                            getOptionLabel={(option) => option}\n                            renderOption={(option, { selected }) => (\n                                <React.Fragment>\n                                <Checkbox\n                                    style={{ marginRight: 1, marginLeft:1 }}\n                                    checked={selected}\n                                />\n                                {option}\n                                </React.Fragment>\n                            )}\n                            renderInput={(params) => (\n                                <TextField id=\"lista\" {...params} variant=\"outlined\" label=\"Checkboxes\" placeholder=\"Favorites\" />\n                            )}\n\n                            renderTags={() => null} // No renderizar tags en el TextField\n\n                            />\n                             </>\n}\n\n                        <div style={styles.loginBtnContainer}>\n                            <Button style={styles.loginBtn} variant=\"contained\" color=\"primary\" disabled={this.state.logining} onClick={this.handleLoginClick}>INICIAR SESIN</Button>\n                            {this.state.logining && <CircularProgress style={styles.loginBtnProgress} size={24} />}\n                            <Button style={styles.loginBtn} onClick={this.handleChangeForm} color=\"primary\">\n                            {this.state.mode === 'login' ? 'Register' : 'Login'}\n                        </Button>\n                        </div>\n                    </div>\n                </Dialog>\n            </MuiThemeProvider>\n        );\n    }\n}\n\nexport default Login;\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport M from 'materialize-css';\n\nclass Feature extends React.Component {\n    state = {\n        tapTarget: null\n    }\n\n    componentDidMount() {\n        document.addEventListener('DOMContentLoaded', () => {\n            // Set anchor id\n            document.getElementsByClassName('MuiSpeedDial-fab')[0].setAttribute('id', 'menu');\n\n            // Initialize TapTarget\n            var elems = document.querySelectorAll('.tap-target');\n            var tapTarget = M.TapTarget.init(elems)[0];\n\n            // Display feature\n            tapTarget.open();\n\n            this.setState({\n                tapTarget: tapTarget\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Destory TapTarget\n        this.state.tapTarget.destory();\n    }\n\n    render() {\n        return (\n            <div className=\"tap-target indigo accent-2\" data-target=\"menu\">\n                <div className=\"tap-target-content white-text\">\n                    <h5>Welcome to TERRENVIRON!</h5>\n                    <p>This is the geospatial tool developed for the enviromental monitoring for shurblands and savannah in Southern Africa.</p>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Feature;\n","/* Written by Ye Liu */\n\nconst mapStyles = {\n    Streets: 'mapbox://styles/mapbox/streets-v11',\n    Light: 'mapbox://styles/mapbox/light-v10',\n    Dark: 'mapbox://styles/mapbox/dark-v10',\n    Navigation: 'mapbox://styles/mapbox/navigation-night-v1'\n};\n\n\nconst buildHeatmapStyle = (color) => {\n    const heatmap = {\n        'heatmap-weight': ['interpolate', ['linear'], ['get', 'mag'], 10, 10, 16, 16],\n        'heatmap-intensity': ['interpolate', ['linear'], ['zoom'], 10, 10, 19, 19],\n        'heatmap-radius': ['interpolate', ['linear'], ['zoom'], 10, 12, 19, 30],\n        'heatmap-color': ['interpolate', ['linear'], ['heatmap-density'], 0, 'rgba(0,0,0,0)', 0.2, '#67A9CF', 0.4, '#D1E5F0', 1]\n    };\n\n    heatmap['heatmap-color'].push(color);\n    return heatmap;\n}\n\nconst buildPolygonStyle = (color) => {\n    console.log(color)\n    const polygon = {\n        'fill-color': '#f08',\n        'fill-opacity': 0.4    \n    };\n\n    return polygon;\n}\n\n\nexport { mapStyles, buildHeatmapStyle, buildPolygonStyle };","/* Written by Ye Liu */\n\nimport React from 'react';\n\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Icon from '@material-ui/core/Icon';\n\nimport emitter from '@utils/events.utils';\nimport { mapStyles } from '@utils/map.utils';\nimport '@styles/styleController.style.css';\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        width: 320,\n        margin: 0,\n        zIndex: 900\n    },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    stylePreview: {\n        width: 60,\n        height: 60,\n        borderRadius: 2,\n        cursor: 'pointer'\n    }\n};\n\nclass StyleController extends React.Component {\n    state = {\n        open: false\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleStyleClick = (e) => {\n        emitter.emit('setMapStyle', e);\n        this.handleCloseClick();\n    }\n\n    componentDidMount() {\n        // Bind event listeners\n        this.openStyleControllerListener = emitter.addListener('openStyleController', () => {\n            this.setState({\n                open: true\n            });\n        });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openStyleControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n    }\n\n    render() {\n        return (\n            <Slide direction=\"left\" in={this.state.open}>\n                <Card style={styles.root}>\n                    {/* Card header */}\n                    <CardContent style={styles.header}>\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">Map Styles</Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">Click to choose a map style</Typography>\n                        <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                            <Icon fontSize=\"inherit\">chevron_right</Icon>\n                        </IconButton>\n                    </CardContent>\n\n                    {/* Card content */}\n                    <CardContent>\n                        <Grid container spacing={2}>\n                            {Object.keys(mapStyles).map((item, index) => {\n                                console.log(item)\n                                return (\n                                    <Grid item style={styles.styleCard} key={index} xs={3}>\n                                        <img src={`./static/assets/${item}.png`} alt=\"\" className=\"hoverable\" style={styles.stylePreview} onClick={this.handleStyleClick.bind(this, item)} />\n                                    </Grid>\n                                );\n                            })}\n                        </Grid>\n                    </CardContent>\n                </Card>\n            </Slide>\n        );\n    }\n}\n\nexport default StyleController;\n","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport emitter from '@utils/events.utils';\nimport { Card, CardContent, Checkbox, FormControl, Icon, IconButton, InputLabel, List, ListItem, ListItemText, MenuItem, Select, Slide, Tooltip, Typography } from '@material-ui/core';\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\n\nconst GlobalStyles = createTheme({\n    typography: {\n        fontFamily: 'Lato, Arial, sans-serif',\n    },\n    overrides: {\n        MuiCssBaseline: {\n            '@global': {\n                body: {\n                    fontFamily: 'Lato, Arial, sans-serif',\n                },\n            },\n        },\n    },\n});\n\n  \n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        width: 300,\n        borderRadius: 9,\n        margin: 0,\n        zIndex: 900,\n        boxShadow: '-6px 6px 15px rgba(0, 0, 0, 0.15)',\n    },\n    header: {\n        backgroundColor: 'rgb(138, 213, 137)'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    content: {\n        paddingBottom: 16\n    },\n    select: {\n        width: '100%'\n    },\n    layerList: {\n        marginTop: 6,\n        paddingBottom: 0\n    },\n    layerItem: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        paddingLeft: 2,\n        paddingRight: 5, // Ensure some space at the right\n    },\n    layerText: {\n        flexGrow: 1,\n        maxWidth: '120px', // Set a max width for the layer text\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n    },\n    checkbox: {\n        marginRight: '8px', // Add space between the checkbox and text\n    },\n    slider: {\n        width: '80px', // Adjust the width of the slider\n        marginLeft: '10px'\n    }\n};\n\nclass LayerController extends React.Component {\n    state = {\n        open: false,\n        mapp: null,\n        selected: {},\n        resolution: 7,\n        zoom: 0,\n        layerForm: 'Border',\n        datasets: {},\n        layers: [],\n        assets: [], // Aqu guardaremos los assets de GEE\n        selectedAsset: '', // Aqu guardamos el asset seleccionado por el usuario\n        mapUrl: '' // Aqu guardamos la URL del mapa generado\n\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    truncateLayerName = (name) => {\n        if (name.length > 13) {\n            return name.substring(0, 10) + '...'; // Keep the first 10 characters and add '...'\n        }\n        return name; // Return the name as is if it's 13 characters or fewer\n    }\n\n    handleDatasetChange = async (e) => {\n        var deleting = false;\n        Object.keys(this.state.selected).map(item => {\n            deleting = true;\n            this.setState({\n                selected: {}\n            });\n            return true;\n        });\n\n        if (!deleting && e.target.value.length) {\n            const id = e.target.value[e.target.value.length - 1];\n            emitter.emit('showSnackbar', 'default', `Downloading dataset '${id}'.`);\n            emitter.emit('displayDataset', id, this.state.datasets[id].data, '#f08');\n            emitter.emit('showSnackbar', 'success', `Dataset '${id}' downloaded successfully.`);\n        }\n    };\n\n    handleShapeChange = (e) => {\n        this.setState({ shape: e.target.value });\n    }\n\n    // Toggle visibility of a layer and emit event to canvas.jsx\n    // Manejar el cambio de visibilidad\n    handleLayerVisibilityChange = (layerId) => {\n        const updatedLayers = this.state.layers.map(layer =>\n            layer.id === layerId ? { ...layer, visible: !layer.visible } : layer\n        );\n        this.setState({ layers: updatedLayers });\n\n        // Emitimos un evento para cambiar la visibilidad de la capa en Canvas\n        emitter.emit('toggleLayerVisibility', layerId, updatedLayers.find(layer => layer.id === layerId).visible);\n    };\n\n    // Manejar el cambio de transparencia\n    handleTransparencyChange = (layerId, value) => {\n        const updatedLayers = this.state.layers.map(layer =>\n            layer.id === layerId ? { ...layer, transparency: value } : layer\n        );\n        this.setState({ layers: updatedLayers });\n\n        // Emitimos un evento para cambiar la transparencia de la capa en Canvas\n        emitter.emit('changeLayerTransparency', layerId, value / 100);  // Normalizamos de 0 a 1\n    };\n\n\n    // Funcin para cortar el nombre del asset despus del \"/0\" o devolver el nombre si no lo tiene\n    splitAssetName = (assetPath) => {\n        const parts = assetPath.split('/'); // Dividimos el path por \"/\"\n        let lastPart = parts[parts.length - 1]; // Tomamos la ltima parte del path\n    \n        // Si el nombre comienza con \"0\", lo removemos\n        if (lastPart.startsWith('0')) {\n            lastPart = lastPart.substring(1); // Eliminar el primer carcter (\"0\")\n        }\n        \n        return lastPart; // Devolver la ltima parte procesada\n    };\n\n\n    handleDrop = (event) => {\n        event.preventDefault();\n        const files = event.dataTransfer.files;\n        if (files.length > 0) {\n            const file = files[0];\n            const reader = new FileReader();\n            reader.onload = (e) => {\n                const data = JSON.parse(e.target.result);\n                const geoJsonData = data;\n\n                // Add the new layer with default visibility and transparency\n                const newLayer = { id: file.name, visible: true, transparency: 100 };\n\n                // Update layers and datasets\n                this.setState((prevState) => ({\n                    datasets: { ...prevState.datasets, [file.name]: { data: geoJsonData } },\n                    layers: [...prevState.layers, newLayer]\n                }));\n\n                emitter.emit('displayDataset', file.name, geoJsonData);\n                emitter.emit('showSnackbar', 'success', `Dataset '${file.name}' added as a layer successfully.`);\n            };\n            reader.readAsText(file);\n        }\n    }; \n\n    componentDidMount() {\n        this.fetchAssets();  // Cargar los assets de GEE\n\n        this.openLayerControllerListener = emitter.addListener('openLayerController', () => {\n            this.setState({ open: true });\n        });\n\n        this.newLayerListener = emitter.addListener('newLayer', (newLayer) => {\n            this.setState((prevState) => ({\n                layers: [...prevState.layers, newLayer]\n            }));\n        });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({ open: false });\n        });\n\n        this.setMapZoomListener = emitter.addListener('setMapZoom', (z) => {\n            this.setState({ zoom: z });\n        });\n\n        this.handleDatasetRemoveListener = emitter.addListener('handleDatasetRemove', () => {\n            this.handleDatasetRemove();\n        });\n\n        window.addEventListener('dragover', this.handleDragOver);\n        window.addEventListener('drop', this.handleDrop);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.map !== prevProps.map) {\n            this.updateDatasets();\n        }\n    }\n\n    fetchAssets = async () => {\n        try {\n            const response = await fetch('http://localhost:5004/list-assets');\n            const data = await response.json();\n            console.log(data.assets)\n            this.setState({ assets: data.assets });\n        } catch (error) {\n            console.error('Error fetching assets:', error);\n        }\n    };\n\n    fetchMapUrl = async (assetId, assetType) => {\n        try {\n            const response = await fetch('http://localhost:5004/get-map-url', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ asset_id: assetId, asset_type: assetType }),\n            });\n            const data = await response.json();\n            console.log(data);\n            this.setState({ mapUrl: data.map_url });\n            emitter.emit('moveURL', [data.map_url, assetId]);  // Emitir evento para Canvas\n        } catch (error) {\n            console.error('Error fetching map URL:', error);\n        }\n    };\n\n    handleAssetChange = (event) => {\n        const selectedAsset = event.target.value.id;  // Obtenemos el id del asset\n        const selectedType = event.target.value.type;  // Obtenemos el tipo del asset\n    \n        this.setState({\n            selectedAsset: selectedAsset,\n            selectedAssetType: selectedType\n        });\n    \n        // Obtener la URL del mapa del asset seleccionado\n        this.fetchMapUrl(selectedAsset, selectedType);\n    };\n    \n\n    handleDatasetRemove() {\n        this.setState({ datasets: {}, selected: {} });\n    }\n\n    componentWillUnmount() {\n        emitter.removeListener(this.openLayerControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.setMapZoomListener);\n        emitter.removeListener(this.handleDatasetRemoveListener);\n        emitter.removeListener(this.newLayerListener);  \n        window.removeEventListener('dragover', this.handleDragOver);\n        window.removeEventListener('drop', this.handleDrop);\n    }\n\n    render() {\n        console.log(this.state.layers)\n        return (\n            <MuiThemeProvider theme={GlobalStyles}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        <CardContent style={styles.header}>\n                            <Typography gutterBottom style={{ fontFamily: 'Lato, Arial, sans-serif', color:'white', fontWeight:'3' }} variant=\"h5\" component=\"h2\">Layers</Typography>\n                            <Typography variant=\"body2\" color=\"textSecondary\">Manage and control layers</Typography>\n                            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={() => this.setState({ open: false })}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n\n                        <CardContent style={styles.content}>\n\n                        <FormControl style={styles.select}>\n                                <InputLabel>Assets</InputLabel>\n                                <Select\n                                    value={this.state.selectedAsset}\n                                    onChange={this.handleAssetChange}\n                                >\n                                    {this.state.assets.map(asset => (\n                                        <MenuItem\n                                        key={asset.id}\n                                        value={{ id: asset.id, type: asset.type }}  // Pasamos un objeto con id y type\n                                    >\n                                {this.splitAssetName(asset.id)}\n                                </MenuItem>\n                                    ))}\n                                </Select>\n                        </FormControl>\n                            \n                            <List id=\"layers\" style={styles.layerList}>\n                                {this.state.layers.map(layer => (\n                                    <ListItem style={styles.layerItem} key={layer.id}>\n                                        <ListItemText primary={\n                                            <span style={styles.layerText}>\n                                                            <Tooltip title={this.splitAssetName(layer.id)} sx={{ fontSize: '1.2rem' }} // Aumentar el tamao de la fuente en la tooltip\n                                                            >\n                <span style={{ whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', display: 'block' }}>\n                {this.truncateLayerName(this.splitAssetName(layer.id))}\n                </span>\n            </Tooltip>\n                                            </span>\n                                        } />\n                                        <Checkbox\n                                            checked={layer.visible}\n                                            onChange={() => this.handleLayerVisibilityChange(layer.id)}\n                                            color=\"primary\"\n                                        />\n                                        <Slider\n                                            value={layer.transparency}\n                                            onChange={(e, value) => this.handleTransparencyChange(layer.id, value)}\n                                            min={0}\n                                            max={100}\n                                            style={{ width: '100px' }}\n                                        />\n                                    </ListItem>\n                                ))}\n                            </List>\n\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </MuiThemeProvider>\n        );\n    }\n}\n\nexport default LayerController;","/* Written by Ye Liu */\n\nconst geocoder = (query) => {\n    var matches = query.match(/^[ ]*(?:Lat: )?(-?\\d+\\.?\\d*)[, ]+(?:Lng: )?(-?\\d+\\.?\\d*)[ ]*$/i);\n    if (!matches) {\n        return null;\n    }\n\n    var coordinateFeature = (lng, lat) => {\n        return {\n            center: [lng, lat],\n            geometry: {\n                type: 'Point',\n                coordinates: [lng, lat]\n            },\n            place_name: 'Lat: ' + lat + ' Lng: ' + lng,\n            place_type: ['coordinate'],\n            properties: {},\n            type: 'Feature'\n        };\n    };\n\n    var coord1 = Number(matches[1]);\n    var coord2 = Number(matches[2]);\n    var geocodes = [];\n\n    if (coord1 < -90 || coord1 > 90) {\n        geocodes.push(coordinateFeature(coord1, coord2));\n    }\n\n    if (coord2 < -90 || coord2 > 90) {\n        geocodes.push(coordinateFeature(coord2, coord1));\n    }\n\n    if (geocodes.length === 0) {\n        geocodes.push(coordinateFeature(coord1, coord2));\n        geocodes.push(coordinateFeature(coord2, coord1));\n    }\n\n    return geocodes;\n};\n\nexport default geocoder;\n","/* Written by Ye Liu */\n\nconst marker = {\n    width: 200,\n    height: 200,\n    data: new Uint8Array(200 * 200 * 4),\n\n    onAdd: function (map) {\n        const canvas = document.createElement('canvas');\n        canvas.width = this.width;\n        canvas.height = this.height;\n        this.context = canvas.getContext('2d');\n        this.map = map;\n    },\n\n    render: function () {\n        const context = this.context;\n        const t = (performance.now() % 1000) / 1000;\n\n        // Draw outer circle\n        context.clearRect(0, 0, this.width, this.height);\n        context.beginPath();\n        context.arc(this.width / 2, this.height / 2, 70 * t + 30, 0, Math.PI * 2);\n        context.fillStyle = 'rgba(200, 200, 255,' + (1 - t) + ')';\n        context.fill();\n\n        // Draw inner circle\n        context.beginPath();\n        context.arc(this.width / 2, this.height / 2, 30, 0, Math.PI * 2);\n        context.fillStyle = 'rgba(100, 100, 255, 1)';\n        context.strokeStyle = 'white';\n        context.lineWidth = 2 + 4 * (1 - t);\n        context.fill();\n        context.stroke();\n\n        // Update image with data from the canvas\n        this.data = context.getImageData(0, 0, this.width, this.height).data;\n\n        // Keep the map repainting\n        this.map.triggerRepaint();\n\n        return true;\n    }\n};\n\nexport default marker;\n","/* Written by Ye Liu */\n\nimport mapboxgl from 'mapbox-gl';\n\nMinimap.prototype = Object.assign({}, mapboxgl.NavigationControl.prototype, {\n    options: {\n        style: 'mapbox://styles/almafe2510/clw7qv6il02ok01qr9w4wdbv0',\n        center: [0, 0]\n    },\n\n    onAdd: function (parentMap) {\n        this._container = this._createContainer(parentMap);\n        this._parentMap = parentMap;\n\n        this._miniMap = new mapboxgl.Map({\n            attributionControl: false,\n            container: this._container,\n            style: this.options.style,\n            center: this.options.center,\n            zoom: 0\n        });\n\n        this._miniMap.on('load', this._load.bind(this));\n\n        return this._container;\n    },\n\n    _createContainer: function (parentMap) {\n        var container = document.createElement('div');\n\n        container.id = 'minimap';\n        container.className = 'mapboxgl-ctrl mapboxgl-ctrl-minimap';\n        container.addEventListener('contextmenu', this._preventDefault);\n\n        parentMap.getContainer().appendChild(container);\n\n        return container;\n    },\n\n    _preventDefault: function (e) {\n        e.preventDefault();\n    },\n\n    _load: function () {\n        this._zoomAdjust();\n\n        ['dragPan', 'boxZoom', 'dragRotate', 'keyboard', 'doubleClickZoom', 'touchZoomRotate'].map(item => {\n            this._miniMap[item].disable();\n            return true;\n        });\n\n        var bounds = this._miniMap.getBounds();\n        this._convertBoundsToPoints(bounds);\n\n        this._miniMap.addSource('trackingRect', {\n            'type': 'geojson',\n            'data': {\n                'type': 'Feature',\n                'properties': {\n                    'name': 'trackingRect'\n                },\n                'geometry': {\n                    'type': 'Polygon',\n                    'coordinates': this._trackingRectCoordinates\n                }\n            }\n        });\n\n        this._miniMap.addLayer({\n            'id': 'trackingRectOutline',\n            'type': 'line',\n            'source': 'trackingRect',\n            'layout': {},\n            'paint': {\n                'line-color': '#08F',\n                'line-width': 1,\n                'line-opacity': 1\n            }\n        });\n\n        this._miniMap.addLayer({\n            'id': 'trackingRectFill',\n            'type': 'fill',\n            'source': 'trackingRect',\n            'layout': {},\n            'paint': {\n                'fill-color': '#08F',\n                'fill-opacity': 0.25\n            }\n        });\n\n        this._trackingRect = this._miniMap.getSource('trackingRect');\n\n        this._parentMap.on('move', this._update.bind(this));\n        this._parentMap.on('zoom', this._zoomAdjust.bind(this));\n\n        this._miniMap.on('mousemove', this._mouseMove.bind(this));\n        this._miniMap.on('mousedown', this._mouseDown.bind(this));\n        this._miniMap.on('mouseup', this._mouseUp.bind(this));\n\n        this._miniMap.on('touchmove', this._mouseMove.bind(this));\n        this._miniMap.on('touchstart', this._mouseDown.bind(this));\n        this._miniMap.on('touchend', this._mouseUp.bind(this));\n\n        this._miniMapCanvas = this._miniMap.getCanvasContainer();\n        this._miniMapCanvas.addEventListener('wheel', this._preventDefault);\n        this._miniMapCanvas.addEventListener('mousewheel', this._preventDefault);\n\n        this._update();\n    },\n\n    _mouseDown: function (e) {\n        if (this._isCursorOverFeature) {\n            this._isDragging = true;\n            this._previousPoint = this._currentPoint;\n            this._currentPoint = [e.lngLat.lng, e.lngLat.lat];\n        }\n    },\n\n    _mouseUp: function () {\n        this._isDragging = false;\n        this._ticking = false;\n    },\n\n    _mouseMove: function (e) {\n        this._ticking = false;\n\n        var features = this._miniMap.queryRenderedFeatures(e.point, {\n            layers: ['trackingRectFill']\n        });\n\n        if (!this._isCursorOverFeature || features.length <= 0) {\n            this._isCursorOverFeature = features.length > 0;\n            this._miniMapCanvas.style.cursor = this._isCursorOverFeature ? 'move' : '';\n        }\n\n        if (this._isDragging) {\n            this._previousPoint = this._currentPoint;\n            this._currentPoint = [e.lngLat.lng, e.lngLat.lat];\n\n            var offset = [this._currentPoint[0] - this._previousPoint[0], this._currentPoint[1] - this._previousPoint[1]];\n            var newBounds = this._moveTrackingRect(offset);\n\n            this._parentMap.fitBounds(newBounds, {\n                duration: 80,\n                noMoveStart: true\n            });\n        }\n    },\n\n    _moveTrackingRect: function (offset) {\n        var bounds = this._trackingRect._data.properties.bounds;\n\n        bounds._ne.lng += offset[0];\n        bounds._ne.lat += offset[1];\n        bounds._sw.lng += offset[0];\n        bounds._sw.lat += offset[1];\n\n        this._convertBoundsToPoints(bounds);\n        this._trackingRect.setData(this._trackingRect._data);\n\n        return bounds;\n    },\n\n    _setTrackingRectBounds: function (bounds) {\n        this._convertBoundsToPoints(bounds);\n        this._trackingRect._data.properties.bounds = bounds;\n        this._trackingRect.setData(this._trackingRect._data);\n    },\n\n    _convertBoundsToPoints: function (bounds) {\n        this._trackingRectCoordinates[0][0][0] = bounds._ne.lng;\n        this._trackingRectCoordinates[0][0][1] = bounds._ne.lat;\n        this._trackingRectCoordinates[0][1][0] = bounds._sw.lng;\n        this._trackingRectCoordinates[0][1][1] = bounds._ne.lat;\n        this._trackingRectCoordinates[0][2][0] = bounds._sw.lng;\n        this._trackingRectCoordinates[0][2][1] = bounds._sw.lat;\n        this._trackingRectCoordinates[0][3][0] = bounds._ne.lng;\n        this._trackingRectCoordinates[0][3][1] = bounds._sw.lat;\n        this._trackingRectCoordinates[0][4][0] = bounds._ne.lng;\n        this._trackingRectCoordinates[0][4][1] = bounds._ne.lat;\n    },\n\n    _update: function () {\n        if (this._isDragging) {\n            return;\n        }\n\n        var parentBounds = this._parentMap.getBounds();\n        this._setTrackingRectBounds(parentBounds);\n    },\n\n    _zoomAdjust: function () {\n        var parentZoom = parseInt(this._parentMap.getZoom());\n        this._miniMap.flyTo({\n            center: this._parentMap.getCenter(),\n            zoom: parentZoom < 4 ? 0 : parentZoom - 3,\n            bearing: 0\n        });\n    }\n});\n\nfunction Minimap(options) {\n    Object.assign(this.options, options);\n\n    this._ticking = false;\n    this._lastMouseMoveEvent = null;\n    this._parentMap = null;\n    this._isDragging = false;\n    this._isCursorOverFeature = false;\n    this._previousPoint = [0, 0];\n    this._currentPoint = [0, 0];\n    this._trackingRectCoordinates = [[[], [], [], [], []]];\n}\n\nexport default Minimap;\n","/* Written by Ye Liu */\n\n// Mapbox-GL library access token\nconst ACCESS_TOKEN = 'pk.eyJ1IjoiZ2Fydm94IiwiYSI6ImNseHZucnRpcDB4Y3EycXNkNjRuM3drNWsifQ.V5lH9roOpH9a6Jphwybprw';\n\nexport { ACCESS_TOKEN };\n","import MapboxDraw from '@mapbox/mapbox-gl-draw';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport MapboxTraffic from '@mapbox/mapbox-gl-traffic';\nimport mapboxgl from 'mapbox-gl';\nimport React from 'react';\n\nimport geocoder from '@plugins/geocoder.plugin';\nimport marker from '@plugins/marker.plugin';\nimport Minimap from '@plugins/minimap.plugin';\n\nimport { ACCESS_TOKEN } from '@/config';\nimport '@styles/map.style.css';\nimport emitter from '@utils/events.utils';\nimport { mapStyles } from '@utils/map.utils';\n\nconst styles = {\n    root: {\n        width: '100%',\n        position: 'fixed',\n        top: 64,\n        bottom: 0\n    }\n};\n\nclass Canvas extends React.Component {\n    constructor(props) {\n        super(props);\n        this.mapContainer = React.createRef();\n        this.state = {\n            map: null,\n            draw: null,\n            minimap: null,\n            popup: null,\n            gettingPoint: null,\n            tempId: null,\n            styleCode: Object.values(mapStyles)[1].substring(16)\n        };\n    }\n\n    flyToGeometry(map, geometry) {\n        const type = geometry.type;\n        let coordinates;\n\n        if (type === 'FeatureCollection') {\n            const firstFeature = geometry.features[0];\n            coordinates = firstFeature.geometry.coordinates;\n        } else if (type === 'Feature') {\n            coordinates = geometry.geometry.coordinates;\n        } else {\n            coordinates = geometry.coordinates;\n        }\n\n        if (geometry.features[0].geometry.type === 'Polygon') {\n            this.state.map.flyTo({\n                center: coordinates[0][0],\n                zoom: 15\n            });\n        } else if (geometry.features[0].geometry.type === 'Point') {\n            this.state.map.flyTo({\n                center: coordinates,\n                zoom: 17\n            });\n        }\n    }\n\n    removeTempLayer = () => {\n        const layers = this.state.map.getStyle().layers;\n        this.setState({\n            map: null\n        })\n        layers.map(layer => {\n            if (layer.id === 'custom-temp-point') {\n                this.state.map.removeLayer('custom-temp-point');\n                this.state.map.removeSource('custom-temp-point');\n            }\n            return true;\n        });\n\n        if (this.state.popup && this.state.popup.isOpen()) {\n            this.state.popup.remove();\n        }\n    }\n\n    removeAllLayer = () => {\n        const layers = this.state.map.getStyle().layers;\n        layers.map(layer => {\n            if (layer.id.includes('-points')) {\n                this.state.map.removeLayer(layer.id);\n                this.state.map.removeSource(layer.source);\n            }\n            return true;\n        });\n\n        layers.map(layer => {\n            if (layer.id.includes('-boundary')) {\n                this.state.map.removeLayer(layer.id);\n                this.state.map.removeSource(layer.source);\n            }\n            return true;\n        });\n\n        if (this.state.popup && this.state.popup.isOpen()) {\n            this.state.popup.remove();\n        }\n\n        emitter.emit('handleDatasetRemove');\n    }\n\n    add3dLayer = () => {\n        var layers = this.state.map.getStyle().layers;\n        for (var layer in layers) {\n            if (layer.type === 'symbol' && layer.layout['text-field']) {\n                var labelLayerId = layer.id;\n                break;\n            }\n        }\n\n        if (this.state.map.getLayer('3d-buildings')) {\n            this.state.map.moveLayer('3d-buildings', labelLayerId);\n            return;\n        }\n\n        this.state.map.addLayer({\n            'id': '3d-buildings',\n            'source': 'composite',\n            'source-layer': 'building',\n            'filter': ['==', 'extrude', 'true'],\n            'type': 'fill-extrusion',\n            'minzoom': 12,\n            'paint': {\n                'fill-extrusion-color': '#aaa',\n                'fill-extrusion-height': [\n                    \"interpolate\", [\"linear\"], [\"zoom\"],\n                    15, 0,\n                    15.05, [\"get\", \"height\"]\n                ],\n                'fill-extrusion-base': [\n                    \"interpolate\", [\"linear\"], [\"zoom\"],\n                    15, 0,\n                    15.05, [\"get\", \"min_height\"]\n                ],\n                'fill-extrusion-opacity': .6\n            }\n        }, labelLayerId);\n    }\n\n    removeTempPoint = () => {\n        this.state.draw.delete(this.state.tempId);\n        this.setState({\n            tempId: null\n        });\n    }\n\n    componentDidMount() {\n        mapboxgl.accessToken = ACCESS_TOKEN;\n\n        if (!mapboxgl.supported()) {\n            alert('Your browser does not support Mapbox GL');\n            return;\n        }\n\n        const map = new mapboxgl.Map({\n            container: this.mapContainer.current,\n            style: Object.values(mapStyles)[0],\n            center: [-6.002481, 37.377469],\n            zoom: 10,\n            antialias: true\n        });\n\n        const draw = new MapboxDraw({\n            controls: {\n                combine_features: false,\n                uncombine_features: false\n            }\n        });\n\n        const minimap = new Minimap({\n            center: map.getCenter(),\n            style: Object.values(mapStyles)[0]\n        });\n\n        map.addControl(new MapboxGeocoder({\n            accessToken: mapboxgl.accessToken,\n            mapboxgl: mapboxgl,\n            localGeocoder: geocoder,\n            placeholder: 'Search Address',\n            marker: {\n                color: 'red'\n            }\n        }), 'top-left');\n\n        map.addControl(new mapboxgl.NavigationControl(), 'top-left');\n        map.addControl(new mapboxgl.GeolocateControl(), 'top-left');\n        map.addControl(new MapboxTraffic({\n            trafficSource: new RegExp('/*/')\n        }), 'top-left');\n        map.addControl(draw, 'top-left');\n        map.addControl(minimap, 'bottom-left');\n\n        const popup = new mapboxgl.Popup({\n            closeButton: false,\n            anchor: 'bottom'\n        }).setHTML('<div id=\"popup-container\"></div>');\n\n        document.getElementsByClassName('mapboxgl-ctrl-geocoder--input')[0].setAttribute('type', 'search-box');\n\n        map.on('load', () => {\n            this.add3dLayer();\n            // Hide loader\n            document.getElementById('loader-wrapper').classList.add('loaded');        \n            \n        });\n\n        map.on('zoomend', () => {\n            const zoomLevel = map.getZoom();\n            emitter.emit('setMapZoom', zoomLevel);\n        });\n\n        map.on('draw.create', e => {\n            if (!this.state.gettingPoint) {\n                return;\n            }\n\n            // Save temp id\n            this.setState({\n                tempId: e.features[0].id\n            });\n\n            // Set point\n            emitter.emit('setPoint', e.features[0], this.state.styleCode, this.state.map.getZoom());\n\n            // Reset state\n            this.setState({\n                gettingPoint: false\n            })\n        });\n\n        this.setMapStyleListener = emitter.addListener('setMapStyle', e => {\n            if (this.state.popup.isOpen()) {\n                this.state.popup.remove();\n            }\n            \n            this.state.map.setStyle(mapStyles[e]);\n\n            const minimap = new Minimap({\n                center: this.state.map.getCenter(),\n                style: mapStyles[e]\n            });\n\n            this.state.map.removeControl(this.state.minimap);\n            this.state.map.addControl(minimap, 'bottom-left');\n            this.setState({\n                minimap: minimap,\n                styleCode: mapStyles[e].substring(16)\n            });\n        }); \n\n    // Escuchar el evento para cambiar la visibilidad de las capas\n        this.toggleLayerVisibilityListener = emitter.addListener('toggleLayerVisibility', (layerId, visible) => {\n            if (this.state.map.getLayer(layerId)) {\n                this.state.map.setLayoutProperty(layerId, 'visibility', visible ? 'visible' : 'none');\n            }\n        });\n\n        // Escuchar el evento para cambiar la transparencia de las capas\n        this.changeLayerTransparencyListener = emitter.addListener('changeLayerTransparency', (layerId, transparency) => {\n            if (this.state.map.getLayer(layerId)) {\n                this.state.map.setPaintProperty(layerId, 'raster-opacity', transparency);\n            }\n        });\n\n        this.displayDatasetListener = emitter.addListener('displayDataset', (id, geometry) => {\n            if (this.state.map.getSource(id)) {\n                this.state.map.removeSource(id);\n            }\n\n            map.addSource(id, {\n                'type': 'geojson',\n                'data': geometry\n            });\n\n            map.addLayer({\n                'id': id + '-boundary',\n                'type': 'fill',\n                'source': id,\n                'paint': {\n                    'fill-color': '#888888',\n                    'fill-opacity': 0.4\n                },\n                'filter': ['==', '$type', 'Polygon']\n            });\n\n            map.addLayer({\n                'id': id + '-points',\n                'type': 'circle',\n                'source': id,\n                'paint': {\n                    'circle-radius': 6,\n                    'circle-color': '#B42222'\n                },\n                'filter': ['==', '$type', 'Point']\n            });\n\n            this.flyToGeometry(map, geometry);\n        });\n\n        this.removeDatasetListener = emitter.addListener('removeDataset', e => {\n            const layerIds = [e + '-boundary', e + '-points'];\n\n            layerIds.forEach(layerId => {\n                if (this.state.map.getLayer(layerId)) {\n                    this.state.map.removeLayer(layerId);\n                }\n            });\n\n            if (this.state.map.getSource(e)) {\n                this.state.map.removeSource(e);\n            }\n        });\n\n        this.displayTempLayerListener = emitter.addListener('displayTempLayer', e => {\n            this.removeTempLayer();\n\n            if (!this.state.map.hasImage('marker')) {\n                this.state.map.addImage('marker', marker, { pixelRatio: 3 });\n            }\n\n            this.state.map.addLayer({\n                id: 'custom-temp-point',\n                type: 'symbol',\n                source: {\n                    type: 'geojson',\n                    data: e.geometry\n                },\n                layout: {\n                    'icon-image': 'marker'\n                }\n            });\n\n            this.state.popup.setLngLat(e.geometry.geometry.coordinates).addTo(this.state.map);\n            emitter.emit('bindPopup', e);\n\n            this.state.map.flyTo({\n                center: e.geometry.geometry.coordinates,\n                zoom: 6,\n                bearing: 0\n            });\n        });\n\n        this.setState({\n            map: map,\n            draw: draw,\n            minimap: minimap,\n            popup: popup\n        });\n\n        emitter.on('moveURL', this.handleURLMoved);\n\n    }\n\n    handleURLMoved = (movedURL) => {\n        console.log('Received moved data:', movedURL);\n        // Aqu puedes hacer algo con los datos, como establecer el estado\n        this.setState({ url: movedURL[0][0] });\n        \n        // Emitir el evento con el nombre de la capa y la URL\n        emitter.emit('newLayer', {\n            id: movedURL[0][1],  // Nombre de la capa\n            url: movedURL[0][0],  // URL del mapa\n            visible: true,\n            transparency: 100\n        });\n        console.log(movedURL)\n        this.state.map.addLayer({\n            'id': movedURL[0][1],\n            'type': 'raster',\n            'source': {\n                'type': 'raster',\n                'tiles': [\n                    this.state.url\n                ],\n                'tileSize': 256\n            },\n            'paint': {\n                'raster-opacity': 0.8  // Opacidad de la capa de rster\n            }\n        });\n        console.log(this.state.url);\n    };\n    \n    componentWillUnmount() {\n        emitter.removeListener(this.setMapStyleListener);\n        emitter.removeListener(this.displayDatasetListener);\n        emitter.removeListener(this.removeDatasetListener);\n        emitter.removeListener(this.displayTempLayerListener);\n        emitter.removeListener(this.toggleLayerVisibilityListener);\n        emitter.removeListener(this.changeLayerTransparencyListener);  \n    }\n\n    render() {\n        return (\n            <div id=\"map\" style={styles.root} ref={this.mapContainer}>\n            </div>\n        );\n    }\n}\n\nexport default Canvas;","/* Written by Ye Liu */\n\nimport React from 'react';\n\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\n\nimport emitter from '@utils/events.utils';\n\nconst styles = {\n    root: {\n        minWidth: 320,\n        maxWidth: 345\n    },\n    image: {\n        height: 140\n    },\n    titleContainer: {\n        display: 'flex',\n        alignItems: 'space-between',\n        padding: '5px 16px 2px'\n    },\n    titleContainerEnd: {\n        display: 'flex',\n        alignItems: 'space-between',\n        padding: '5px 16px 10px'\n    },\n    nameContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-end',\n        height: 65\n    },\n    popupName: {\n        display: 'inline-block'\n    },\n    popupPinyin: {\n        display: 'inline-block'\n    },\n    weatherWidgetContainer: {\n        position: 'absolute',\n        right: 0,\n        width: 155\n    },\n    introductionContainer: {\n        paddingTop: 5\n    },\n    popupIntroduction: {\n        wordWrap: 'break-word',\n        wordBreak: 'break-all'\n    }\n};\n\nclass Popup extends React.Component {\n    state = {\n        open: false,\n        data: {}\n    }\n\n    componentDidMount() {\n        // Bind event listener\n        this.bindPopupListener = emitter.addListener('bindPopup', e => {\n            // Bind popup\n            var el = document.getElementById('popup');\n            document.getElementById('popup-container').appendChild(el);\n\n            // Load weather widget\n            var script = document.createElement(\"script\");\n            script.type = \"text/javascript\";\n            script.src = `https://darksky.net/widget/default-small/${e.geometry.geometry.coordinates[1].toString()},${e.geometry.geometry.coordinates[0].toString()}/ca12/en.js?height=60`;\n            document.getElementById('customize-script-container').appendChild(script);\n\n            // Display popup\n            this.setState({\n                open: true,\n                data: e\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Remove event listener\n        emitter.removeListener(this.bindPopupListener);\n    }\n\n    render() {\n        return (\n            <Card id=\"popup\" style={styles.root} className={this.state.open ? null : 'hidden'}>\n                {/* Image */}\n                <CardMedia\n                    className={this.state.data.image && this.state.data.image.src ? null : 'hidden'}\n                    style={styles.image}\n                    image={this.state.data.image && this.state.data.image.src ? this.state.data.image.src : '#'}\n                />\n\n                {/* Object Name */}\n                <CardContent style={this.state.data.introduction ? styles.titleContainer : styles.titleContainerEnd}>\n                    <div style={styles.nameContainer}>\n                        <Typography style={styles.popupName} variant=\"h5\" component=\"h2\">{this.state.data.name}</Typography>\n                        <Typography style={styles.popupPinyin} variant=\"subtitle1\" color=\"textSecondary\" component=\"h3\">{this.state.data.pinyin}</Typography>\n                    </div>\n                    <div id=\"customize-script-container\" style={styles.weatherWidgetContainer}></div>\n                </CardContent>\n\n                {/* Object Introduction */}\n                <CardContent style={styles.introductionContainer} className={this.state.data.introduction ? null : 'hidden'}>\n                    <Typography style={styles.popupIntroduction} variant=\"body2\" color=\"textSecondary\" component=\"p\">{this.state.data.introduction}</Typography>\n                </CardContent>\n            </Card >\n        );\n    }\n}\n\nexport default Popup;\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Backdrop , CircularProgress, TextField, Grid, Button} from '@material-ui/core';\nimport { AttachFile, Description, PictureAsPdf, Theaters } from '@material-ui/icons';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport shp from 'shpjs';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& .MuiDropzoneArea-root': {\n      minHeight: '100px',\n      maxHeight: '200px',\n    }\n  },\n  fileDetails: {\n    marginTop: theme.spacing(1),\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: '33.33%',\n    flexShrink: 0,\n    fontWeight: 'bold',\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary,\n  },\n  checkBoxContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    width: '100%',\n  },\n  inputLabel: {\n    marginBottom: theme.spacing(1),\n  },\n  dateInput: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  foormControl: {\n    margin: theme.spacing(3),\n  },\n  dropzone: {\n    minHeight: '191px',\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n  progressText: {\n    marginLeft: theme.spacing(2),\n  },\n}));\n\nexport default function ControlledAccordions({onSubmit}) {\n  const classes = useStyles();\n  const [, setNumericColumns] = useState([]);\n  const [, setSelectedOption] = useState('rf');\n  const [expanded, setExpanded] = useState(false);\n  const [formData, setFormData] = useState({\n    rf: false,\n    svm: false,\n    knn: false,\n    aoiDataFiles: [],\n    startDate: \"2024-04-14\",\n    endDate: \"2024-05-14\",\n    satelliteData: {\n      sentinel1: false,\n      sentinel2: false,\n      landsat: false,\n    },\n    indexes: {\n      vegetationIndexes: false,\n      brightnessIndexes: false,\n      moistureIndexes: false,\n    },\n    modelFeatures: {\n      numberOfTrees: 500,\n      seed: 0.0001,\n      bagFraction: 0,\n    },\n    performanceIndicators: {\n      rsquare: false,\n      rmse: false,\n      mse: false,\n      mae: false,\n      rpiq: false,\n    }\n  });\n  const [loading, setLoading] = useState(false);\n  const [timer, setTimer] = useState(0);\n\n  useEffect(() => {\n    let timerInterval;\n    if (loading) {\n      timerInterval = setInterval(() => {\n        setTimer((prevTimer) => prevTimer + 1);\n      }, 1000);\n    } else {\n      clearInterval(timerInterval);\n    }\n\n    return () => clearInterval(timerInterval);\n  }, [loading]);\n\n  const handleChangeExp = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const handleChange = (event) => {\n    const { name, value, checked, type } = event.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' || type === 'radio' ? checked : value\n    }));\n    if (name === \"options\") {\n      setSelectedOption(value);\n    }\n  };\n\n  const handleFileChange = (name, files) => {\n    if (files && files.length > 0) {\n      const reader = new FileReader();\n      reader.onload = async (event) => {\n        try {\n          const data = await shp(event.target.result);\n          const columns = data.features.length > 0 ? Object.keys(data.features[0].properties) : [];\n          const numericColumns = columns.filter(key => typeof data.features[0].properties[key] === 'number');\n          setNumericColumns(numericColumns);\n        } catch (error) {\n          console.error(\"Error processing shapefile\", error);\n        }\n      };\n      reader.readAsArrayBuffer(files[0]);\n    }\n    setFormData(prev => ({\n      ...prev,\n      [name]: files\n    }));\n    \n  };\n\n  const handlePreviewIcon = (fileObject, classes) => {\n    const {type} = fileObject.file\n    const iconProps = {\n      className : classes.image,\n    }\n  \n    if (type.startsWith(\"video/\")) return <Theaters {...iconProps} />\n  \n    switch (type) {\n      case \"application/msword\":\n      case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n        return <Description {...iconProps} />\n      case \"application/pdf\":\n        return <PictureAsPdf {...iconProps} />\n      default:\n        return <AttachFile {...iconProps} />\n    }\n  }\n\n  const handleSubmit = async () => {\n    try {\n      setLoading(true);\n      setTimer(0); // Reset the timer when the submit button is clicked\n      const data = new FormData();\n      \n      data.append('aoiDataFiles', formData.aoiDataFiles[0]);\n\n      for (const key in formData.satelliteData) {\n        data.append(key, formData.satelliteData[key]);\n      }\n\n      for (const key in formData.indexes) {\n        data.append(key, formData.indexes[key]);\n      }\n\n      for (const key in formData.modelFeatures) {\n        data.append(key, formData.modelFeatures[key]);\n      }\n\n      for (const key in formData.performanceIndicators) {\n        data.append(key, formData.performanceIndicators[key]);\n      }\n      \n      console.log(data);\n\n      const response = await fetch('http://localhost:5004/rusle', {\n         method: 'POST',\n         body: data\n      });\n\n      const result = await response.json();\n      if(result){\n        console.log('Data sent successfully', result);\n        onSubmit(result);\n        setLoading(false);\n      }\n\n\n    } catch (error) {\n      setLoading(false);\n      console.error('Failed to send data', error);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Accordion expanded={expanded === 'panel2'} onChange={handleChangeExp('panel2')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel2bh-content\"\n          id=\"panel2bh-header\"\n        >\n          <Typography className={classes.heading}>Upload Files</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          \n\n          <DropzoneArea\n            onChange={(files) => handleFileChange('aoiDataFiles', files)}\n            acceptedFiles={['.zip']}\n            dropzoneText=\"Area of Interest (AOI)\"\n            maxFileSize={5000000}\n            filesLimit={1}\n            getPreviewIcon={handlePreviewIcon}\n            />\n        </AccordionDetails>\n      </Accordion>\n      \n      <Accordion expanded={expanded === 'panel3'} onChange={handleChangeExp('panel3')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel3bh-content\"\n          id=\"panel3bh-header\"\n        >\n          <Typography className={classes.heading}>Dates</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={10}>\n              <TextField\n                label=\"Start Date\"\n                type=\"date\"\n                name=\"startDate\"\n                value={formData.startDate}\n                onChange={handleChange}\n                className={classes.dateInput}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n              <TextField\n                label=\"End Date\"\n                type=\"date\"\n                name=\"endDate\"\n                value={formData.endDate}\n                onChange={handleChange}\n                className={classes.dateInput}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n            </Grid>\n          </Grid>\n        </AccordionDetails>\n      </Accordion>\n      <div>\n\n\n      </div>\n      <div>\n\n\n      </div>\n      <Button onClick={handleSubmit} color=\"primary\" variant=\"contained\">Submit Data</Button>\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n        <Typography variant=\"h6\" className={classes.progressText}>\n          Ejecutando el modelo... {timer}s\n        </Typography>\n      </Backdrop>\n    </div>\n  );\n}","/* Written by Ye Liu */\n\nimport React from 'react';\nimport M from 'materialize-css';\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Typography, Icon, IconButton } from '@material-ui/core';\n  \nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\n\nimport emitter from '@utils/events.utils';\nimport { ACCESS_TOKEN } from '@/config';\n\nimport '@styles/dataController.style.css';\nimport ControlledAccordions from '@components/componentsJS/ControlledAccordions__';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        minWidth: 350,\n        margin: 0,\n        zIndex: 900\n    },\n    rooot: {\n        width: '100%',\n      },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n      },\n      secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n      },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass RusleController extends React.Component {\n    state = {\n        open: false,\n        resultUnwrap: false,\n        addPointUnwrap: false,\n        optionsOpen: false,\n        searching: false,\n        submitting: false,\n        anchorEl: null,\n        geometry: null,\n        previewImage: null,\n        previewMapUrl: null,\n        previewCoordinate: {},\n        loading: true,\n        traces: [],\n        items: [\n            {id: 1, title: 'item #1'},\n            {id: 2, title: 'item #2'},\n            {id: 3, title: 'item #3'},\n            {id: 4, title: 'item #4'},\n            {id: 5, title: 'item #5'}\n          ]\n        ,\n        data: [],\n        expanded:false\n    }\n\n    calculateSustainabilityIndex = () => {\n        let IoValue = this.state.Io === 1 ? this.state.IoType : 0; // Ajustar el valor de Io basado en si se aplica o no fertilizante\n        const index = 2.45 * this.state.Ic + 2.18 * this.state.Ih + 1.64 * this.state.Ig + 1.09 * IoValue + 1 * this.state.If;\n        this.setState({\n            sustainabilityIndex:index\n        })\n    };\n\n    handleDecision = (choice) => {\n        this.setState({ decision: choice });\n      };    \n\n    initMaterialbox = () => {\n        var elems = document.querySelectorAll('.materialboxed');\n        M.Materialbox.init(elems, {\n            onOpenStart: (e) => {\n                e.parentNode.style.overflow = 'visible';\n            },\n            onCloseEnd: (e) => {\n                e.parentNode.style.overflow = 'hidden';\n            }\n        });\n    }\n    \n    resetPreviewImage = () => {\n        this.setState({\n            previewImage: null\n        });\n    }\n\n    resetNewPointData = () => {\n        this.setState({\n            previewMapUrl: null,\n            geometry: null,\n            previewCoordinate: {}\n        });\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleDataSubmit = (data) => {\n        this.setState({url: data})\n        console.log(\"Datos recibidos en ModelController:\", data);\n        emitter.emit('moveURL', this.state.url);\n        // Puedes manejar los datos como desees aqu\n      };\n\n    handleAddClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        // Exit search mode\n        this.handleWrapClick();\n\n        // Initialize new point data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n\n    handleImageChange = (e) => {\n        // Check if file selected\n        if (!e.target.files[0]) {\n            return;\n        }\n\n        // Check image size (smaller than 1MB)\n        if (e.target.files[0].size > 1048576) {\n            emitter.emit('showSnackbar', 'error', 'Error: Image must be smaller than 1MB.');\n            return;\n        }\n\n        // Encode image with base64\n        this.state.reader.readAsDataURL(e.target.files[0]);\n    }\n\n    handleDoneEdit = () => {\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Initialize Materialbox\n        setTimeout(this.initMaterialbox, 800);\n    }\n\n    handleSearchOptionsClick = () => {\n        this.setState({\n            optionsOpen: true\n        });\n    }\n\n    handleSearchOptionsClose = () => {\n        this.setState({\n            optionsOpen: false\n        });\n    }\n\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handleSearchClick = () => {\n        // Exit add point mode\n        this.handleCancelClick();\n\n        // Get keyword\n        var keyword = document.getElementById('search-box').value;\n        if (!keyword) {\n            return;\n        }\n\n        // Show searching progress\n        this.setState({\n            searching: true\n        });\n\n        // Get search options\n        var options = {};\n        this.state.searchOptions.map(item => {\n            options[item.value] = item.checked;\n            return true;\n        });\n\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSelectChange = (event) => {\n        this.setState({ [event.target.name]: Number(event.target.value) });\n    };\n\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openRusleControllerListener = emitter.addListener('openRusleController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n\n\n    \n        this.moveURListener = emitter.addListener('moveURL', () => {\n            this.moveURL();\n        });\n    }\n\n    \n    setIc(e){\n        this.setState({\n            Ic:e\n        })\n    }\n    setIh(e){\n        this.setState({\n            Ih:e\n        })\n    }\n    setIg(e){\n        this.setState({\n            Ig:e\n        })\n    }\n    setIo(e){\n        this.setState({\n            Io:e\n        })\n    }\n    setIoType(e){\n        this.setState({\n            IoType:e\n        })\n    }\n    setIf(e){\n        this.setState({\n            If:e\n        })\n    }\n\n    moveURL = () => {\n        var url = this.state.url\n        this.setState({ movedURL: url });\n        console.log(this.state.movedURL)\n\n    }\n    processTemperatureData = (data) => {\n        const trace = {\n            type: 'scatter', \n            mode: 'lines',\n            x: data.map(item => new Date(item.sampling_date)),\n            y: data.map(item => item.measurement_value),\n            name: 'Temperatura del Aire HC',\n        };\n\n        this.setState(({\n            temperatureData: [trace],\n            loading: false // Mantiene el estado de carga si hay ms datos por cargar\n        }));\n    }\n\n    processPrecipitationData = (data) => {\n        const trace = {\n            type: 'scatter',\n            mode: 'lines',\n            x: data.map(item => new Date(item.sampling_date)),\n            y: data.map(item => item.measurement_value),\n            name: 'Precipitacin'\n        };\n\n        this.setState({ precipitationData: [trace], loading: false });\n    }\n\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openRusleControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n        emitter.removeListener(this.moveURListener);\n\n\n        // Destory Materialbox\n        //                         {loading ? <p>Cargando datos...</p> : <Plot data={traces} layout={layout} />}\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        return (\n            <MuiThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                        <Typography variant=\"h5\" className={styles.title}>RUSLE Modelling</Typography>\n                        &nbsp;&nbsp;\n            <ControlledAccordions onSubmit={this.handleDataSubmit}/>\n            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </MuiThemeProvider >\n        );\n    }\n}\n\nexport default RusleController;","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Backdrop , CircularProgress, Checkbox, FormControlLabel, FormGroup, InputLabel, MenuItem,TextField, FormControl, Grid, Button, RadioGroup, Radio, Select} from '@material-ui/core';\nimport { AttachFile, Description, PictureAsPdf, Theaters } from '@material-ui/icons';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport shp from 'shpjs';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& .MuiDropzoneArea-root': {\n      minHeight: '100px',\n      maxHeight: '200px',\n    }\n  },\n  fileDetails: {\n    marginTop: theme.spacing(1),\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: '33.33%',\n    flexShrink: 0,\n    fontWeight: 'bold',\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary,\n  },\n  checkBoxContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    width: '100%',\n  },\n  inputLabel: {\n    marginBottom: theme.spacing(1),\n  },\n  dateInput: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  foormControl: {\n    margin: theme.spacing(3),\n  },\n  dropzone: {\n    minHeight: '191px',\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n  progressText: {\n    marginLeft: theme.spacing(2),\n  },\n}));\n\nexport default function ControlledAccordions({onSubmit}) {\n  const classes = useStyles();\n  const [numericColumns, setNumericColumns] = useState([]);\n  const [selectedColumn, setSelectedColumn] = useState('');\n  const [selectedOption, setSelectedOption] = useState('rf');\n  const [expanded, setExpanded] = useState(false);\n  const [formData, setFormData] = useState({\n    rf: false,\n    svm: false,\n    knn: false,\n    soilDataFiles: [],\n    aoiDataFiles: [],\n    startDate: \"2024-04-14\",\n    endDate: \"2024-05-14\",\n    satelliteData: {\n      sentinel1: false,\n      sentinel2: false,\n      landsat: false,\n    },\n    indexes: {\n      vegetationIndexes: false,\n      brightnessIndexes: false,\n      moistureIndexes: false,\n    },\n    modelFeatures: {\n      numberOfTrees: 500,\n      seed: 0.0001,\n      bagFraction: 0,\n    },\n    performanceIndicators: {\n      rsquare: false,\n      rmse: false,\n      mse: false,\n      mae: false,\n      rpiq: false,\n    }\n  });\n  const [loading, setLoading] = useState(false);\n  const [timer, setTimer] = useState(0);\n\n  useEffect(() => {\n    let timerInterval;\n    if (loading) {\n      timerInterval = setInterval(() => {\n        setTimer((prevTimer) => prevTimer + 1);\n      }, 1000);\n    } else {\n      clearInterval(timerInterval);\n    }\n\n    return () => clearInterval(timerInterval);\n  }, [loading]);\n\n  const handleChangeExp = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const handleChange = (event) => {\n    const { name, value, checked, type } = event.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' || type === 'radio' ? checked : value\n    }));\n    if (name === \"options\") {\n      setSelectedOption(value);\n    }\n  };\n\n  const handleFileChange = (name, files) => {\n    if (files && files.length > 0) {\n      const reader = new FileReader();\n      reader.onload = async (event) => {\n        try {\n          const data = await shp(event.target.result);\n          const columns = data.features.length > 0 ? Object.keys(data.features[0].properties) : [];\n          const numericColumns = columns.filter(key => typeof data.features[0].properties[key] === 'number');\n          setNumericColumns(numericColumns);\n        } catch (error) {\n          console.error(\"Error processing shapefile\", error);\n        }\n      };\n      reader.readAsArrayBuffer(files[0]);\n    }\n    setFormData(prev => ({\n      ...prev,\n      [name]: files\n    }));\n    \n  };\n\n  const handleColumnChange = (event) => {\n    setSelectedColumn(event.target.value);\n  };\n\n  const handleModelFeatures = () => {\n    switch (selectedOption) {\n      case 'rf':\n        return (\n          <>\n            <div>\n              <Typography className={classes.inputLabel}>Number of trees</Typography>\n              <TextField\n                className={classes.formControl}\n                variant=\"outlined\"\n                name=\"numberOfTrees\"\n                value={formData.modelFeatures.numberOfTrees}\n                onChange={handleChange}\n                type=\"number\"\n              />\n            </div>\n            &nbsp;&nbsp;\n            <div>\n              <Typography className={classes.inputLabel}>Seed</Typography>\n              <TextField\n                className={classes.formControl}\n                variant=\"outlined\"\n                name=\"seed\"\n                value={formData.modelFeatures.seed}\n                onChange={handleChange}\n                type=\"number\"\n                inputProps={{ step: \"0.0001\" }}\n              />\n            </div>\n            &nbsp;&nbsp;\n            <div>\n              <Typography className={classes.inputLabel}>Bag fraction</Typography>\n              <TextField\n                className={classes.formControl}\n                variant=\"outlined\"\n                name=\"bagFraction\"\n                value={formData.modelFeatures.bagFraction}\n                onChange={handleChange}\n                type=\"number\"\n              />\n            </div>\n          </>\n        );\n      case 'svm':\n        return (\n          <>\n            {/* Add SVM specific features here */}\n          </>\n        );\n      case 'knn':\n        return (\n          <>\n            {/* Add KNN specific features here */}\n          </>\n        );\n      default:\n        return null;\n    }\n  };\n\n  const handlePreviewIcon = (fileObject, classes) => {\n    const {type} = fileObject.file\n    const iconProps = {\n      className : classes.image,\n    }\n  \n    if (type.startsWith(\"video/\")) return <Theaters {...iconProps} />\n  \n    switch (type) {\n      case \"application/msword\":\n      case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n        return <Description {...iconProps} />\n      case \"application/pdf\":\n        return <PictureAsPdf {...iconProps} />\n      default:\n        return <AttachFile {...iconProps} />\n    }\n  }\n\n  const handleSubmit = async () => {\n    try {\n      setLoading(true);\n      setTimer(0); // Reset the timer when the submit button is clicked\n      const data = new FormData();\n      \n      data.append('soilDataFiles', formData.soilDataFiles[0]);\n      data.append('aoiDataFiles', formData.aoiDataFiles[0]);\n\n      for (const key in formData.satelliteData) {\n        data.append(key, formData.satelliteData[key]);\n      }\n\n      for (const key in formData.indexes) {\n        data.append(key, formData.indexes[key]);\n      }\n\n      for (const key in formData.modelFeatures) {\n        data.append(key, formData.modelFeatures[key]);\n      }\n\n      for (const key in formData.performanceIndicators) {\n        data.append(key, formData.performanceIndicators[key]);\n      }\n      \n      console.log(data);\n\n      const response = await fetch('http://localhost:5004/soil_organic_prediction', {\n         method: 'POST',\n         body: data\n      });\n\n      const result = await response.json();\n      if(result){\n        console.log('Data sent successfully', result);\n        onSubmit(result);\n        setLoading(false);\n      }\n\n\n    } catch (error) {\n      setLoading(false);\n      console.error('Failed to send data', error);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Accordion expanded={expanded === 'panel1'} onChange={handleChangeExp('panel1')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1bh-content\"\n          id=\"panel1bh-header\"\n        >\n          <Typography className={classes.heading}>Machine learning algorithm</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <FormGroup className={classes.checkBoxContainer}>\n            <RadioGroup row name=\"options\" value={selectedOption} onChange={handleChange}>\n              <FormControlLabel\n                value=\"rf\"\n                control={<Radio />}\n                label=\"RF\"\n              />\n              <FormControlLabel\n                value=\"svm\"\n                control={<Radio />}\n                label=\"SVM\"\n              />\n              <FormControlLabel\n                value=\"knn\"\n                control={<Radio />}\n                label=\"KNN\"\n              />\n            </RadioGroup>\n          </FormGroup>\n        </AccordionDetails>\n      </Accordion>\n      <Accordion expanded={expanded === 'panel2'} onChange={handleChangeExp('panel2')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel2bh-content\"\n          id=\"panel2bh-header\"\n        >\n          <Typography className={classes.heading}>Upload Files</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          \n\n          <DropzoneArea\n            onChange={(files) => handleFileChange('aoiDataFiles', files)}\n            acceptedFiles={['.zip']}\n            dropzoneText=\"Area of Interest (AOI)\"\n            maxFileSize={5000000}\n            filesLimit={1}\n            getPreviewIcon={handlePreviewIcon}\n            />\n        </AccordionDetails>\n      </Accordion>\n      {numericColumns.length > 0 ? (<><Accordion expanded={expanded === 'panel6'} onChange={handleChangeExp('panel6')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel4bh-content\"\n          id=\"panel4bh-header\"\n        >\n          <Typography className={classes.heading}>Variable to Estimate</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n        <FormControl fullWidth>\n        <InputLabel id=\"numeric-column-selector-label\">Select Value to Estimate</InputLabel>\n        <Select\n          labelId=\"numeric-column-selector-label\"\n          id=\"numeric-column-selector\"\n          value={selectedColumn}\n          label=\"Select Numeric Column\"\n          onChange={handleColumnChange}\n        >\n          {numericColumns.map((column, index) => (\n            <MenuItem key={index} value={column}>{column}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n        </AccordionDetails>\n      </Accordion></>) : <></>}\n      \n      <Accordion expanded={expanded === 'panel3'} onChange={handleChangeExp('panel3')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel3bh-content\"\n          id=\"panel3bh-header\"\n        >\n          <Typography className={classes.heading}>Spectral Information Data</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={10}>\n              <TextField\n                label=\"Start Date\"\n                type=\"date\"\n                name=\"startDate\"\n                value={formData.startDate}\n                onChange={handleChange}\n                className={classes.dateInput}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n              <TextField\n                label=\"End Date\"\n                type=\"date\"\n                name=\"endDate\"\n                value={formData.endDate}\n                onChange={handleChange}\n                className={classes.dateInput}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n            </Grid>\n          </Grid>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <FormControl component=\"fieldset\" className={classes.formControl}>\n                <Typography variant=\"subtitle1\">Satellite Data:</Typography>\n                <FormGroup>\n                  <FormControlLabel\n                    control={<Checkbox name=\"sentinel1\" checked={formData.satelliteData.sentinel1} onChange={handleChange} />}\n                    label=\"Sentinel-1\"\n                  />\n                  <FormControlLabel\n                    control={<Checkbox name=\"sentinel2\" checked={formData.satelliteData.sentinel2} onChange={handleChange} />}\n                    label=\"Sentinel-2\"\n                  />\n                  <FormControlLabel\n                    control={<Checkbox name=\"landsat\" checked={formData.satelliteData.landsat} onChange={handleChange} />}\n                    label=\"Landsat\"\n                  />\n                </FormGroup>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <FormControl component=\"fieldset\" className={classes.formControl}>\n                <Typography variant=\"subtitle1\">Indexes:</Typography>\n                <FormGroup>\n                  <FormControlLabel\n                    control={<Checkbox name=\"vegetationIndexes\" checked={formData.indexes.vegetationIndexes} onChange={handleChange} />}\n                    label=\"Vegetation indexes\"\n                  />\n                  <FormControlLabel\n                    control={<Checkbox name=\"brightnessIndexes\" checked={formData.indexes.brightnessIndexes} onChange={handleChange} />}\n                    label=\"Brightness indexes\"\n                  />\n                  <FormControlLabel\n                    control={<Checkbox name=\"moistureIndexes\" checked={formData.indexes.moistureIndexes} onChange={handleChange} />}\n                    label=\"Moisture indexes\"\n                  />\n                </FormGroup>\n              </FormControl>\n            </Grid>\n          </Grid>\n        </AccordionDetails>\n      </Accordion>\n      <Accordion expanded={expanded === 'panel4'} onChange={handleChangeExp('panel4')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel4bh-content\"\n          id=\"panel4bh-header\"\n        >\n          <Typography className={classes.heading}>Model features</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          {handleModelFeatures()}\n        </AccordionDetails>\n      </Accordion>\n      <Accordion expanded={expanded === 'panel5'} onChange={handleChangeExp('panel5')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel4bh-content\"\n          id=\"panel4bh-header\"\n        >\n          <Typography className={classes.heading}>Model Performance Indicators</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <FormGroup className={classes.checkBoxContainer}>\n            <FormControlLabel\n              control={<Checkbox name=\"rsquare\" checked={formData.performanceIndicators.rsquare} onChange={handleChange} />}\n              label=\"R SQUARE\"\n            />\n            <FormControlLabel\n              control={<Checkbox name=\"rmse\" checked={formData.performanceIndicators.rmse} onChange={handleChange} />}\n              label=\"RMSE\"\n            />\n            <FormControlLabel\n              control={<Checkbox name=\"mse\" checked={formData.performanceIndicators.mse} onChange={handleChange} />}\n              label=\"MSE\"\n            />\n            <FormControlLabel\n              control={<Checkbox name=\"mae\" checked={formData.performanceIndicators.mae} onChange={handleChange} />}\n              label=\"MAE\"\n            />\n            <FormControlLabel\n              control={<Checkbox name=\"rpiq\" checked={formData.performanceIndicators.rpiq} onChange={handleChange} />}\n              label=\"RPIQ\"\n            />\n          </FormGroup>\n        </AccordionDetails>\n      </Accordion>\n      <div>\n\n\n      </div>\n      <div>\n\n\n      </div>\n      <Button onClick={handleSubmit} color=\"primary\" variant=\"contained\">Submit Data</Button>\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n        <Typography variant=\"h6\" className={classes.progressText}>\n          Ejecutando el modelo... {timer}s\n        </Typography>\n      </Backdrop>\n    </div>\n  );\n}","/* Written by Ye Liu */\n\nimport React from 'react';\nimport M from 'materialize-css';\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Typography, Icon, IconButton } from '@material-ui/core';\n  \nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\n\nimport emitter from '@utils/events.utils';\nimport { ACCESS_TOKEN } from '@/config';\n\nimport '@styles/dataController.style.css';\nimport ControlledAccordions from '@components/componentsJS/ControlledAccordions';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        minWidth: 350,\n        margin: 0,\n        zIndex: 900\n    },\n    rooot: {\n        width: '100%',\n      },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n      },\n      secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n      },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass SocController extends React.Component {\n    state = {\n        open: false,\n        resultUnwrap: false,\n        addPointUnwrap: false,\n        optionsOpen: false,\n        searching: false,\n        submitting: false,\n        anchorEl: null,\n        geometry: null,\n        previewImage: null,\n        previewMapUrl: null,\n        previewCoordinate: {},\n        loading: true\n    }\n\n    handleDecision = (choice) => {\n        this.setState({ decision: choice });\n      };    \n\n    initMaterialbox = () => {\n        var elems = document.querySelectorAll('.materialboxed');\n        M.Materialbox.init(elems, {\n            onOpenStart: (e) => {\n                e.parentNode.style.overflow = 'visible';\n            },\n            onCloseEnd: (e) => {\n                e.parentNode.style.overflow = 'hidden';\n            }\n        });\n    }\n    \n    resetPreviewImage = () => {\n        this.setState({\n            previewImage: null\n        });\n    }\n\n    resetNewPointData = () => {\n        this.setState({\n            previewMapUrl: null,\n            geometry: null,\n            previewCoordinate: {}\n        });\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleDataSubmit = (data) => {\n        this.setState({url: data})\n        console.log(\"Datos recibidos en ModelController:\", data);\n        emitter.emit('moveURL', this.state.url);\n        // Puedes manejar los datos como desees aqu\n      };\n\n    handleAddClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        // Exit search mode\n        this.handleWrapClick();\n\n        // Initialize new point data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n\n    handleImageChange = (e) => {\n        // Check if file selected\n        if (!e.target.files[0]) {\n            return;\n        }\n\n        // Check image size (smaller than 1MB)\n        if (e.target.files[0].size > 1048576) {\n            emitter.emit('showSnackbar', 'error', 'Error: Image must be smaller than 1MB.');\n            return;\n        }\n\n        // Encode image with base64\n        this.state.reader.readAsDataURL(e.target.files[0]);\n    }\n\n    handleDoneEdit = () => {\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Initialize Materialbox\n        setTimeout(this.initMaterialbox, 800);\n    }\n\n    handleSearchOptionsClick = () => {\n        this.setState({\n            optionsOpen: true\n        });\n    }\n\n    handleSearchOptionsClose = () => {\n        this.setState({\n            optionsOpen: false\n        });\n    }\n\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handleSearchClick = () => {\n        // Exit add point mode\n        this.handleCancelClick();\n\n        // Get keyword\n        var keyword = document.getElementById('search-box').value;\n        if (!keyword) {\n            return;\n        }\n\n        // Show searching progress\n        this.setState({\n            searching: true\n        });\n\n        // Get search options\n        var options = {};\n        this.state.searchOptions.map(item => {\n            options[item.value] = item.checked;\n            return true;\n        });\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSelectChange = (event) => {\n        this.setState({ [event.target.name]: Number(event.target.value) });\n    };\n\n    calculateSustainabilityIndex = () => {\n        const { Ic, Ih, Ig, Io, If, IoType } = this.state;\n        let IoValue = Io === 1 ? IoType : 0;\n        const index = 2.45 * Ic + 2.18 * Ih + 1.64 * Ig + 1.09 * IoValue + 1 * If;\n        this.setState({ sustainabilityIndex: index });\n    };\n\n    handleSubmitClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Show button progress\n        this.setState({\n            submitting: true\n        });\n\n\n        // Initiate request\n    }\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openSocControllerListener = emitter.addListener('openSocController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n\n\n    \n        this.moveURListener = emitter.addListener('moveURL', () => {\n            this.moveURL();\n        });\n    }\n\n    \n    setIc(e){\n        this.setState({\n            Ic:e\n        })\n    }\n    setIh(e){\n        this.setState({\n            Ih:e\n        })\n    }\n    setIg(e){\n        this.setState({\n            Ig:e\n        })\n    }\n    setIo(e){\n        this.setState({\n            Io:e\n        })\n    }\n    setIoType(e){\n        this.setState({\n            IoType:e\n        })\n    }\n    setIf(e){\n        this.setState({\n            If:e\n        })\n    }\n\n    moveURL = () => {\n        var url = this.state.url\n        this.setState({ movedURL: url });\n        console.log(this.state.movedURL)\n\n    }\n    processTemperatureData = (data) => {\n        const trace = {\n            type: 'scatter', \n            mode: 'lines',\n            x: data.map(item => new Date(item.sampling_date)),\n            y: data.map(item => item.measurement_value),\n            name: 'Temperatura del Aire HC',\n        };\n\n        this.setState(({\n            temperatureData: [trace],\n            loading: false // Mantiene el estado de carga si hay ms datos por cargar\n        }));\n    }\n\n    processPrecipitationData = (data) => {\n        const trace = {\n            type: 'scatter',\n            mode: 'lines',\n            x: data.map(item => new Date(item.sampling_date)),\n            y: data.map(item => item.measurement_value),\n            name: 'Precipitacin'\n        };\n\n        this.setState({ precipitationData: [trace], loading: false });\n    }\n\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openSocControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n        emitter.removeListener(this.moveURListener);\n\n\n        // Destory Materialbox\n        //                         {loading ? <p>Cargando datos...</p> : <Plot data={traces} layout={layout} />}\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        return (\n            <MuiThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                        <Typography variant=\"h5\" className={styles.title}>Soil Organic Carbon Predictor</Typography>\n                        &nbsp;&nbsp;\n            <ControlledAccordions onSubmit={this.handleDataSubmit}/>\n            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </MuiThemeProvider >\n        );\n    }\n}\n\nexport default SocController;","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Backdrop , CircularProgress, InputLabel, Select,TextField, FormControl, MenuItem, Button } from '@material-ui/core';\nimport Accordion from '@material-ui/core/Accordion';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport { AttachFile, Description, PictureAsPdf, Theaters } from '@material-ui/icons';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    width: '100%',\n  },\n  dateInput: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n  progressText: {\n    marginLeft: theme.spacing(2),\n  },\n}));\n\nexport default function ControlledAccordions({ onSubmit }) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = useState(false);\n  const [formData, setFormData] = useState({\n    startDate: \"2024-04-14\",\n    endDate: \"2024-05-14\",\n    indexType: 'NDVI',\n    aoiDataFiles: []\n  });\n  const [loading, setLoading] = useState(false);\n  const [timer, setTimer] = useState(0);\n\n  useEffect(() => {\n    let timerInterval;\n    if (loading) {\n      timerInterval = setInterval(() => {\n        setTimer((prevTimer) => prevTimer + 1);\n      }, 1000);\n    } else {\n      clearInterval(timerInterval);\n    }\n\n    return () => clearInterval(timerInterval);\n  }, [loading]);\n\n\n  const handleChangeExp = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handlePreviewIcon = (fileObject, classes) => {\n    const {type} = fileObject.file\n    const iconProps = {\n      className : classes.image,\n    }\n  \n    if (type.startsWith(\"video/\")) return <Theaters {...iconProps} />\n  \n    switch (type) {\n      case \"application/msword\":\n      case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n        return <Description {...iconProps} />\n      case \"application/pdf\":\n        return <PictureAsPdf {...iconProps} />\n      default:\n        return <AttachFile {...iconProps} />\n    }\n  }\n\n  const handleFileChange = (name, files) => {\n    if (files && files.length > 0) {\n      const reader = new FileReader();\n      reader.onload = async (event) => {\n        try {\n        } catch (error) {\n          console.error(\"Error processing shapefile\", error);\n        }\n      };\n      reader.readAsArrayBuffer(files[0]);\n    }\n    setFormData(prev => ({\n      ...prev,\n      [name]: files\n    }));\n    \n  };\n\n\n  const handleSubmit = async () => {\n    try {\n      setLoading(true);\n      setTimer(0);\n      const data = new FormData();\n      \n      data.append('aoiDataFiles', formData.aoiDataFiles[0]);\n      data.append('indexType', formData.indexType)\n      data.append('startDate', formData.startDate)\n      data.append('endDate', formData.endDate)\n\n      const response = await fetch('http://localhost:5004/vegetation_index_change_inspector', {\n        method: 'POST',\n        body: data\n      });\n\n      const result = await response.json();\n      console.log(result)\n      if (result) {\n        console.log('Data sent successfully', result);\n        onSubmit(result);\n        setLoading(false);\n        return true;\n      }\n\n    } catch (error) {\n      console.error('Failed to send data', error);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Accordion expanded={expanded === 'panel1'} onChange={handleChangeExp('panel1')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1bh-content\"\n          id=\"panel1bh-header\"\n        >\n          <Typography className={classes.heading}>Choose a veg index</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n        <DropzoneArea\n            onChange={(files) => handleFileChange('aoiDataFiles', files)}\n            acceptedFiles={['.zip']}\n            dropzoneText=\"Area of Interest (AOI)\"\n            maxFileSize={5000000}\n            filesLimit={1}\n            getPreviewIcon={handlePreviewIcon}\n            />\n        </AccordionDetails>\n        <AccordionDetails>\n          <FormControl className={classes.formControl}>\n            <TextField\n              label=\"Start Date\"\n              type=\"date\"\n              name=\"startDate\"\n              value={formData.startDate}\n              onChange={handleChange}\n              className={classes.dateInput}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n            <TextField\n              label=\"End Date\"\n              type=\"date\"\n              name=\"endDate\"\n              value={formData.endDate}\n              onChange={handleChange}\n              className={classes.dateInput}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n            <InputLabel id=\"index-type-label\">Index Type</InputLabel>\n            <Select\n              labelId=\"index-type-label\"\n              id=\"index-type-select\"\n              value={formData.indexType}\n              onChange={handleChange}\n              name=\"indexType\"\n            >\n              <MenuItem value=\"NDVI\">NDVI</MenuItem>\n              <MenuItem value=\"EVI\">EVI</MenuItem>\n              <MenuItem value=\"SAVI\">SAVI</MenuItem>\n            </Select>\n          </FormControl>\n        </AccordionDetails>\n      </Accordion>\n      <Button onClick={handleSubmit} color=\"primary\" variant=\"contained\">Submit Data</Button>\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n        <Typography variant=\"h6\" className={classes.progressText}>\n          Ejecutando el modelo... {timer}s\n        </Typography>\n      </Backdrop>\n    </div>\n  );\n}","/* Written by Ye Liu */\n\nimport React from 'react';\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Typography, Icon, IconButton } from '@material-ui/core';\n  \nimport { ThemeProvider, createTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\n\nimport emitter from '@utils/events.utils';\nimport { ACCESS_TOKEN } from '@/config';\n\nimport '@styles/dataController.style.css';\nimport ControlledAccordions from '@components/componentsJS/ControlledAccordions_';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        minWidth: 350,\n        margin: 0,\n        zIndex: 900\n    },\n    rooot: {\n        width: '100%',\n      },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n      },\n      secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n      },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass VegInspectorController extends React.Component {\n    state = {\n        open: false,\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleDataSubmit = (data) => {\n        this.setState({url: data})\n        console.log(\"Datos recibidos en BandController:\", data);\n        emitter.emit('moveURL', this.state.url);\n        // Puedes manejar los datos como desees aqu\n      };\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handleSearchClick = () => {\n        // Exit add point mode\n        this.handleCancelClick();\n\n        // Get keyword\n        var keyword = document.getElementById('search-box').value;\n        if (!keyword) {\n            return;\n        }\n\n        // Show searching progress\n        this.setState({\n            searching: true\n        });\n\n        // Get search options\n        var options = {};\n        this.state.searchOptions.map(item => {\n            options[item.value] = item.checked;\n            return true;\n        });\n\n        // Initiate request\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSelectChange = (event) => {\n        this.setState({ [event.target.name]: Number(event.target.value) });\n    };\n\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openVegInspectorControllerListener = emitter.addListener('openVegInspectorController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n\n\n    \n        this.moveURListener = emitter.addListener('moveURL', () => {\n            this.moveURL();\n        });\n    }\n\n    \n    \n\n    moveURL = () => {\n        var url = this.state.url\n        this.setState({ movedURL: url });\n        console.log(this.state.movedURL)\n\n    }\n    \n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openBandControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n        emitter.removeListener(this.moveURListener);\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        return (\n            <ThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                        <Typography variant=\"h5\" className={styles.title}>Vegetation Index Change Inspector</Typography>\n                        &nbsp;&nbsp;\n                        <ControlledAccordions onSubmit={this.handleDataSubmit}/>\n            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </ThemeProvider >\n        );\n    }\n}\n\nexport default VegInspectorController;","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Backdrop, CircularProgress, Step, Stepper, StepLabel, InputLabel, MenuItem, TextField, Button, Select } from '@material-ui/core';\nimport { AttachFile, Description, PictureAsPdf, Theaters } from '@material-ui/icons';\nimport Typography from '@material-ui/core/Typography';\nimport { DropzoneArea } from 'material-ui-dropzone';\n\nimport Plot from 'react-plotly.js';\nimport shp from 'shpjs';\n\nconst steps = ['Select your AOI', 'Choose variable', 'Select data range'];\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& .MuiDropzoneArea-root': {\n      minHeight: '100px',\n      maxHeight: '200px',\n    }\n  },\n  fileDetails: {\n    marginTop: theme.spacing(1),\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: '33.33%',\n    flexShrink: 0,\n    fontWeight: 'bold',\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary,\n  },\n  checkBoxContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    width: '100%',\n  },\n  inputLabel: {\n    marginBottom: theme.spacing(1),\n  },\n  dateInput: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  foormControl: {\n    margin: theme.spacing(3),\n  },\n  dropzone: {\n    minHeight: '191px',\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n  progressText: {\n    marginLeft: theme.spacing(2),\n  },\n}));\n\nexport default function HorizontalLinearStepperData({ onSubmit }) {\n  const classes = useStyles();\n  const [, setNumericColumns] = useState([]);\n  const [activeStep, setActiveStep] = useState(0);\n  const [plotData, setPlotData] = useState([]);\n  const [formData, setFormData] = useState({\n    startDate: '',\n    endDate: '',\n    equipmentType: '',\n    dataType: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [timer, setTimer] = useState(0);\n  const [isCompleted, setIsCompleted] = useState(false);\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n    setFormData({\n      startDate: '',\n      endDate: '',\n      equipmentType: '',\n      dataType: ''\n    });\n    setPlotData([]);\n    setIsCompleted(false);  // Reset the completion state\n  };\n\n  const handlePreviewIcon = (fileObject, classes) => {\n    const { type } = fileObject.file;\n    const iconProps = {\n      className: classes.image,\n    };\n\n    if (type.startsWith(\"video/\")) return <Theaters {...iconProps} />;\n\n    switch (type) {\n      case \"application/msword\":\n      case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n        return <Description {...iconProps} />;\n      case \"application/pdf\":\n        return <PictureAsPdf {...iconProps} />;\n      default:\n        return <AttachFile {...iconProps} />;\n    }\n  };\n\n  const handleChange = (event) => {\n    setFormData({ ...formData, [event.target.name]: event.target.value });\n  };\n\n  const processPlotData = (data) => {\n    console.log(data.sort((a, b) => a.Date - b.Date))\n    const sortedData = data.sort((a, b) => a.Date - b.Date);\n    const trace = {\n      type: 'scatter',\n      mode: 'lines',\n      x: sortedData.map(item => new Date(item.Date)),\n      y: sortedData.map(item => item.Value),\n      name: formData.dataType,\n    };\n    setPlotData([trace]);\n  };\n\n  const layoutWatsat = {\n    title: formData.dataType + ' Visualization',\n    xaxis: {\n      title: 'Date',\n      type: 'date'\n    },\n    yaxis: { title: formData.dataType + ' Content' }\n  };\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      setTimer(0);\n\n      const data = new FormData();\n      data.append('aoiDataFiles', formData.aoiDataFiles[0]);\n      data.append('varType', formData.dataType);\n\n      const response = await fetch(`http://localhost:5004/spatiotemporal_analysis`, {\n        method: 'POST',\n        body: data\n      });\n      setIsCompleted(true);  // Mark the process as completed\n\n      const result = await response.json();\n      console.log(result)\n      if (result && result.output) {\n        console.log(result.output[0])\n        //const data = JSON.parse(result.output);\n        console.log(data)\n        processPlotData(result.output);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch data: \", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    let timerInterval;\n    if (loading) {\n      timerInterval = setInterval(() => {\n        setTimer((prevTimer) => prevTimer + 1);\n      }, 1000);\n    } else {\n      clearInterval(timerInterval);\n    }\n\n    return () => clearInterval(timerInterval);\n  }, [loading]);\n\n  const handleFileChange = (name, files) => {\n    if (files && files.length > 0) {\n      const reader = new FileReader();\n      reader.onload = async (event) => {\n        try {\n          const data = await shp(event.target.result);\n          const columns = data.features.length > 0 ? Object.keys(data.features[0].properties) : [];\n          const numericColumns = columns.filter(key => typeof data.features[0].properties[key] === 'number');\n          setNumericColumns(numericColumns);\n        } catch (error) {\n          console.error(\"Error processing shapefile\", error);\n        }\n      };\n      reader.readAsArrayBuffer(files[0]);\n    }\n    setFormData(prev => ({\n      ...prev,\n      [name]: files\n    }));\n  };\n\n  const getStepContent = (step) => {\n    switch (step) {\n      case 0:\n        return (\n          <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column' }}>\n            <DropzoneArea\n              onChange={(files) => handleFileChange('aoiDataFiles', files)}\n              acceptedFiles={['.zip']}\n              dropzoneText=\"Area of Interest (AOI)\"\n              maxFileSize={5000000}\n              filesLimit={1}\n              getPreviewIcon={handlePreviewIcon}\n            />\n          </Box>\n        );\n      case 1:\n        return (\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n            <InputLabel id=\"data-type-label\">Data Type</InputLabel>\n            <Select\n              labelId=\"data-type-label\"\n              id=\"data-type-select\"\n              value={formData.dataType}\n              onChange={handleChange}\n              name=\"dataType\"\n              sx={{ width: 200, margin: 1 }}\n            >\n              <MenuItem value=\"NDVI\">NDVI</MenuItem>\n              <MenuItem value=\"EVI\">EVI</MenuItem>\n              <MenuItem value=\"TSAVI\">TSAVI</MenuItem>\n              <MenuItem value=\"MSI\">MSI</MenuItem>\n              <MenuItem value=\"PRECIPT\">PRECIPT</MenuItem>\n              <MenuItem value=\"TREE_COVER\">TREE COVER %</MenuItem>\n              <MenuItem value=\"ABVGRND_CARBON\">ABVGRND CARBON</MenuItem>\n            </Select>\n          </Box>\n        );\n      case 2:\n        return (\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n            <InputLabel id=\"data-type-label\">Data Range</InputLabel>\n            <TextField\n              label=\"Start Date\"\n              type=\"date\"\n              name=\"startDate\"\n              value={formData.startDate}\n              onChange={handleChange}\n              InputLabelProps={{ shrink: true }}\n              sx={{ margin: 1 }}\n            />\n            <TextField\n              label=\"End Date\"\n              type=\"date\"\n              name=\"endDate\"\n              value={formData.endDate}\n              onChange={handleChange}\n              InputLabelProps={{ shrink: true }}\n              sx={{ margin: 1 }}\n            />\n          </Box>\n        );\n        default:\n    }\n  };\n\n  return (\n    <Box sx={{ width: '100%', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n      {!isCompleted && (\n        <Stepper activeStep={activeStep} sx={{ width: '80%', marginBottom: 2 }}>\n          {steps.map((label) => (\n            <Step key={label}>\n              <StepLabel>{label}</StepLabel>\n            </Step>\n          ))}\n        </Stepper>\n      )}\n      <div>\n        {activeStep === steps.length && !loading ? (\n          <React.Fragment>\n            <Button onClick={handleReset}>Reset</Button>\n            <Plot data={plotData} layout={layoutWatsat} />\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            {getStepContent(activeStep)}\n            <Box sx={{ display: 'flex', flexDirection: 'row', pt: 2, alignItems: 'center', justifyContent: 'center' }}>\n              <Button disabled={activeStep === 0} onClick={handleBack}>\n                Back\n              </Button>\n              <Button\n                onClick={() => {\n                  if (activeStep === steps.length - 1) {\n                    fetchData();\n                  }\n                  handleNext();\n                }}\n              >\n                {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\n              </Button>\n            </Box>\n            {loading && (\n              <Backdrop className={classes.backdrop} open={loading}>\n                <CircularProgress color=\"inherit\" />\n                <Typography variant=\"h6\" className={classes.progressText}>\n                  Ejecutando la consulta... {timer}s\n                </Typography>\n              </Backdrop>\n            )}\n          </React.Fragment>\n        )}\n      </div>\n    </Box>\n  );\n}\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Typography, Icon, IconButton } from '@material-ui/core';\n  \nimport { ThemeProvider, createTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\n\nimport emitter from '@utils/events.utils';\nimport { ACCESS_TOKEN } from '@/config';\n\nimport '@styles/dataController.style.css';\nimport HorizontalLinearStepperData from '../componentsJS/StepperData';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        minWidth: 350,\n        margin: 0,\n        zIndex: 900\n    },\n    rooot: {\n        width: '100%',\n      },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n      },\n      secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n      },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass SpatioTemporalAnalysisController extends React.Component {\n    state = {\n        open: false,\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleDataSubmit = (data) => {\n        this.setState({url: data})\n        console.log(\"Datos recibidos en BandController:\", data);\n        emitter.emit('moveURL', this.state.url);\n        // Puedes manejar los datos como desees aqu\n      };\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSelectChange = (event) => {\n        this.setState({ [event.target.name]: Number(event.target.value) });\n    };\n\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openSpatioTemporalAnalysisControllerListener = emitter.addListener('openSpatioTemporalAnalysisController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n\n\n    \n        this.moveURListener = emitter.addListener('moveURL', () => {\n            this.moveURL();\n        });\n    }\n\n    \n    \n\n    moveURL = () => {\n        var url = this.state.url\n        this.setState({ movedURL: url });\n        console.log(this.state.movedURL)\n\n    }\n    \n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openSpatioTemporalAnalysisControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n        emitter.removeListener(this.moveURListener);\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        return (\n            <ThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                        <Typography variant=\"h5\" className={styles.title}>Spatiotemporal Analysis</Typography>\n                        &nbsp;&nbsp;\n                        <HorizontalLinearStepperData/>\n            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </ThemeProvider >\n        );\n    }\n}\n\nexport default SpatioTemporalAnalysisController;","/* Written by Ye Liu */\n\nimport React from 'react';\nimport { SnackbarProvider } from 'notistack';\n\nimport Snackbar from '@components/snackbar';\nimport About from '@components/about';\nimport Navigator from '@components/navigator';\nimport Menu from '@components/menu';\nimport Login from '@components/login';\nimport Feature from '@components/feature';\nimport StyleController from '@components/controllers/styleController';\nimport LayerController from '@components/controllers/layerController';\nimport Canvas from '@components/canvas';\nimport Popup from '@components/popup';\nimport '@styles/materialize.min.style.css';\nimport RusleController from '../components/controllers/rusleController';\nimport SocController from '../components/controllers/socController'\nimport VegInspectorController from '../components/controllers/vegInspectorController';\nimport SpatioTemporalAnalysisController from '../components/controllers/spatioTemporalAnalysisController';\n\nclass Main extends React.Component {\n    render() {\n        return (\n            <SnackbarProvider maxSnack={3}>\n                <React.Fragment>\n                    <Snackbar />\n                    <About />\n                    <Navigator />\n                    <Menu />\n                    <Login />\n                    <Feature />\n                    <StyleController />\n                    <LayerController />\n                    <SocController />\n                    <RusleController />\n                    <VegInspectorController/>\n                    <SpatioTemporalAnalysisController/>\n                    <Popup />\n                    <Canvas />\n                </React.Fragment>\n            </SnackbarProvider>\n        );\n    }\n}\n\nexport default Main;\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\n\nimport Main from '@pages/main';\n\nconst Router = () => (\n    <HashRouter>\n        <Switch>\n            <Route exact path=\"/\" component={Main} />\n        </Switch>\n    </HashRouter>\n);\n\nexport default Router;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Router from '@router/router';\nimport * as serviceWorker from '@/serviceWorker';\n\nconst App = () => (\n    <Router />\n);\n\n// Render pages\nReactDOM.render(<App />, document.getElementById('root'));\n\n// Let the app work offline and load faster\nserviceWorker.register();"],"sourceRoot":""}